(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},f3NI:function(t,e,n){"use strict";t.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},zUnb:function(t,e,n){"use strict";function i(t){return"function"==typeof t}n.r(e);let r=!1;const s={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}};function o(t){setTimeout(()=>{throw t},0)}const a={closed:!0,next(t){},error(t){if(s.useDeprecatedSynchronousErrorHandling)throw t;o(t)},complete(){}},l=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))();function c(t){return null!==t&&"object"==typeof t}const u=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let h=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:s}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(i(r))try{r.call(this)}catch(o){e=o instanceof u?d(o.errors):[o]}if(l(s)){let t=-1,n=s.length;for(;++t<n;){const n=s[t];if(c(n))try{n.unsubscribe()}catch(o){e=e||[],o instanceof u?e=e.concat(d(o.errors)):e.push(o)}}}if(e)throw new u(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}return t.EMPTY=function(t){return t.closed=!0,t}(new t),t})();function d(t){return t.reduce((t,e)=>t.concat(e instanceof u?e.errors:e),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class f extends h{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!t){this.destination=a;break}if("object"==typeof t){t instanceof f?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,t,e,n)}}[p](){return this}static create(t,e,n){const i=new f(t,e,n);return i.syncErrorThrowable=!1,i}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class m extends f{constructor(t,e,n,r){let s;super(),this._parentSubscriber=t;let o=this;i(e)?s=e:e&&(s=e.next,n=e.error,r=e.complete,e!==a&&(o=Object.create(e),i(o.unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=s,this._error=n,this._complete=r}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;s.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=s;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):o(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;o(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);s.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),s.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(t,e,n){if(!s.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return s.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(o(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}const g=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function y(t){return t}let _=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:i}=this,r=function(t,e,n){if(t){if(t instanceof f)return t;if(t[p])return t[p]()}return t||e||n?new f(t,e,n):new f(a)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||s.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),s.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(t){try{return this._subscribe(t)}catch(e){s.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof f?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=v(e))((e,n)=>{let i;i=this.subscribe(e=>{try{t(e)}catch(r){n(r),i&&i.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[g](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?y:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=v(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function v(t){if(t||(t=s.Promise||Promise),!t)throw new Error("no Promise impl found");return t}const b=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})();class w extends h{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}class C extends f{constructor(t){super(t),this.destination=t}}let S=(()=>{class t extends _{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new C(this)}lift(t){const e=new x(this,this);return e.operator=t,e}next(t){if(this.closed)throw new b;if(!this.isStopped){const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].next(t)}}error(t){if(this.closed)throw new b;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,i=e.slice();for(let r=0;r<n;r++)i[r].error(t);this.observers.length=0}complete(){if(this.closed)throw new b;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let i=0;i<e;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new b;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new b;return this.hasError?(t.error(this.thrownError),h.EMPTY):this.isStopped?(t.complete(),h.EMPTY):(this.observers.push(t),new w(this,t))}asObservable(){const t=new _;return t.source=this,t}}return t.create=(t,e)=>new x(t,e),t})();class x extends S{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):h.EMPTY}}function k(t){return t&&"function"==typeof t.schedule}class E extends f{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const I=t=>e=>{for(let n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()};function T(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=T(),A=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function P(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}const R=t=>{if(t&&"function"==typeof t[g])return i=t,t=>{const e=i[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(A(t))return I(t);if(P(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);if(t&&"function"==typeof t[O])return e=t,t=>{const n=e[O]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=c(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}var e,n,i};function D(t,e,n,i,r=new E(t,n,i)){if(!r.closed)return e instanceof _?e.subscribe(r):R(e)(r)}class M extends f{notifyNext(t,e,n,i,r){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}function N(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new F(t,e))}}class F{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new j(t,this.project,this.thisArg))}}class j extends f{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function L(t,e){return new _(n=>{const i=new h;let r=0;return i.add(e.schedule((function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function V(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new _(n=>{const i=new h;return i.add(e.schedule(()=>{const r=t[g]();i.add(r.subscribe({next(t){i.add(e.schedule(()=>n.next(t)))},error(t){i.add(e.schedule(()=>n.error(t)))},complete(){i.add(e.schedule(()=>n.complete()))}}))})),i})}(t,e);if(P(t))return function(t,e){return new _(n=>{const i=new h;return i.add(e.schedule(()=>t.then(t=>{i.add(e.schedule(()=>{n.next(t),i.add(e.schedule(()=>n.complete()))}))},t=>{i.add(e.schedule(()=>n.error(t)))}))),i})}(t,e);if(A(t))return L(t,e);if(function(t){return t&&"function"==typeof t[O]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new _(n=>{const i=new h;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(()=>{r=t[O](),i.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=r.next();t=n.value,e=n.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())})))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof _?t:new _(R(t))}class B{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new H(t,this.project,this.concurrent))}}class H extends M{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e,t,n)}_innerSub(t,e,n){const i=new E(this,e,n),r=this.destination;r.add(i);const s=D(this,t,void 0,void 0,i);s!==i&&r.add(s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t,e,n,i,r){this.destination.next(e)}notifyComplete(t){const e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function q(t=Number.POSITIVE_INFINITY){return function t(e,n,i=Number.POSITIVE_INFINITY){return"function"==typeof n?r=>r.pipe(t((t,i)=>V(e(t,i)).pipe(N((e,r)=>n(t,e,i,r))),i)):("number"==typeof n&&(i=n),t=>t.lift(new B(e,i)))}(y,t)}function z(t,e){return e?L(t,e):new _(I(t))}function $(...t){let e=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return k(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof i&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof _?t[0]:q(e)(z(t,n))}function W(){return function(t){return t.lift(new U(t))}}class U{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const i=new K(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class K extends f{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class G extends _{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new h,t.add(this.source.subscribe(new Z(this.getSubject(),this))),t.closed&&(this._connection=null,t=h.EMPTY)),t}refCount(){return W()(this)}}const Y=(()=>{const t=G.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class Z extends C{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function Q(){return new S}function X(t){return{toString:t}.toString()}function J(t,e,n){return X(()=>{const i=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function r(...t){if(this instanceof r)return i.apply(this,t),this;const e=new r(...t);return n.annotation=e,n;function n(t,n,i){const r=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(e),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}const tt=J("Inject",t=>({token:t})),et=J("Optional"),nt=J("Self"),it=J("SkipSelf");var rt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function st(t){for(let e in t)if(t[e]===st)return e;throw Error("Could not find renamed property on target object.")}function ot(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function at(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function lt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function ct(t){return ut(t,t[dt])||ut(t,t[mt])}function ut(t,e){return e&&e.token===t?e:null}function ht(t){return t&&(t.hasOwnProperty(pt)||t.hasOwnProperty(gt))?t[pt]:null}const dt=st({"\u0275prov":st}),pt=st({"\u0275inj":st}),ft=st({"\u0275provFallback":st}),mt=st({ngInjectableDef:st}),gt=st({ngInjectorDef:st});function yt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(yt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _t(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const vt=st({__forward_ref__:st});function bt(t){return t.__forward_ref__=bt,t.toString=function(){return yt(this())},t}function wt(t){return Ct(t)?t():t}function Ct(t){return"function"==typeof t&&t.hasOwnProperty(vt)&&t.__forward_ref__===bt}const St="undefined"!=typeof globalThis&&globalThis,xt="undefined"!=typeof window&&window,kt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Et="undefined"!=typeof global&&global,It=St||Et||xt||kt,Tt=st({"\u0275cmp":st}),Ot=st({"\u0275dir":st}),At=st({"\u0275pipe":st}),Pt=st({"\u0275mod":st}),Rt=st({"\u0275loc":st}),Dt=st({"\u0275fac":st}),Mt=st({__NG_ELEMENT_ID__:st});class Nt{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=at({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ft=new Nt("INJECTOR",-1),jt={},Lt=/\n/gm,Vt=st({provide:String,useValue:st});let Bt,Ht=void 0;function qt(t){const e=Ht;return Ht=t,e}function zt(t){const e=Bt;return Bt=t,e}function $t(t,e=rt.Default){if(void 0===Ht)throw new Error("inject() must be called from an injection context");return null===Ht?Kt(t,void 0,e):Ht.get(t,e&rt.Optional?null:void 0,e)}function Wt(t,e=rt.Default){return(Bt||$t)(wt(t),e)}const Ut=Wt;function Kt(t,e,n){const i=ct(t);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&rt.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${yt(t)}]`)}function Gt(t){const e=[];for(let n=0;n<t.length;n++){const i=wt(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=rt.Default;for(let e=0;e<i.length;e++){const r=i[e];r instanceof et||"Optional"===r.ngMetadataName||r===et?n|=rt.Optional:r instanceof it||"SkipSelf"===r.ngMetadataName||r===it?n|=rt.SkipSelf:r instanceof nt||"Self"===r.ngMetadataName||r===nt?n|=rt.Self:t=r instanceof tt||r===tt?r.token:r}e.push(Wt(t,n))}else e.push(Wt(i))}return e}class Yt{get(t,e=jt){if(e===jt){const e=new Error(`NullInjectorError: No provider for ${yt(t)}!`);throw e.name="NullInjectorError",e}return e}}class Zt{}function Qt(t,e){t.forEach(t=>Array.isArray(t)?Qt(t,e):e(t))}function Xt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function te(t,e){const n=[];for(let i=0;i<t;i++)n.push(e);return n}function ee(t,e,n){let i=ie(t,e);return i>=0?t[1|i]=n:(i=~i,function(t,e,n,i){let r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(t,i,e,n)),i}function ne(t,e){const n=ie(t,e);if(n>=0)return t[1|n]}function ie(t,e){return function(t,e,n){let i=0,r=t.length>>1;for(;r!==i;){const n=i+(r-i>>1),s=t[n<<1];if(e===s)return n<<1;s>e?r=n:i=n+1}return~(r<<1)}(t,e)}const re=function(){var t={OnPush:0,Default:1};return t[t.OnPush]="OnPush",t[t.Default]="Default",t}(),se=function(){var t={Emulated:0,Native:1,None:2,ShadowDom:3};return t[t.Emulated]="Emulated",t[t.Native]="Native",t[t.None]="None",t[t.ShadowDom]="ShadowDom",t}(),oe={},ae=[];let le=0;function ce(t){return X(()=>{const e=t.type,n=e.prototype,i={},r={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===re.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ae,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||se.Emulated,id:"c",styles:t.styles||ae,_:null,setInput:null,schemas:t.schemas||null,tView:null},s=t.directives,o=t.features,a=t.pipes;return r.id+=le++,r.inputs=fe(t.inputs,i),r.outputs=fe(t.outputs),o&&o.forEach(t=>t(r)),r.directiveDefs=s?()=>("function"==typeof s?s():s).map(ue):null,r.pipeDefs=a?()=>("function"==typeof a?a():a).map(he):null,r})}function ue(t){return ge(t)||function(t){return t[Ot]||null}(t)}function he(t){return function(t){return t[At]||null}(t)}const de={};function pe(t){const e={type:t.type,bootstrap:t.bootstrap||ae,declarations:t.declarations||ae,imports:t.imports||ae,exports:t.exports||ae,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&X(()=>{de[t.id]=t.type}),e}function fe(t,e){if(null==t)return oe;const n={};for(const i in t)if(t.hasOwnProperty(i)){let r=t[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),n[r]=i,e&&(e[r]=s)}return n}const me=ce;function ge(t){return t[Tt]||null}function ye(t,e){return t.hasOwnProperty(Dt)?t[Dt]:null}function _e(t,e){const n=t[Pt]||null;if(!n&&!0===e)throw new Error(`Type ${yt(t)} does not have '\u0275mod' property.`);return n}function ve(t){return Array.isArray(t)&&"object"==typeof t[1]}function be(t){return Array.isArray(t)&&!0===t[1]}function we(t){return 0!=(8&t.flags)}function Ce(t){return 2==(2&t.flags)}function Se(t){return 1==(1&t.flags)}function xe(t){return null!==t.template}function ke(t){return 0!=(512&t[2])}let Ee=void 0;function Ie(t){return!!t.listen}const Te={createRenderer:(t,e)=>void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0};function Oe(t){for(;Array.isArray(t);)t=t[0];return t}function Ae(t,e){return Oe(e[t+20])}function Pe(t,e){return Oe(e[t.index])}function Re(t,e){return t.data[e+20]}function De(t,e){const n=e[t];return ve(n)?n:n[0]}function Me(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ne(t){return 4==(4&t[2])}function Fe(t){return 128==(128&t[2])}function je(t,e){return null===t||null==e?null:t[e]}function Le(t){t[18]=0}function Ve(t,e){t[5]+=e;let n=t,i=t[3];for(;null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}const Be={lFrame:an(null),bindingsEnabled:!0,checkNoChangesMode:!1};function He(){return Be.bindingsEnabled}function qe(){return Be.lFrame.lView}function ze(){return Be.lFrame.tView}function $e(t){Be.lFrame.contextLView=t}function We(){return Be.lFrame.previousOrParentTNode}function Ue(t,e){Be.lFrame.previousOrParentTNode=t,Be.lFrame.isParent=e}function Ke(){return Be.lFrame.isParent}function Ge(){Be.lFrame.isParent=!1}function Ye(){return Be.checkNoChangesMode}function Ze(t){Be.checkNoChangesMode=t}function Qe(){return Be.lFrame.bindingIndex++}function Xe(t){const e=Be.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function Je(t,e){const n=Be.lFrame;n.bindingIndex=n.bindingRootIndex=t,tn(e)}function tn(t){Be.lFrame.currentDirectiveIndex=t}function en(){return Be.lFrame.currentQueryIndex}function nn(t){Be.lFrame.currentQueryIndex=t}function rn(t,e){const n=on();Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function sn(t,e){const n=on(),i=t[1];Be.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=i,n.contextLView=t,n.bindingIndex=i.bindingStartIndex}function on(){const t=Be.lFrame,e=null===t?null:t.child;return null===e?an(t):e}function an(t){const e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function ln(){const t=Be.lFrame;return Be.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}const cn=ln;function un(){const t=ln();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function hn(){return Be.lFrame.selectedIndex}function dn(t){Be.lFrame.selectedIndex=t}function pn(){const t=Be.lFrame;return Re(t.tView,t.selectedIndex)}function fn(t,e){for(let n=e.directiveStart,i=e.directiveEnd;n<i;n++){const e=t.data[n];e.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,e.afterContentInit),e.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,e.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,e.afterContentChecked)),e.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,e.afterViewInit),e.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,e.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,e.afterViewChecked)),null!=e.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,e.onDestroy)}}function mn(t,e,n){_n(t,e,3,n)}function gn(t,e,n,i){(3&t[2])===n&&_n(t,e,n,i)}function yn(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function _n(t,e,n,i){const r=null!=i?i:-1;let s=0;for(let o=void 0!==i?65535&t[18]:0;o<e.length;o++)if("number"==typeof e[o+1]){if(s=e[o],null!=i&&s>=i)break}else e[o]<0&&(t[18]+=65536),(s<r||-1==r)&&(vn(t,n,e,o),t[18]=(4294901760&t[18])+o+2),o++}function vn(t,e,n,i){const r=n[i]<0,s=n[i+1],o=t[r?-n[i]:n[i]];r?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}class bn{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function wn(t,e,n){const i=Ie(t);let r=0;for(;r<n.length;){const s=n[r];if("number"==typeof s){if(0!==s)break;r++;const o=n[r++],a=n[r++],l=n[r++];i?t.setAttribute(e,a,l,o):e.setAttributeNS(o,a,l)}else{const o=s,a=n[++r];Sn(o)?i&&t.setProperty(e,o,a):i?t.setAttribute(e,o,a):e.setAttribute(o,a),r++}}return r}function Cn(t){return 3===t||4===t||6===t}function Sn(t){return 64===t.charCodeAt(0)}function xn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?n=r:0===n||kn(t,n,r,null,-1===n||2===n?e[++i]:null)}}return t}function kn(t,e,n,i,r){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===i)return void(null!==r&&(t[s+1]=r));if(i===t[s+1])return void(t[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==i&&t.splice(s++,0,i),null!==r&&t.splice(s++,0,r)}function En(t){return-1!==t}function In(t){return 32767&t}function Tn(t){return t>>16}function On(t,e){let n=Tn(t),i=e;for(;n>0;)i=i[15],n--;return i}function An(t){return"string"==typeof t?t:null==t?"":""+t}function Pn(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():An(t)}const Rn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(It))();function Dn(t){return t instanceof Function?t():t}let Mn=!0;function Nn(t){const e=Mn;return Mn=t,e}let Fn=0;function jn(t,e){const n=Vn(t,e);if(-1!==n)return n;const i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Ln(i.data,t),Ln(e,null),Ln(i.blueprint,null));const r=Bn(t,e),s=t.injectorIndex;if(En(r)){const t=In(r),n=On(r,e),i=n[1].data;for(let r=0;r<8;r++)e[s+r]=n[t+r]|i[t+r]}return e[s+8]=r,s}function Ln(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Vn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Bn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=e[6],i=1;for(;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function Hn(t,e,n){!function(t,e,n){let i="string"!=typeof n?n[Mt]:n.charCodeAt(0)||0;null==i&&(i=n[Mt]=Fn++);const r=255&i,s=1<<r,o=64&r,a=32&r,l=e.data;128&r?o?a?l[t+7]|=s:l[t+6]|=s:a?l[t+5]|=s:l[t+4]|=s:o?a?l[t+3]|=s:l[t+2]|=s:a?l[t+1]|=s:l[t]|=s}(t,e,n)}function qn(t,e,n,i=rt.Default,r){if(null!==t){const r=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t[Mt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof r){rn(e,t);try{const t=r();if(null!=t||i&rt.Optional)return t;throw new Error(`No provider for ${Pn(n)}!`)}finally{cn()}}else if("number"==typeof r){if(-1===r)return new Yn(t,e);let s=null,o=Vn(t,e),a=-1,l=i&rt.Host?e[16][6]:null;for((-1===o||i&rt.SkipSelf)&&(a=-1===o?Bn(t,e):e[o+8],Gn(i,!1)?(s=e[1],o=In(a),e=On(a,e)):o=-1);-1!==o;){a=e[o+8];const t=e[1];if(Kn(r,o,t.data)){const t=$n(o,e,n,s,i,l);if(t!==zn)return t}Gn(i,e[1].data[o+8]===l)&&Kn(r,o,e)?(s=t,o=In(a),e=On(a,e)):o=-1}}}if(i&rt.Optional&&void 0===r&&(r=null),0==(i&(rt.Self|rt.Host))){const t=e[9],s=zt(void 0);try{return t?t.get(n,r,i&rt.Optional):Kt(n,r,i&rt.Optional)}finally{zt(s)}}if(i&rt.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Pn(n)}]`)}const zn={};function $n(t,e,n,i,r,s){const o=e[1],a=o.data[t+8],l=Wn(a,o,n,null==i?Ce(a)&&Mn:i!=o&&3===a.type,r&rt.Host&&s===a);return null!==l?Un(e,o,l,a):zn}function Wn(t,e,n,i,r){const s=t.providerIndexes,o=e.data,a=65535&s,l=t.directiveStart,c=s>>16,u=r?a+c:t.directiveEnd;for(let h=i?a:a+c;h<u;h++){const t=o[h];if(h<l&&n===t||h>=l&&t.type===n)return h}if(r){const t=o[l];if(t&&xe(t)&&t.type===n)return l}return null}function Un(t,e,n,i){let r=t[n];const s=e.data;if(r instanceof bn){const o=r;if(o.resolving)throw new Error(`Circular dep for ${Pn(s[n])}`);const a=Nn(o.canSeeViewProviders);let l;o.resolving=!0,o.injectImpl&&(l=zt(o.injectImpl)),rn(t,i);try{r=t[n]=o.factory(void 0,s,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){const{onChanges:i,onInit:r,doCheck:s}=e;i&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,i)),r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,r),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{o.injectImpl&&zt(l),Nn(a),o.resolving=!1,cn()}}return r}function Kn(t,e,n){const i=64&t,r=32&t;let s;return s=128&t?i?r?n[e+7]:n[e+6]:r?n[e+5]:n[e+4]:i?r?n[e+3]:n[e+2]:r?n[e+1]:n[e],!!(s&1<<t)}function Gn(t,e){return!(t&rt.Self||t&rt.Host&&e)}class Yn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return qn(this._tNode,this._lView,t,void 0,e)}}function Zn(t){return X(()=>{const e=Object.getPrototypeOf(t.prototype).constructor,n=e[Dt]||function t(e){const n=e;if(Ct(e))return()=>{const e=t(wt(n));return e?e():null};let i=ye(n);if(null===i){const t=ht(n);i=t&&t.factory}return i||null}(e);return null!==n?n:t=>new t})}function Qn(t){return t.ngDebugContext}function Xn(t){return t.ngOriginalError}function Jn(t,...e){t.error(...e)}class ti{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Jn}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Qn(t)?Qn(t):this._findContext(Xn(t)):null}_findOriginalError(t){let e=Xn(t);for(;e&&Xn(e);)e=Xn(e);return e}}class ei{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}function ni(t){return t instanceof ei?t.changingThisBreaksApplicationSecurity:t}let ii=!0,ri=!1;function si(){return ri=!0,ii}const oi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,ai=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,li=function(){var t={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return t[t.NONE]="NONE",t[t.HTML]="HTML",t[t.STYLE]="STYLE",t[t.SCRIPT]="SCRIPT",t[t.URL]="URL",t[t.RESOURCE_URL]="RESOURCE_URL",t}();function ci(t){const e=function(){const t=qe();return t&&t[12]}();return e?e.sanitize(li.URL,t)||"":function(t,e){const n=function(t){return t instanceof ei&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}(t,"URL")?ni(t):(n=An(t),(n=String(n)).match(oi)||n.match(ai)?n:(si()&&console.warn(`WARNING: sanitizing unsafe URL value ${n} (see http://g.co/ng/security#xss)`),"unsafe:"+n));var n}function ui(t,e){t.__ngContext__=e}function hi(t){throw new Error(`Multiple components match node with tagname ${t.tagName}`)}function di(){throw new Error("Cannot mix multi providers and regular providers")}function pi(t,e,n){let i=t.length;for(;;){const r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const n=e.length;if(r+n===i||t.charCodeAt(r+n)<=32)return r}n=r+1}}function fi(t,e,n){let i=0;for(;i<t.length;){let r=t[i++];if(n&&"class"===r){if(r=t[i],-1!==pi(r.toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function mi(t){return 0===t.type&&"ng-template"!==t.tagName}function gi(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function yi(t,e,n){let i=4;const r=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Cn(t[e]))return e;return t.length}(r);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&i){if(i=2|1&i,""!==l&&!gi(t,l,n)||""===l&&1===e.length){if(_i(i))return!1;o=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==t.attrs){if(!fi(t.attrs,c,n)){if(_i(i))return!1;o=!0}continue}const u=vi(8&i?"class":l,r,mi(t),n);if(-1===u){if(_i(i))return!1;o=!0;continue}if(""!==c){let t;t=u>s?"":r[u+1].toLowerCase();const e=8&i?t:null;if(e&&-1!==pi(e,c,0)||2&i&&c!==t){if(_i(i))return!1;o=!0}}}}else{if(!o&&!_i(i)&&!_i(l))return!1;if(o&&_i(l))continue;o=!1,i=l|1&i}}return _i(i)||o}function _i(t){return 0==(1&t)}function vi(t,e,n,i){if(null===e)return-1;let r=0;if(i||!n){let n=!1;for(;r<e.length;){const i=e[r];if(i===t)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let t=e[++r];for(;"string"==typeof t;)t=e[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function bi(t,e,n=!1){for(let i=0;i<e.length;i++)if(yi(t,e[i],n))return!0;return!1}function wi(t,e){t:for(let n=0;n<e.length;n++){const i=e[n];if(t.length===i.length){for(let e=0;e<t.length;e++)if(t[e]!==i[e])continue t;return!0}}return!1}function Ci(t,e){return t?":not("+e.trim()+")":e}function Si(t){let e=t[0],n=1,i=2,r="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&i){const e=t[++n];r+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""===r||_i(o)||(e+=Ci(s,r),r=""),i=o,s=s||!_i(i);n++}return""!==r&&(e+=Ci(s,r)),e}const xi={};function ki(t){const e=t[3];return be(e)?e[3]:e}function Ei(t){return Ti(t[13])}function Ii(t){return Ti(t[4])}function Ti(t){for(;null!==t&&!be(t);)t=t[4];return t}function Oi(t){Ai(ze(),qe(),hn()+t,Ye())}function Ai(t,e,n,i){if(!i)if(3==(3&e[2])){const i=t.preOrderCheckHooks;null!==i&&mn(e,i,n)}else{const i=t.preOrderHooks;null!==i&&gn(e,i,0,n)}dn(n)}function Pi(t,e){return t<<17|e<<2}function Ri(t){return t>>17&32767}function Di(t){return 2|t}function Mi(t){return(131068&t)>>2}function Ni(t,e){return-131069&t|e<<2}function Fi(t){return 1|t}function ji(t,e){const n=t.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],s=n[i+1];if(-1!==s){const n=t.data[s];nn(r),n.contentQueries(2,e[s],s)}}}function Li(t,e,n){return Ie(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Vi(t,e,n,i,r,s,o,a,l,c){const u=e.blueprint.slice();return u[0]=r,u[2]=140|i,Le(u),u[3]=u[15]=t,u[8]=n,u[10]=o||t&&t[10],u[11]=a||t&&t[11],u[12]=l||t&&t[12]||null,u[9]=c||t&&t[9]||null,u[6]=s,u[16]=2==e.type?t[16]:u,u}function Bi(t,e,n,i,r,s){const o=n+20,a=t.data[o]||function(t,e,n,i,r,s){const o=We(),a=Ke(),l=a?o:o&&o.parent,c=t.data[n]=Zi(0,l&&l!==e?l:null,i,n,r,s);return null===t.firstChild&&(t.firstChild=c),o&&(!a||null!=o.child||null===c.parent&&2!==o.type?a||(o.next=c):o.child=c),c}(t,e,o,i,r,s);return Ue(a,!0),a}function Hi(t,e,n){sn(e,e[6]);try{const i=t.viewQuery;null!==i&&_r(1,i,n);const r=t.template;null!==r&&$i(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&ji(t,e),t.staticViewQueries&&_r(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)pr(t,e[n])}(e,s)}catch(i){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),i}finally{e[2]&=-5,un()}}function qi(t,e,n,i){const r=e[2];if(256==(256&r))return;sn(e,e[6]);const s=Ye();try{Le(e),Be.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&$i(t,e,n,2,i);const o=3==(3&r);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&mn(e,n,null)}else{const n=t.preOrderHooks;null!==n&&gn(e,n,0,null),yn(e,0)}if(function(t){for(let e=Ei(t);null!==e;e=Ii(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],i=n[3];0==(1024&n[2])&&Ve(i,1),n[2]|=1024}}}(e),function(t){for(let e=Ei(t);null!==e;e=Ii(e))for(let t=10;t<e.length;t++){const n=e[t],i=n[1];Fe(n)&&qi(i,n,i.template,n[8])}}(e),null!==t.contentQueries&&ji(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&mn(e,n)}else{const n=t.contentHooks;null!==n&&gn(e,n,1),yn(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let i=t.expandoStartIndex,r=-1,s=-1;for(let t=0;t<n.length;t++){const o=n[t];"number"==typeof o?o<=0?(s=0-o,dn(s),i+=9+n[++t],r=i):i+=o:(null!==o&&(Je(i,r),o(2,e[r])),r++)}}}finally{dn(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)dr(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&_r(2,l,i),!s)if(o){const n=t.viewCheckHooks;null!==n&&mn(e,n)}else{const n=t.viewHooks;null!==n&&gn(e,n,2),yn(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ve(e[3],-1))}finally{un()}}function zi(t,e,n,i){const r=e[10],s=!Ye(),o=Ne(e);try{s&&!o&&r.begin&&r.begin(),o&&Hi(t,e,i),qi(t,e,n,i)}finally{s&&!o&&r.end&&r.end()}}function $i(t,e,n,i,r){const s=hn();try{dn(-1),2&i&&e.length>20&&Ai(t,e,0,Ye()),n(i,r)}finally{dn(s)}}function Wi(t,e,n){if(we(e)){const i=e.directiveEnd;for(let r=e.directiveStart;r<i;r++){const e=t.data[r];e.contentQueries&&e.contentQueries(1,n[r],r)}}}function Ui(t,e,n){He()&&(function(t,e,n,i){const r=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||jn(n,e),ui(i,e);const o=n.initialInputs;for(let a=r;a<s;a++){const i=t.data[a],s=xe(i);s&&lr(e,n,i);const l=Un(e,t,a,n);ui(l,e),null!==o&&cr(0,a-r,l,i,0,o),s&&(De(n.index,e)[8]=l)}}(t,e,n,Pe(n,e)),128==(128&n.flags)&&function(t,e,n){const i=n.directiveStart,r=n.directiveEnd,s=t.expandoInstructions,o=t.firstCreatePass,a=n.index-20,l=Be.lFrame.currentDirectiveIndex;try{dn(a);for(let n=i;n<r;n++){const i=t.data[n],r=e[n];tn(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?nr(i,r):o&&s.push(null)}}finally{dn(-1),tn(l)}}(t,e,n))}function Ki(t,e,n=Pe){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?n(e,t):t[o];t[r++]=a}}}function Gi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Yi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Yi(t,e,n,i,r,s,o,a,l,c){const u=20+i,h=u+r,d=function(t,e){const n=[];for(let i=0;i<e;i++)n.push(i<t?null:xi);return n}(u,h);return d[1]={type:t,id:e,blueprint:d,template:n,queries:null,viewQuery:a,node:null,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function Zi(t,e,n,i,r,s){return{type:n,index:i,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Qi(t,e,n){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Xi(t,e,n,i,r,s,o,a){const l=Pe(e,n);let c,u=e.inputs;!a&&null!=u&&(c=u[i])?(Sr(t,n,c,i,r),Ce(e)&&function(t,e){const n=De(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(i=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(i),r=null!=o?o(r,e.tagName||"",i):r,Ie(s)?s.setProperty(l,i,r):Sn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function Ji(t,e,n,i){let r=!1;if(He()){const s=function(t,e,n){const i=t.directiveRegistry;let r=null;if(i)for(let s=0;s<i.length;s++){const o=i[s];bi(n,o.selectors,!1)&&(r||(r=[]),Hn(jn(n,e),t,o.type),xe(o)?(2&n.flags&&hi(n),rr(t,n),r.unshift(o)):r.push(o))}return r}(t,e,n),o=null===i?null:{"":-1};if(null!==s){let i=0;r=!0,or(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}ir(t,n,s.length);let a=!1,l=!1;for(let r=0;r<s.length;r++){const c=s[r];n.mergedAttrs=xn(n.mergedAttrs,c.hostAttrs),ar(t,e,c),sr(t.data.length-1,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128),!a&&(c.onChanges||c.onInit||c.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),a=!0),l||!c.onChanges&&!c.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),l=!0),tr(t,c),i+=c.hostVars}!function(t,e){const n=e.directiveEnd,i=t.data,r=e.attrs,s=[];let o=null,a=null;for(let l=e.directiveStart;l<n;l++){const t=i[l],n=t.inputs,c=null===r||mi(e)?null:ur(n,r);s.push(c),o=Qi(n,l,o),a=Qi(t.outputs,l,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n),er(t,e,i)}o&&function(t,e,n){if(e){const i=t.localNames=[];for(let t=0;t<e.length;t+=2){const r=n[e[t+1]];if(null==r)throw new Error(`Export of name '${e[t+1]}' not found!`);i.push(e[t],r)}}}(n,i,o)}return n.mergedAttrs=xn(n.mergedAttrs,n.attrs),r}function tr(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function er(t,e,n){for(let i=0;i<n;i++)e.push(xi),t.blueprint.push(xi),t.data.push(null)}function nr(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function ir(t,e,n){const i=20-e.index,r=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(i,r,n)}function rr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function sr(t,e,n){if(n){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;xe(e)&&(n[""]=t)}}function or(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ar(t,e,n){t.data.push(n);const i=n.factory||(n.factory=ye(n.type)),r=new bn(i,xe(n),null);t.blueprint.push(r),e.push(r)}function lr(t,e,n){const i=Pe(e,t),r=Gi(n),s=t[10],o=fr(t,Vi(t,r,null,n.onPush?64:16,i,e,s,s.createRenderer(i,n)));t[e.index]=o}function cr(t,e,n,i,r,s){const o=s[e];if(null!==o){const t=i.setInput;for(let e=0;e<o.length;){const r=o[e++],s=o[e++],a=o[e++];null!==t?i.setInput(n,a,r,s):n[s]=a}}}function ur(t,e){let n=null,i=0;for(;i<e.length;){const r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function hr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function dr(t,e){const n=De(e,t);if(Fe(n)){const t=n[1];80&n[2]?qi(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let i=Ei(e);null!==i;i=Ii(i))for(let e=10;e<i.length;e++){const n=i[e];if(1024&n[2]){const t=n[1];qi(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=De(n[i],e);Fe(r)&&r[5]>0&&t(r)}}(n)}}function pr(t,e){const n=De(e,t),i=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Hi(i,n,n[8])}function fr(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function mr(t){for(;t;){t[2]|=64;const e=ki(t);if(ke(t)&&!e)return t;t=e}return null}function gr(t,e,n){const i=e[10];i.begin&&i.begin();try{qi(t,e,t.template,n)}catch(r){throw Cr(e,r),r}finally{i.end&&i.end()}}function yr(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],i=Me(n),r=i[1];zi(r,i,r.template,n)}}(t[8])}function _r(t,e,n){nn(0),e(t,n)}const vr=(()=>Promise.resolve(null))();function br(t){return t[7]||(t[7]=[])}function wr(t){return t.cleanup||(t.cleanup=[])}function Cr(t,e){const n=t[9],i=n?n.get(ti,null):null;i&&i.handleError(e)}function Sr(t,e,n,i,r){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function xr(t,e){const n=e[3];return-1===t.index?be(n)?n:null:n}function kr(t,e){const n=xr(t,e);return n?jr(e[11],n[7]):null}function Er(t,e,n,i,r){if(null!=i){let s,o=!1;be(i)?s=i:ve(i)&&(o=!0,i=i[0]);const a=Oe(i);0===t&&null!==n?null==r?Nr(e,n,a):Mr(e,n,a,r||null):1===t&&null!==n?Mr(e,n,a,r||null):2===t?function(t,e,n){const i=jr(t,e);i&&function(t,e,n,i){Ie(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,i,r){const s=n[7];s!==Oe(n)&&Er(e,t,i,s,r);for(let o=10;o<n.length;o++){const r=n[o];qr(r[1],r,t,e,i,s)}}(e,t,s,n,r)}}function Ir(t,e,n,i){const r=kr(t.node,e);r&&qr(t,e,e[11],n?1:2,r,i)}function Tr(t,e){const n=t[9],i=n.indexOf(e);1024&e[2]&&Ve(e[3],-1),n.splice(i,1)}function Or(t,e){if(t.length<=10)return;const n=10+e,i=t[n];if(i){const r=i[17];null!==r&&r!==t&&Tr(r,i),e>0&&(t[n-1][4]=i[4]);const s=Jt(t,10+e);Ir(i[1],i,!1,null);const o=s[19];null!==o&&o.detachView(s[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function Ar(t,e){if(!(256&e[2])){const n=e[11];Ie(n)&&n.destroyNode&&qr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Rr(t[1],t);for(;e;){let n=null;if(ve(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)ve(e)&&Rr(e[1],e),e=Pr(e,t);null===e&&(e=t),ve(e)&&Rr(e[1],e),n=e&&e[4]}e=n}}(e)}}function Pr(t,e){let n;return ve(t)&&(n=t[6])&&2===n.type?xr(n,t):t[3]===e?null:t[3]}function Rr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let i=0;i<n.length;i+=2){const t=e[n[i]];if(!(t instanceof bn)){const e=n[i+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],s="function"==typeof r?r(e):Oe(e[r]),o=t[n[i+2]],a=n[i+3];"boolean"==typeof a?s.removeEventListener(n[i],o,a):a>=0?t[a]():t[-a].unsubscribe(),i+=2}else n[i].call(t[n[i+1]]);e[7]=null}}(t,e);const n=e[6];n&&3===n.type&&Ie(e[11])&&e[11].destroy();const i=e[17];if(null!==i&&be(e[3])){i!==e[3]&&Tr(i,e);const n=e[19];null!==n&&n.detachView(t)}}}function Dr(t,e,n){let i=e.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(e=i).parent;if(null==i){const t=n[6];return 2===t.type?kr(t,n):n[0]}if(e&&5===e.type&&4&e.flags)return Pe(e,n).parentNode;if(2&i.flags){const e=t.data,n=e[e[i.index].directiveStart].encapsulation;if(n!==se.ShadowDom&&n!==se.Native)return null}return Pe(i,n)}function Mr(t,e,n,i){Ie(t)?t.insertBefore(e,n,i):e.insertBefore(n,i,!0)}function Nr(t,e,n){Ie(t)?t.appendChild(e,n):e.appendChild(n)}function Fr(t,e,n,i){null!==i?Mr(t,e,n,i):Nr(t,e,n)}function jr(t,e){return Ie(t)?t.parentNode(e):e.parentNode}function Lr(t,e){if(2===t.type){const n=xr(t,e);return null===n?null:Br(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Pe(t,e):null}function Vr(t,e,n,i){const r=Dr(t,i,e);if(null!=r){const t=e[11],s=Lr(i.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Fr(t,r,n[e],s);else Fr(t,r,n,s)}}function Br(t,e){const n=10+t+1;if(n<e.length){const t=e[n],i=t[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){const i=n.type;if(3===i)return Pe(n,e);if(0===i)return Br(-1,e[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return t(e,i);{const t=e[n.index];return be(t)?Br(-1,t):Oe(t)}}{const i=e[16],r=i[6],s=ki(i),o=r.projection[n.projection];return null!=o?t(s,o):t(e,n.next)}}return null}(t,i)}return e[7]}function Hr(t,e,n,i,r,s,o){for(;null!=n;){const a=i[n.index],l=n.type;o&&0===e&&(a&&ui(Oe(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Hr(t,e,n.child,i,r,s,!1),Er(e,t,r,a,s)):1===l?zr(t,e,i,n,r,s):Er(e,t,r,a,s)),n=o?n.projectionNext:n.next}}function qr(t,e,n,i,r,s){Hr(n,i,t.node.child,e,r,s,!1)}function zr(t,e,n,i,r,s){const o=n[16],a=o[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)Er(e,t,r,a[l],s);else Hr(t,e,a,o[3],r,s,!0)}function $r(t,e,n){Ie(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Wr(t,e,n){Ie(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Ur{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView;return null==t[0]?function t(e,n,i,r,s=!1){for(;null!==i;){const o=n[i.index];if(null!==o&&r.push(Oe(o)),be(o))for(let e=10;e<o.length;e++){const n=o[e],i=n[1].firstChild;null!==i&&t(n[1],n,i,r)}const a=i.type;if(4===a||5===a)t(e,n,i.child,r);else if(1===a){const e=n[16],s=e[6].projection[i.projection];if(Array.isArray(s))r.push(...s);else{const n=ki(e);t(n[1],n,s,r,!0)}}i=s?i.projectionNext:i.next}return r}(t[1],t,t[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Ar(this._lView[1],this._lView)}onDestroy(t){var e,n,i;e=this._lView[1],i=t,br(n=this._lView).push(i),e.firstCreatePass&&wr(e).push(n[7].length-1,null)}markForCheck(){mr(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){gr(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Ze(!0);try{gr(t,e,n)}finally{Ze(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Kr extends Ur{constructor(t){super(t),this._view=t}detectChanges(){yr(this._view)}checkNoChanges(){!function(t){Ze(!0);try{yr(t)}finally{Ze(!1)}}(this._view)}get context(){return null}}let Gr,Yr,Zr;function Qr(t,e,n){return Gr||(Gr=class extends t{}),new Gr(Pe(e,n))}function Xr(t,e,n,i){return Yr||(Yr=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Vi(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Hi(e,n,t),new Ur(n)}}),0===n.type?new Yr(i,n,Qr(e,n,i)):null}function Jr(t,e,n,i){let r;Zr||(Zr=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Qr(e,this._hostTNode,this._hostView)}get injector(){return new Yn(this._hostTNode,this._hostView)}get parentInjector(){const t=Bn(this._hostTNode,this._hostView),e=On(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){const t=n.parent.injectorIndex;let e=n.parent;for(;null!=e.parent&&t==e.parent.injectorIndex;)e=e.parent;return e}let i=Tn(t),r=e,s=e[6];for(;i>1;)r=r[15],s=r[6],i--;return s}(t,this._hostView,this._hostTNode);return En(t)&&null!=n?new Yn(n,e):new Yn(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const i=t.createEmbeddedView(e||{});return this.insert(i,n),i}createComponent(t,e,n,i,r){const s=n||this.parentInjector;if(!r&&null==t.ngModule&&s){const t=s.get(Zt,null);t&&(r=t)}const o=t.create(s,i,void 0,r);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,i=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),be(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],i=new Zr(e,e[6],e[3]);i.detach(i.indexOf(t))}}const r=this._adjustIndex(e);return function(t,e,n,i){const r=10+i,s=n.length;i>0&&(n[r-1][4]=e),i<s-10?(e[4]=n[r],Xt(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(i,n,this._lContainer,r),Ir(i,n,!0,Br(r,this._lContainer)),t.attachToViewContainerRef(this),Xt(this._lContainer[8],r,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1);!function(t,e){const n=Or(t,e);n&&Ar(n[1],n)}(this._lContainer,e),Jt(this._lContainer[8],e)}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Or(this._lContainer,e);return n&&null!=Jt(this._lContainer[8],e)?new Ur(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const s=i[n.index];if(be(s))r=s;else{let t;if(4===n.type)t=Oe(s);else if(t=i[11].createComment(""),ke(i)){const e=i[11],r=Pe(n,i);Mr(e,jr(e,r),t,function(t,e){return Ie(t)?t.nextSibling(e):e.nextSibling}(e,r))}else Vr(i[1],i,t,n);i[n.index]=r=hr(s,i,t,n),fr(i,r)}return new Zr(r,n,i)}let ts=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>es(),t})();const es=function(t=!1){return function(t,e,n){if(!n&&Ce(t)){const n=De(t.index,e);return new Ur(n,n)}return 3===t.type||0===t.type||4===t.type||5===t.type?new Ur(e[16],e):null}(We(),qe(),t)},ns=new Nt("Set Injector scope."),is={},rs={},ss=[];let os=void 0;function as(){return void 0===os&&(os=new Yt),os}function ls(t,e=null,n=null,i){return new cs(t,n,e||as(),i)}class cs{constructor(t,e,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];e&&Qt(e,n=>this.processProvider(n,t,e)),Qt([t],t=>this.processInjectorType(t,[],r)),this.records.set(Ft,ds(void 0,this));const s=this.records.get(ns);this.scope=null!=s?s.value:null,this.source=i||("object"==typeof t?null:yt(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=jt,n=rt.Default){this.assertNotDestroyed();const i=qt(this);try{if(!(n&rt.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Nt)&&ct(t);e=n&&this.injectableDefInScope(n)?ds(us(t),is):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&rt.Self?as():this.parent).get(t,e=n&rt.Optional&&e===jt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(yt(t)),i)throw s;return function(t,e,n,i){const r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n,i=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let r=yt(e);if(Array.isArray(e))r=e.map(yt).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let i=e[n];t.push(n+":"+("string"==typeof i?JSON.stringify(i):yt(i)))}r=`{${t.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${t.replace(Lt,"\n  ")}`}("\n"+t.message,r,n,i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{qt(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(yt(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=wt(t)))return!1;let i=ht(t);const r=null==i&&t.ngModule||void 0,s=void 0===r?t:r,o=-1!==n.indexOf(s);if(void 0!==r&&(i=ht(r)),null==i)return!1;if(null!=i.imports&&!o){let t;n.push(s);try{Qt(i.imports,i=>{this.processInjectorType(i,e,n)&&(void 0===t&&(t=[]),t.push(i))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:i}=t[e];Qt(i,t=>this.processProvider(t,n,i||ss))}}this.injectorDefTypes.add(s),this.records.set(s,ds(i.factory,is));const a=i.providers;if(null!=a&&!o){const e=t;Qt(a,t=>this.processProvider(t,e,a))}return void 0!==r&&void 0!==t.providers}processProvider(t,e,n){let i=fs(t=wt(t))?t:wt(t&&t.provide);const r=function(t,e,n){return ps(t)?ds(void 0,t.useValue):ds(hs(t,e,n),is)}(t,e,n);if(fs(t)||!0!==t.multi){const t=this.records.get(i);t&&void 0!==t.multi&&di()}else{let e=this.records.get(i);e?void 0===e.multi&&di():(e=ds(void 0,is,!0),e.factory=()=>Gt(e.multi),this.records.set(i,e)),i=t,e.multi.push(t)}this.records.set(i,r)}hydrate(t,e){var n;return e.value===rs?function(t){throw new Error(`Cannot instantiate cyclic dependency! ${t}`)}(yt(t)):e.value===is&&(e.value=rs,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function us(t){const e=ct(t),n=null!==e?e.factory:ye(t);if(null!==n)return n;const i=ht(t);if(null!==i)return i.factory;if(t instanceof Nt)throw new Error(`Token ${yt(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=te(e,"?");throw new Error(`Can't resolve all parameters for ${yt(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[dt]||t[mt]||t[ft]&&t[ft]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\n`+`This will become an error in v10. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function hs(t,e,n){let i=void 0;if(fs(t)){const e=wt(t);return ye(e)||us(e)}if(ps(t))i=()=>wt(t.useValue);else if((r=t)&&r.useFactory)i=()=>t.useFactory(...Gt(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))i=()=>Wt(wt(t.useExisting));else{const r=wt(t&&(t.useClass||t.provide));if(r||function(t,e,n){let i="";throw t&&e&&(i=` - only instances of Provider and Type are allowed, got: [${e.map(t=>t==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${yt(t)}'`+i)}(e,n,t),!function(t){return!!t.deps}(t))return ye(r)||us(r);i=()=>new r(...Gt(t.deps))}var r;return i}function ds(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function ps(t){return null!==t&&"object"==typeof t&&Vt in t}function fs(t){return"function"==typeof t}const ms=function(t,e,n){return function(t,e=null,n=null,i){const r=ls(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)};let gs=(()=>{class t{static create(t,e){return Array.isArray(t)?ms(t,e,""):ms(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=jt,t.NULL=new Yt,t.\u0275prov=at({token:t,providedIn:"any",factory:()=>Wt(Ft)}),t.__NG_ELEMENT_ID__=-1,t})(),ys=new Map;const _s=new Set;function vs(t){return"string"==typeof t?t:t.text()}function bs(t,e,n){let i=n?t.styles:null,r=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?r=_t(r,t):2==s&&(i=_t(i,t+": "+e[++o]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}let ws=null;function Cs(){if(!ws){const t=It.Symbol;if(t&&t.iterator)ws=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(ws=n)}}}return ws}function Ss(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function xs(t){return!!ks(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cs()in t)}function ks(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Es(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Is(t,e,n,i){const r=qe();return Es(r,Qe(),e)&&(ze(),function(t,e,n,i,r,s){const o=Pe(t,e),a=e[11];if(null==i)Ie(a)?a.removeAttribute(o,n,s):o.removeAttribute(n);else{const e=null==r?An(i):r(i,t.tagName||"",n);Ie(a)?a.setAttribute(o,n,e,s):s?o.setAttributeNS(s,n,e):o.setAttribute(n,e)}}(pn(),r,t,e,n,i)),Is}function Ts(t,e,n,i){return Es(t,Qe(),n)?e+An(n)+i:xi}function Os(t,e,n,i,r,s,o,a){const l=qe(),c=ze(),u=t+20,h=c.firstCreatePass?function(t,e,n,i,r,s,o,a,l){const c=e.consts,u=Bi(e,n[6],t,0,o||null,je(c,a));Ji(e,n,u,je(c,l)),fn(e,u);const h=u.tViews=Yi(2,-1,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),d=Zi(0,null,2,-1,null,null);return d.injectorIndex=u.injectorIndex,h.node=d,null!==e.queries&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}(t,c,l,e,n,i,r,s,o):c.data[u];Ue(h,!1);const d=l[11].createComment("");Vr(c,l,d,h),ui(d,l),fr(l,l[u]=hr(d,l,d,h)),Se(h)&&Ui(c,l,h),null!=o&&Ki(l,h,a)}function As(t,e=rt.Default){const n=qe();return null==n?Wt(t,e):qn(We(),n,wt(t),e)}function Ps(t,e,n){const i=qe();return Es(i,Qe(),e)&&Xi(ze(),pn(),i,t,e,i[11],n,!1),Ps}function Rs(t,e,n,i,r){const s=r?"class":"style";Sr(t,n,e.inputs[s],s,i)}function Ds(t,e,n,i){const r=qe(),s=ze(),o=20+t,a=r[11],l=r[o]=Li(e,a,Be.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,i,r,s,o){const a=e.consts,l=je(a,s),c=Bi(e,n[6],t,3,r,l);return Ji(e,n,c,je(a,o)),null!==c.attrs&&bs(c,c.attrs,!1),null!==c.mergedAttrs&&bs(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(t,s,r,0,e,n,i):s.data[o];Ue(c,!0);const u=c.mergedAttrs;null!==u&&wn(a,l,u);const h=c.classes;null!==h&&Wr(a,l,h);const d=c.styles;null!==d&&$r(a,l,d),Vr(s,r,l,c),0===Be.lFrame.elementDepthCount&&ui(l,r),Be.lFrame.elementDepthCount++,Se(c)&&(Ui(s,r,c),Wi(s,c,r)),null!==i&&Ki(r,c)}function Ms(){let t=We();Ke()?Ge():(t=t.parent,Ue(t,!1));const e=t;Be.lFrame.elementDepthCount--;const n=ze();n.firstCreatePass&&(fn(n,t),we(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Rs(n,e,qe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Rs(n,e,qe(),e.stylesWithoutHost,!1)}function Ns(t,e,n,i){Ds(t,e,n,i),Ms()}function Fs(t,e,n){const i=qe(),r=ze(),s=t+20,o=r.firstCreatePass?function(t,e,n,i,r){const s=e.consts,o=je(s,i),a=Bi(e,n[6],t,4,"ng-container",o);return null!==o&&bs(a,o,!0),Ji(e,n,a,je(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(t,r,i,e,n):r.data[s];Ue(o,!0);const a=i[s]=i[11].createComment("");Vr(r,i,a,o),ui(a,i),Se(o)&&(Ui(r,i,o),Wi(r,o,i)),null!=n&&Ki(i,o)}function js(){let t=We();const e=ze();Ke()?Ge():(t=t.parent,Ue(t,!1)),e.firstCreatePass&&(fn(e,t),we(t)&&e.queries.elementEnd(t))}function Ls(){return qe()}function Vs(t){return!!t&&"function"==typeof t.then}function Bs(t,e,n=!1,i){const r=qe(),s=ze(),o=We();return function(t,e,n,i,r,s,o=!1,a){const l=Se(i),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),u=br(e);let h=!0;if(3===i.type){const d=Pe(i,e),p=a?a(d):oe,f=p.target||d,m=u.length,g=a?t=>a(Oe(t[i.index])).target:i.index;if(Ie(n)){let o=null;if(!a&&l&&(o=function(t,e,n,i){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const t=r[s];if(t===n&&r[s+1]===i){const t=e[7],n=r[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,r,i.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=qs(i,e,s,!1);const t=n.listen(p.name||f,r,s);u.push(s,t),c&&c.push(r,g,m,m+1)}}else s=qs(i,e,s,!0),f.addEventListener(r,s,o),u.push(s),c&&c.push(r,g,m,o)}const d=i.outputs;let p;if(h&&null!==d&&(p=d[r])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=u.length;u.push(s,t),c&&c.push(r,i.index,o,-(o+1))}}}(s,r,r[11],o,t,e,n,i),Bs}function Hs(t,e,n){try{return!1!==e(n)}catch(i){return Cr(t,i),!1}}function qs(t,e,n,i){return function r(s){if(s===Function)return n;const o=2&t.flags?De(t.index,e):e;0==(32&e[2])&&mr(o);let a=Hs(e,n,s),l=r.__ngNextListenerFn__;for(;l;)a=Hs(e,l,s)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function zs(t=1){return function(t){return(Be.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Be.lFrame.contextLView))[8]}(t)}function $s(t,e){let n=null;const i=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?bi(t,s,!0):wi(i,s))return r}else n=r}return n}function Ws(t){const e=qe()[16][6];if(!e.projection){const n=e.projection=te(t?t.length:1,null),i=n.slice();let r=e.child;for(;null!==r;){const e=t?$s(r,t):0;null!==e&&(i[e]?i[e].projectionNext=r:n[e]=r,i[e]=r),r=r.next}}}function Us(t,e=0,n){const i=qe(),r=ze(),s=Bi(r,i[6],t,1,null,n||null);null===s.projection&&(s.projection=e),Ge(),function(t,e,n){zr(e[11],0,e,n,Dr(t,n,e),Lr(n.parent||e[6],e))}(r,i,s)}const Ks=[];function Gs(t,e,n,i,r){const s=t[n+1],o=null===e;let a=i?Ri(s):Mi(s),l=!1;for(;0!==a&&(!1===l||o);){const n=t[a+1];Ys(t[a],e)&&(l=!0,t[a+1]=i?Fi(n):Di(n)),a=i?Ri(n):Mi(n)}l&&(t[n+1]=i?Di(s):Fi(s))}function Ys(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ie(t,e)>=0}const Zs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qs(t){return t.substring(Zs.key,Zs.keyEnd)}function Xs(t,e){const n=Zs.textEnd;return n===e?-1:(e=Zs.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,Zs.key=e,n),Js(t,e,n))}function Js(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function to(t,e,n){return io(t,e,n,!1),to}function eo(t,e){return io(t,e,null,!0),eo}function no(t,e){for(let n=function(t){return function(t){Zs.key=0,Zs.keyEnd=0,Zs.value=0,Zs.valueEnd=0,Zs.textEnd=t.length}(t),Xs(t,Js(t,0,Zs.textEnd))}(e);n>=0;n=Xs(e,n))ee(t,Qs(e),!0)}function io(t,e,n,i){const r=qe(),s=ze(),o=Xe(2);if(s.firstUpdatePass&&so(s,t,o,i),e!==xi&&Es(r,o,e)){let a;null==n&&(a=function(){const t=Be.lFrame;return null===t?null:t.currentSanitizer}())&&(n=a),lo(s,s.data[hn()+20],r,r[11],t,r[o+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=yt(ni(t)))),t}(e,n),i,o)}}function ro(t,e){return e>=t.expandoStartIndex}function so(t,e,n,i){const r=t.data;if(null===r[n+1]){const s=r[hn()+20],o=ro(t,n);ho(s,i)&&null===e&&!o&&(e=!1),e=function(t,e,n,i){const r=function(t){const e=Be.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=ao(n=oo(null,t,e,n,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==r)if(n=oo(r,t,e,n,i),null===s){let n=function(t,e,n){const i=n?e.classBindings:e.styleBindings;if(0!==Mi(i))return t[Ri(i)]}(t,e,i);void 0!==n&&Array.isArray(n)&&(n=oo(null,t,e,n[1],i),n=ao(n,e.attrs,i),function(t,e,n,i){t[Ri(n?e.classBindings:e.styleBindings)]=i}(t,e,i,n))}else s=function(t,e,n){let i=void 0;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ao(i,t[s].hostAttrs,n);return ao(i,e.attrs,n)}(t,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),n}(r,s,e,i),function(t,e,n,i,r,s){let o=s?e.classBindings:e.styleBindings,a=Ri(o),l=Mi(o);t[i]=n;let c,u=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||ie(t,c)>0)&&(u=!0)}else c=n;if(r)if(0!==l){const e=Ri(t[a+1]);t[i+1]=Pi(e,a),0!==e&&(t[e+1]=Ni(t[e+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=Pi(a,0),0!==a&&(t[a+1]=Ni(t[a+1],i)),a=i;else t[i+1]=Pi(l,0),0===a?a=i:t[l+1]=Ni(t[l+1],i),l=i;u&&(t[i+1]=Di(t[i+1])),Gs(t,c,i,!0),Gs(t,c,i,!1),function(t,e,n,i,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&ie(s,e)>=0&&(n[i+1]=Fi(n[i+1]))}(e,c,t,i,s),o=Pi(a,l),s?e.classBindings=o:e.styleBindings=o}(r,s,e,n,o,i)}}function oo(t,e,n,i,r){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],i=ao(i,s.hostAttrs,r),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function ao(t,e,n){const i=n?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ee(t,o,!!n||e[++s]))}return void 0===t?null:t}function lo(t,e,n,i,r,s,o,a){if(3!==e.type)return;const l=t.data,c=l[a+1];uo(1==(1&c)?co(l,e,n,r,Mi(c),o):void 0)||(uo(s)||function(t){return 2==(2&t)}(c)&&(s=co(l,null,n,r,a,o)),function(t,e,n,i,r){const s=Ie(t);if(e)r?s?t.addClass(n,i):n.classList.add(i):s?t.removeClass(n,i):n.classList.remove(i);else{const e=-1==i.indexOf("-")?void 0:2;null==r?s?t.removeStyle(n,i,e):n.style.removeProperty(i):s?t.setStyle(n,i,r,e):n.style.setProperty(i,r)}}(i,o,Ae(hn(),n),r,s))}function co(t,e,n,i,r,s){const o=null===e;let a=void 0;for(;r>0;){const e=t[r],s=Array.isArray(e),l=s?e[1]:e,c=null===l;let u=n[r+1];u===xi&&(u=c?Ks:void 0);let h=c?ne(u,i):l===i?u:void 0;if(s&&!uo(h)&&(h=ne(e,i)),uo(h)&&(a=h,o))return a;const d=t[r+1];r=o?Ri(d):Mi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=ne(t,i))}return a}function uo(t){return void 0!==t}function ho(t,e){return 0!=(t.flags&(e?16:32))}function po(t,e=""){const n=qe(),i=ze(),r=t+20,s=i.firstCreatePass?Bi(i,n[6],t,3,null,null):i.data[r],o=n[r]=function(t,e){return Ie(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Vr(i,n,o,s),Ue(s,!1)}function fo(t){return mo("",t,""),fo}function mo(t,e,n){const i=qe(),r=Ts(i,t,e,n);return r!==xi&&function(t,e,n){const i=Ae(e,t),r=t[11];Ie(r)?r.setValue(i,n):i.textContent=n}(i,hn(),r),mo}function go(t,e,n){const i=qe();return Es(i,Qe(),e)&&Xi(ze(),pn(),i,t,e,i[11],n,!0),go}function yo(t,e){const n=Me(t)[1],i=n.data.length-1;fn(n,{directiveStart:i,directiveEnd:i+1})}function _o(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const i=[t];for(;e;){let r=void 0;if(xe(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);const e=t;e.inputs=vo(t.inputs),e.declaredInputs=vo(t.declaredInputs),e.outputs=vo(t.outputs);const n=r.hostBindings;n&&Co(t,n);const s=r.viewQuery,o=r.contentQueries;if(s&&bo(t,s),o&&wo(t,o),ot(t.inputs,r.inputs),ot(t.declaredInputs,r.declaredInputs),ot(t.outputs,r.outputs),xe(r)&&r.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(r.data.animation)}e.afterContentChecked=e.afterContentChecked||r.afterContentChecked,e.afterContentInit=t.afterContentInit||r.afterContentInit,e.afterViewChecked=t.afterViewChecked||r.afterViewChecked,e.afterViewInit=t.afterViewInit||r.afterViewInit,e.doCheck=t.doCheck||r.doCheck,e.onDestroy=t.onDestroy||r.onDestroy,e.onInit=t.onInit||r.onInit}const e=r.features;if(e)for(let i=0;i<e.length;i++){const r=e[i];r&&r.ngInherit&&r(t),r===_o&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let i=t.length-1;i>=0;i--){const r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=xn(r.hostAttrs,n=xn(n,r.hostAttrs))}}(i)}function vo(t){return t===oe?{}:t===ae?[]:t}function bo(t,e){const n=t.viewQuery;t.viewQuery=n?(t,i)=>{e(t,i),n(t,i)}:e}function wo(t,e){const n=t.contentQueries;t.contentQueries=n?(t,i,r)=>{e(t,i,r),n(t,i,r)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,i)=>{e(t,i),n(t,i)}:e}class So{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function xo(t){t.type.prototype.ngOnChanges&&(t.setInput=ko,t.onChanges=function(){const t=Eo(this),e=t&&t.current;if(e){const n=t.previous;if(n===oe)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}})}function ko(t,e,n,i){const r=Eo(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:oe,current:null}),s=r.current||(r.current={}),o=r.previous,a=this.declaredInputs[n],l=o[a];s[a]=new So(l&&l.currentValue,e,o===oe),t[i]=e}function Eo(t){return t.__ngSimpleChanges__||null}function Io(t,e,n,i,r){if(t=wt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Io(t[s],e,n,i,r);else{const s=ze(),o=qe();let a=fs(t)?t:wt(t.provide),l=hs(t);const c=We(),u=65535&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>16;if(fs(t)||!t.multi){const i=new bn(l,r,As),p=Ao(a,e,r?u:u+d,h);-1===p?(Hn(jn(c,o),s,a),To(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(i),o.push(i)):(n[p]=i,o[p]=i)}else{const p=Ao(a,e,u+d,h),f=Ao(a,e,u,u+d),m=p>=0&&n[p],g=f>=0&&n[f];if(r&&!g||!r&&!m){Hn(jn(c,o),s,a);const u=function(t,e,n,i,r){const s=new bn(t,n,As);return s.multi=[],s.index=e,s.componentProviders=0,Oo(s,r,i&&!n),s}(r?Ro:Po,n.length,r,i,l);!r&&g&&(n[f].providerFactory=u),To(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=65536),n.push(u),o.push(u)}else To(s,t,p>-1?p:f,Oo(n[r?f:p],l,!r&&i));!r&&i&&g&&n[f].componentProviders++}}}function To(t,e,n,i){const r=fs(e);if(r||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[i,s]):o[t+1].push(i,s)}else o.push(n,s)}}}function Oo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ao(t,e,n,i){for(let r=n;r<i;r++)if(e[r]===t)return r;return-1}function Po(t,e,n,i){return Do(this.multi,[])}function Ro(t,e,n,i){const r=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Un(n,n[1],this.providerFactory.index,i);s=e.slice(0,t),Do(r,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Do(r,s);return s}function Do(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Mo(t,e=[]){return n=>{n.providersResolver=(n,i)=>function(t,e,n){const i=ze();if(i.firstCreatePass){const r=xe(t);Io(n,i.data,i.blueprint,r,!0),Io(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}xo.ngInherit=!0;class No{}class Fo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${yt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let jo=(()=>{class t{}return t.NULL=new Fo,t})(),Lo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>Vo(t),t})();const Vo=function(t){return Qr(t,We(),qe())};class Bo{}const Ho=function(){var t={Important:1,DashCase:2};return t[t.Important]="Important",t[t.DashCase]="DashCase",t}();let qo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>zo(),t})();const zo=function(){const t=qe(),e=De(We().index,t);return function(t){const e=t[11];if(Ie(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(ve(e)?e:t)};let $o=(()=>{class t{}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>null}),t})();class Wo{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Uo=new Wo("9.1.9");class Ko{constructor(){}supports(t){return xs(t)}create(t){return new Yo(t)}}const Go=(t,e)=>e;class Yo{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Go}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,i=0,r=null;for(;e||n;){const s=!n||e&&e.currentIndex<Jo(n,i,r)?e:n,o=Jo(s,i,r),a=s.currentIndex;if(s===n)i--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)i++;else{r||(r=[]);const t=o-i,e=a-i;if(t!=e){for(let n=0;n<t;n++){const i=n<r.length?r[n]:r[n]=0,s=i+n;e<=s&&s<t&&(r[n]=i+1)}r[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!xs(t))throw new Error(`Error trying to diff '${yt(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,i,r=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],i=this._trackByFn(e,n),null!==r&&Ss(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,n,i,e)),Ss(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,e),s=!0),r=r._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Cs()]();let i;for(;!(i=n.next()).done;)e(i.value)}}(t,t=>{i=this._trackByFn(e,t),null!==r&&Ss(r.trackById,i)?(s&&(r=this._verifyReinsertion(r,t,i,e)),Ss(r.item,t)||this._addIdentityChange(r,t)):(r=this._mismatch(r,t,i,e),s=!0),r=r._next,e++}),this.length=e;return this._truncate(r),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t,e;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,i){let r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Ss(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Ss(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):t=this._addAfter(new Zo(e,n),r,i),t}_verifyReinsertion(t,e,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Xo),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Xo),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Zo{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Qo{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Ss(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Xo{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new Qo,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Jo(t,e,n){const i=t.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+e+r}class ta{constructor(){}supports(t){return t instanceof Map||ks(t)}create(){return new ea}}class ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||ks(t)))throw new Error(`Error trying to diff '${yt(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const i=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,i)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new na(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Ss(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class na{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let ia=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new Ko])}),t})(),ra=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new it,new et]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=at({token:t,providedIn:"root",factory:()=>new t([new ta])}),t})();const sa=[new ta],oa=new ia([new Ko]),aa=new ra(sa);let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ca(t,Lo),t})();const ca=function(t,e){return Xr(t,e,We(),qe())};let ua=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(t,Lo),t})();const ha=function(t,e){return Jr(t,e,We(),qe())},da={};class pa extends jo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ge(t);return new ga(e,this.ngModule)}}function fa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const ma=new Nt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Rn});class ga extends No{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(Si).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return fa(this.componentDef.inputs)}get outputs(){return fa(this.componentDef.outputs)}create(t,e,n,i){const r=(i=i||this.ngModule)?function(t,e){return{get:(n,i,r)=>{const s=t.get(n,da,r);return s!==da||i===da?s:e.get(n,i,r)}}}(t,i.injector):t,s=r.get(Bo,Te),o=r.get($o,null),a=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Ie(t))return t.selectRootElement(e,n===se.ShadowDom);let i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Li(l,s.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),u=this.componentDef.onPush?576:528,h="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),d={components:[],scheduler:Rn,clean:vr,playerHandler:null,flags:0},p=Yi(0,-1,null,1,0,null,null,null,null,null),f=Vi(null,p,d,u,null,null,s,a,o,r);let m,g;sn(f,null);try{const t=function(t,e,n,i,r,s){const o=n[1];n[20]=t;const a=Bi(o,null,0,3,null,null),l=a.mergedAttrs=e.hostAttrs;null!==l&&(bs(a,l,!0),null!==t&&(wn(r,t,l),null!==a.classes&&Wr(r,t,a.classes),null!==a.styles&&$r(r,t,a.styles)));const c=i.createRenderer(t,e),u=Vi(n,Gi(e),null,e.onPush?64:16,n[20],a,i,c,void 0);return o.firstCreatePass&&(Hn(jn(a,n),o,e.type),rr(o,a),or(a,n.length,1)),fr(n,u),n[20]=u}(c,this.componentDef,f,s,a);if(c)if(n)wn(a,c,["ng-version",Uo.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let i=1,r=2;for(;i<t.length;){let s=t[i];if("string"==typeof s)2===r?""!==s&&e.push(s,t[++i]):8===r&&n.push(s);else{if(!_i(r))break;r=s}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&wn(a,c,t),e&&e.length>0&&Wr(a,c,e.join(" "))}if(g=Re(p,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=e[n];t.push(null!=i?Array.from(i):null)}}m=function(t,e,n,i,r){const s=n[1],o=function(t,e,n){const i=We();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),ir(t,i,1),ar(t,e,n));const r=Un(e,t,e.length-1,i);ui(r,e);const s=Pe(i,e);return s&&ui(s,e),r}(s,n,e);i.components.push(o),t[8]=o,r&&r.forEach(t=>t(o,e)),e.contentQueries&&e.contentQueries(1,o,n.length-1);const a=We();if(s.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){dn(a.index-20);const t=n[1];tr(t,e),er(t,n,e.hostVars),nr(e,o)}return o}(t,this.componentDef,f,d,[yo]),Hi(p,f,null)}finally{un()}const y=new ya(this.componentType,m,Qr(Lo,g,f),f,g);return n&&!h||(p.node.child=g),y}}class ya extends class{}{constructor(t,e,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new Kr(i),function(t,e,n,i){let r=t.node;null==r&&(t.node=r=Zi(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=t}get injector(){return new Yn(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const _a=void 0;var va=["en",[["a","p"],["AM","PM"],_a],[["AM","PM"],_a,_a],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_a,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_a,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_a,"{1} 'at' {0}",_a],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let ba={};function wa(t){return t in ba||(ba[t]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[t]),ba[t]}const Ca=function(){var t={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencyCode:15,CurrencySymbol:16,CurrencyName:17,Currencies:18,Directionality:19,PluralCase:20,ExtraData:21};return t[t.LocaleId]="LocaleId",t[t.DayPeriodsFormat]="DayPeriodsFormat",t[t.DayPeriodsStandalone]="DayPeriodsStandalone",t[t.DaysFormat]="DaysFormat",t[t.DaysStandalone]="DaysStandalone",t[t.MonthsFormat]="MonthsFormat",t[t.MonthsStandalone]="MonthsStandalone",t[t.Eras]="Eras",t[t.FirstDayOfWeek]="FirstDayOfWeek",t[t.WeekendRange]="WeekendRange",t[t.DateFormat]="DateFormat",t[t.TimeFormat]="TimeFormat",t[t.DateTimeFormat]="DateTimeFormat",t[t.NumberSymbols]="NumberSymbols",t[t.NumberFormats]="NumberFormats",t[t.CurrencyCode]="CurrencyCode",t[t.CurrencySymbol]="CurrencySymbol",t[t.CurrencyName]="CurrencyName",t[t.Currencies]="Currencies",t[t.Directionality]="Directionality",t[t.PluralCase]="PluralCase",t[t.ExtraData]="ExtraData",t}();let Sa="en-US";function xa(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,i){throw new Error(`ASSERTION ERROR: ${t}`+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(Sa=t.toLowerCase().replace(/_/g,"-"))}const ka=new Map;class Ea extends Zt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new pa(this);const n=_e(t),i=t[Rt]||null;i&&xa(i),this._bootstrapComponents=Dn(n.bootstrap),this._r3Injector=ls(t,e,[{provide:Zt,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],yt(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=gs.THROW_IF_NOT_FOUND,n=rt.Default){return t===gs||t===Zt||t===Ft?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ia extends class{}{constructor(t){super(),this.moduleType=t,null!==_e(t)&&function t(e){if(null!==e.\u0275mod.id){const t=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${yt(e)} vs ${yt(e.name)}`)})(t,ka.get(t),e),ka.set(t,e)}let n=e.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(e=>t(e))}(t)}create(t){return new Ea(this.moduleType,t)}}class Ta extends S{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let i,r=t=>null,s=()=>null;t&&"object"==typeof t?(i=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(r=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(i=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(r=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(i,r,s);return t instanceof h&&t.add(o),o}}function Oa(){return this._results[Cs()]()}class Aa{constructor(){this.dirty=!0,this._results=[],this.changes=new Ta,this.length=0;const t=Cs(),e=Aa.prototype;e[t]||(e[t]=Oa)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?(n===e&&(n=e.slice(0,i)),t(r,n)):n!==e&&n.push(r)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Pa{constructor(t){this.queryList=t,this.matches=null}clone(){return new Pa(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ra{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,i=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);i.push(this.queries[n.indexInDeclarationView].clone())}return new Ra(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Ga(t,e).matches&&this.queries[e].setDirty()}}class Da{constructor(t,e,n,i=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=i}}class Ma{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const i=null!==e?e.length:0,r=this.getByIndex(n).embeddedTView(t,i);r&&(r.indexInDeclarationView=n,null!==e?e.push(r):e=[r])}return null!==e?new Ma(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Na{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Na(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){if(Array.isArray(this.metadata.predicate)){const n=this.metadata.predicate;for(let i=0;i<n.length;i++)this.matchTNodeWithReadOption(t,e,Fa(e,n[i]))}else{const n=this.metadata.predicate;n===la?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Wn(e,t,n,!1,!1))}}matchTNodeWithReadOption(t,e,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Lo||i===ua||i===la&&0===e.type)this.addMatch(e.index,-2);else{const n=Wn(e,t,i,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Fa(t,e){const n=t.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function ja(t,e,n,i){return-1===n?function(t,e){return 3===t.type||4===t.type?Qr(Lo,t,e):0===t.type?Xr(la,Lo,t,e):null}(e,t):-2===n?function(t,e,n){return n===Lo?Qr(Lo,e,t):n===la?Xr(la,Lo,e,t):n===ua?Jr(ua,Lo,e,t):void 0}(t,e,i):Un(t,t[1],n,e)}function La(t,e,n,i){const r=e[19].queries[i];if(null===r.matches){const i=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const r=s[t];o.push(r<0?null:ja(e,i[r],s[t+1],n.metadata.read))}r.matches=o}return r.matches}function Va(t){const e=qe(),n=ze(),i=en();nn(i+1);const r=Ga(n,i);if(t.dirty&&Ne(e)===r.metadata.isStatic){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?function t(e,n,i,r){const s=e.queries.getByIndex(i),o=s.matches;if(null!==o){const a=La(e,n,s,i);for(let e=0;e<o.length;e+=2){const i=o[e];if(i>0)r.push(a[e/2]);else{const s=o[e+1],a=n[-i];for(let e=10;e<a.length;e++){const n=a[e];n[17]===n[3]&&t(n[1],n,s,r)}if(null!==a[9]){const e=a[9];for(let n=0;n<e.length;n++){const i=e[n];t(i[1],i,s,r)}}}}}return r}(n,e,i,[]):La(n,e,r,i);t.reset(s),t.notifyOnChanges()}return!0}return!1}function Ba(t,e,n){Ha(ze(),qe(),t,e,n,!1)}function Ha(t,e,n,i,r,s){t.firstCreatePass&&(Ka(t,new Da(n,i,s,r),-1),s&&(t.staticViewQueries=!0)),Ua(t,e)}function qa(t,e,n,i){$a(ze(),qe(),e,n,i,!1,We(),t)}function za(t,e,n,i){$a(ze(),qe(),e,n,i,!0,We(),t)}function $a(t,e,n,i,r,s,o,a){t.firstCreatePass&&(Ka(t,new Da(n,i,s,r),o.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,a),s&&(t.staticContentQueries=!0)),Ua(t,e)}function Wa(){return t=qe(),e=en(),t[19].queries[e].queryList;var t,e}function Ua(t,e){const n=new Aa;!function(t,e,n,i){const r=br(e);r.push(n),t.firstCreatePass&&wr(t).push(i,r.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new Ra),e[19].queries.push(new Pa(n))}function Ka(t,e,n){null===t.queries&&(t.queries=new Ma),t.queries.track(new Na(e,n))}function Ga(t,e){return t.queries.getByIndex(e)}const Ya=new Nt("Application Initializer");let Za=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Vs(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ya,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Qa=new Nt("AppId"),Xa={provide:Qa,useFactory:function(){return`${Ja()}${Ja()}${Ja()}`},deps:[]};function Ja(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const tl=new Nt("Platform Initializer"),el=new Nt("Platform ID"),nl=new Nt("appBootstrapListener");let il=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const rl=new Nt("LocaleId"),sl=new Nt("DefaultCurrencyCode");class ol{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const al=function(t){return new Ia(t)},ll=al,cl=function(t){return Promise.resolve(al(t))},ul=function(t){const e=al(t),n=Dn(_e(t).declarations).reduce((t,e)=>{const n=ge(e);return n&&t.push(new ga(n)),t},[]);return new ol(e,n)},hl=ul,dl=function(t){return Promise.resolve(ul(t))};let pl=(()=>{class t{constructor(){this.compileModuleSync=ll,this.compileModuleAsync=cl,this.compileModuleAndAllComponentsSync=hl,this.compileModuleAndAllComponentsAsync=dl}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const fl=new Nt("compilerOptions"),ml=(()=>Promise.resolve(0))();function gl(t){"undefined"==typeof Zone?ml.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class yl{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ta(!1),this.onMicrotaskEmpty=new Ta(!1),this.onStable=new Ta(!1),this.onError=new Ta(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=e,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let t=It.requestAnimationFrame,e=It.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(It,()=>{t.lastRequestAnimationFrameId=-1,wl(t),bl(t)}),wl(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,i,r,s,o,a)=>{try{return Cl(t),n.invokeTask(r,s,o,a)}finally{e&&"eventTask"===s.type&&e(),Sl(t)}},onInvoke:(e,n,i,r,s,o,a)=>{try{return Cl(t),e.invoke(i,r,s,o,a)}finally{Sl(t)}},onHasTask:(e,n,i,r)=>{e.hasTask(i,r),n===i&&("microTask"==r.change?(t._hasPendingMicrotasks=r.microTask,wl(t),bl(t)):"macroTask"==r.change&&(t.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,n,i,r)=>(e.handleError(i,r),t.runOutsideAngular(()=>t.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!yl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(yl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,i){const r=this._inner,s=r.scheduleEventTask("NgZoneEvent: "+i,t,vl,_l,_l);try{return r.runTask(s,e,n)}finally{r.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function _l(){}const vl={};function bl(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function wl(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Cl(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Sl(t){t._nesting--,bl(t)}class xl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ta,this.onMicrotaskEmpty=new Ta,this.onStable=new Ta,this.onError=new Ta}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,i){return t.apply(e,n)}}let kl=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{yl.assertNotInAngularZone(),gl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())gl(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let i=-1;e&&e>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==i),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Wt(yl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),El=(()=>{class t{constructor(){this._applications=new Map,Ol.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Ol.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Il{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}let Tl,Ol=new Il,Al=function(t,e,n){const i=t.get(fl,[]).concat(e),r=new Ia(n);if(0===ys.size)return Promise.resolve(r);const s=function(t){const e=[];return t.forEach(t=>t&&e.push(...t)),e}(i.map(t=>t.providers));if(0===s.length)return Promise.resolve(r);const o=function(){const t=It.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),a=gs.create({providers:s}).get(o.ResourceLoader);return function(t){const e=[],n=new Map;function i(t){let e=n.get(t);if(!e){const i=(t=>Promise.resolve(a.get(t)))(t);n.set(t,e=i.then(vs))}return e}return ys.forEach((t,n)=>{const r=[];t.templateUrl&&r.push(i(t.templateUrl).then(e=>{t.template=e}));const s=t.styleUrls,o=t.styles||(t.styles=[]),a=t.styles.length;s&&s.forEach((e,n)=>{o.push(""),r.push(i(e).then(i=>{o[a+n]=i,s.splice(s.indexOf(e),1),0==s.length&&(t.styleUrls=void 0)}))});const l=Promise.all(r).then(()=>function(t){_s.delete(t)}(n));e.push(l)}),ys=new Map,Promise.all(e).then(()=>{})}().then(()=>r)};const Pl=new Nt("AllowMultipleToken");function Rl(t,e,n=[]){const i=`Platform: ${e}`,r=new Nt(i);return(e=[])=>{let s=Dl();if(!s||s.injector.get(Pl,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{const t=n.concat(e).concat({provide:r,useValue:!0},{provide:ns,useValue:"platform"});!function(t){if(Tl&&!Tl.destroyed&&!Tl.injector.get(Pl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Tl=t.get(Ml);const e=t.get(tl,null);e&&e.forEach(t=>t())}(gs.create({providers:t,name:i}))}return function(t){const e=Dl();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function Dl(){return Tl&&!Tl.destroyed?Tl:null}let Ml=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new xl:("zone.js"===t?void 0:t)||new yl({enableLongStackTrace:si(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),i=[{provide:yl,useValue:n}];return n.run(()=>{const e=gs.create({providers:i,parent:this.injector,name:t.moduleType.name}),r=t.create(e),s=r.injector.get(ti,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>jl(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{s.handleError(t)}})),function(t,e,n){try{const i=n();return Vs(i)?i.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):i}catch(i){throw e.runOutsideAngular(()=>t.handleError(i)),i}}(s,n,()=>{const t=r.injector.get(Za);return t.runInitializers(),t.donePromise.then(()=>(xa(r.injector.get(rl,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(t,e=[]){const n=Nl({},e);return Al(this.injector,n,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(Fl);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${yt(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Wt(gs))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function Nl(t,e){return Array.isArray(e)?e.reduce(Nl,t):Object.assign(Object.assign({},t),e)}let Fl=(()=>{class t{constructor(t,e,n,i,r,s){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=s,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=si(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new _(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),a=new _(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{yl.assertNotInAngularZone(),gl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{yl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=$(o,a.pipe(t=>{return W()((e=Q,function(t){let n;n="function"==typeof e?e:function(){return e};const i=Object.create(t,Y);return i.source=t,i.subjectFactory=n,i})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof No?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(Zt),r=n.create(gs.NULL,[],e||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const s=r.injector.get(kl,null);return s&&r.injector.get(El).registerApplication(r.location.nativeElement,s),this._loadComponent(r),si()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;jl(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(nl,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),jl(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Wt(yl),Wt(il),Wt(gs),Wt(ti),Wt(jo),Wt(Za))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function jl(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ll=Rl(null,"core",[{provide:el,useValue:"unknown"},{provide:Ml,deps:[gs]},{provide:El,deps:[]},{provide:il,deps:[]}]),Vl=[{provide:Fl,useClass:Fl,deps:[yl,il,gs,ti,jo,Za]},{provide:ma,deps:[yl],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Za,useClass:Za,deps:[[new et,Ya]]},{provide:pl,useClass:pl,deps:[]},Xa,{provide:ia,useFactory:function(){return oa},deps:[]},{provide:ra,useFactory:function(){return aa},deps:[]},{provide:rl,useFactory:function(t){return xa(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new tt(rl),new et,new it]]},{provide:sl,useValue:"USD"}];let Bl=(()=>{class t{constructor(t){}}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(Fl))},providers:Vl}),t})(),Hl=null;function ql(){return Hl}const zl=new Nt("DocumentToken");let $l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Wl,token:t,providedIn:"platform"}),t})();function Wl(){return Wt(Ul)}let Ul=(()=>{class t extends $l{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=ql().getLocation(),this._history=ql().getHistory()}getBaseHrefFromDOM(){return ql().getBaseHref(this._doc)}onPopState(t){ql().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){ql().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){Kl()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){Kl()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl))},t.\u0275prov=at({factory:Gl,token:t,providedIn:"platform"}),t})();function Kl(){return!!window.history.pushState}function Gl(){return new Ul(Wt(zl))}function Yl(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Zl(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ql(t){return t&&"?"!==t[0]?"?"+t:t}let Xl=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:Jl,token:t,providedIn:"root"}),t})();function Jl(t){const e=Wt(zl).location;return new ec(Wt($l),e&&e.origin||"")}const tc=new Nt("appBaseHref");let ec=(()=>{class t extends Xl{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Yl(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+Ql(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,i){const r=this.prepareExternalUrl(n+Ql(i));this._platformLocation.pushState(t,e,r)}replaceState(t,e,n,i){const r=this.prepareExternalUrl(n+Ql(i));this._platformLocation.replaceState(t,e,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(Wt($l),Wt(tc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),nc=(()=>{class t{constructor(t,e){this._subject=new Ta,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Zl(rc(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+Ql(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,rc(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ql(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ql(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)})}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(Wt(Xl),Wt($l))},t.normalizeQueryParams=Ql,t.joinWithSlash=Yl,t.stripTrailingSlash=Zl,t.\u0275prov=at({factory:ic,token:t,providedIn:"root"}),t})();function ic(){return new nc(Wt(Xl),Wt($l))}function rc(t){return t.replace(/\/index.html$/,"")}const sc=function(){var t={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return t[t.Zero]="Zero",t[t.One]="One",t[t.Two]="Two",t[t.Few]="Few",t[t.Many]="Many",t[t.Other]="Other",t}();class oc{}let ac=(()=>{class t extends oc{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(function(t){return function(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=wa(e);if(n)return n;const i=e.split("-")[0];if(n=wa(i),n)return n;if("en"===i)return va;throw new Error(`Missing locale data for the locale "${t}".`)}(t)[Ca.PluralCase]}(e||this.locale)(t)){case sc.Zero:return"zero";case sc.One:return"one";case sc.Two:return"two";case sc.Few:return"few";case sc.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(Wt(rl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),lc=(()=>{class t{constructor(t,e,n,i){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(xs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${yt(t.item)}`);this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(As(ia),As(ra),As(Lo),As(qo))},t.\u0275dir=me({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class cc{constructor(t,e,n,i){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let uc=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){si()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. `+"See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,i)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new cc(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new hc(t,n);e.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const s=new hc(t,r);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=i,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(As(ua),As(la),As(ia))},t.\u0275dir=me({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class hc{constructor(t,e){this.record=t,this.view=e}}let dc=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new pc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){fc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){fc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(As(ua),As(la))},t.\u0275dir=me({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class pc{constructor(){this.$implicit=null,this.ngIf=null}}function fc(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${yt(e)}'.`)}class mc{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let gc=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),yc=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new mc(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(As(ua),As(la),As(gc,1))},t.\u0275dir=me({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})(),_c=(()=>{class t{constructor(t,e,n){n._addDefault(new mc(t,e))}}return t.\u0275fac=function(e){return new(e||t)(As(ua),As(la),As(gc,1))},t.\u0275dir=me({type:t,selectors:[["","ngSwitchDefault",""]]}),t})(),vc=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[{provide:oc,useClass:ac}]}),t})();class bc extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new bc,Hl||(Hl=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Cc||(Cc=document.querySelector("base"),Cc)?Cc.getAttribute("href"):null;return null==e?null:(n=e,wc||(wc=document.createElement("a")),wc.setAttribute("href",n),"/"===wc.pathname.charAt(0)?wc.pathname:"/"+wc.pathname);var n}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[i,r]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(i.trim()===e)return decodeURIComponent(r)}return null}(document.cookie,t)}}let wc,Cc=null;const Sc=new Nt("TRANSITION_ID"),xc=[{provide:Ya,useFactory:function(t,e,n){return()=>{n.get(Za).donePromise.then(()=>{const n=ql();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Sc,zl,gs],multi:!0}];class kc{static init(){var t;t=new kc,Ol=t}addToWindow(t){It.getAngularTestability=(e,n=!0)=>{const i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},It.getAllAngularTestabilities=()=>t.getAllTestabilities(),It.getAllAngularRootElements=()=>t.getAllRootElements(),It.frameworkStabilizers||(It.frameworkStabilizers=[]),It.frameworkStabilizers.push(t=>{const e=It.getAllAngularTestabilities();let n=e.length,i=!1;const r=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(r)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:n?ql().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const Ec=new Nt("EventManagerPlugins");let Ic=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let i=0;i<n.length;i++){const e=n[i];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ec),Wt(yl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Tc{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const i=ql().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,n)}}let Oc=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Ac=(()=>{class t extends Oc{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>ql().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Pc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rc=/%COMP%/g;function Dc(t,e,n){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Dc(t,r,n):(r=r.replace(Rc,t),n.push(r))}return n}function Mc(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Nc=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Fc(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case se.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new jc(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case se.Native:case se.ShadowDom:return new Lc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=Dc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(Wt(Ic),Wt(Ac),Wt(Qa))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class Fc{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Pc[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;const r=Pc[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const i=Pc[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&Ho.DashCase?t.style.setProperty(e,n,i&Ho.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ho.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Mc(n)):this.eventManager.addEventListener(t,e,Mc(n))}}class jc extends Fc{constructor(t,e,n,i){super(t),this.component=n;const r=Dc(i+"-"+n.id,n.styles,[]);e.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Rc,i+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(Rc,t)}(i+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class Lc extends Fc{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===se.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=Dc(i.id,i.styles,[]);for(let s=0;s<r.length;s++){const t=document.createElement("style");t.textContent=r[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Vc=(()=>{class t extends Tc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Bc=["alt","control","meta","shift"],Hc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},qc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},zc={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let $c=(()=>{class t extends Tc{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,i){const r=t.parseEventName(n),s=t.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ql().onAndCancel(e,r.domEventName,s))}static parseEventName(e){const n=e.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=t._normalizeKey(n.pop());let s="";if(Bc.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=r,0!=n.length||0===r.length)return null;const o={};return o.domEventName=i,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&qc.hasOwnProperty(e)&&(e=qc[e]))}return Hc[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Bc.forEach(i=>{i!=n&&(0,zc[i])(t)&&(e+=i+".")}),e+=n,e}static eventCallback(e,n,i){return r=>{t.getEventFullKey(r)===e&&i.runGuarded(()=>n(r))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Wc=Rl(Ll,"browser",[{provide:el,useValue:"browser"},{provide:tl,useValue:function(){bc.makeCurrent(),kc.init()},multi:!0},{provide:zl,useFactory:function(){return function(t){Ee=t}(document),document},deps:[]}]),Uc=[[],{provide:ns,useValue:"root"},{provide:ti,useFactory:function(){return new ti},deps:[]},{provide:Ec,useClass:Vc,multi:!0,deps:[zl,yl,el]},{provide:Ec,useClass:$c,multi:!0,deps:[zl]},[],{provide:Nc,useClass:Nc,deps:[Ic,Ac,Qa]},{provide:Bo,useExisting:Nc},{provide:Oc,useExisting:Ac},{provide:Ac,useClass:Ac,deps:[zl]},{provide:kl,useClass:kl,deps:[yl]},{provide:Ic,useClass:Ic,deps:[Ec,yl]},[]];let Kc=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:Qa,useValue:e.appId},{provide:Sc,useExisting:Qa},xc]}}}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(t,12))},providers:Uc,imports:[vc,Bl]}),t})();function Gc(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((i=i.apply(t,e||[])).next())}))}"undefined"!=typeof window&&window;class Yc extends h{constructor(t,e){super()}schedule(t,e=0){return this}}class Zc extends Yc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,i=void 0;try{this.work(t)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}class Qc extends Zc{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}let Xc=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class Jc extends Xc{constructor(t,e=Xc.now){super(t,()=>Jc.delegate&&Jc.delegate!==this?Jc.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return Jc.delegate&&Jc.delegate!==this?Jc.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}class tu extends Jc{}const eu=new tu(Qc),nu=new _(t=>t.complete());function iu(t){return t?function(t){return new _(e=>t.schedule(()=>e.complete()))}(t):nu}function ru(...t){let e=t[t.length-1];return k(e)?(t.pop(),L(t,e)):z(t)}let su=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return ru(this.value);case"E":return t=this.error,new _(e=>e.error(t));case"C":return iu()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();class ou extends f{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(ou.dispatch,this.delay,new au(t,this.destination)))}_next(t){this.scheduleMessage(su.createNext(t))}_error(t){this.scheduleMessage(su.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(su.createComplete()),this.unsubscribe()}}class au{constructor(t,e){this.notification=t,this.destination=e}}class lu extends S{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift(),super.next(t)}nextTimeWindow(t){this._events.push(new cu(this._getNow(),t)),this._trimBufferThenGetEvents(),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,r=n.length;let s;if(this.closed)throw new b;if(this.isStopped||this.hasError?s=h.EMPTY:(this.observers.push(t),s=new w(this,t)),i&&t.add(t=new ou(t,i)),e)for(let o=0;o<r&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<r&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||eu).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length;let s=0;for(;s<r&&!(t-i[s].time<n);)s++;return r>e&&(s=Math.max(s,r-e)),s>0&&i.splice(0,s),i}}class cu{constructor(t,e){this.time=t,this.value=e}}let uu=(()=>{let t=class{constructor(){this.defaultInitTimeoutMilliseconds=3e3,this.initializationSource=new S}start(t,e){return Gc(this,void 0,void 0,(function*(){const n=e||this.getGlueFactory();if(!n)return this.initializationSource.next({error:{message:"Initialization failed, because no Glue Factory function was found. Please provide a factory function when importing the Glue42Ng module. Alternatively make sure there is a GlueWeb or Glue function attached to the global window object"}}),void this.initializationSource.complete();try{const e=yield this.safeCallFactory(t,n,this.defaultInitTimeoutMilliseconds,`Glue factory timeout hit. Set at: ${this.defaultInitTimeoutMilliseconds} milliseconds`);this.initializationSource.next({glueInstance:e}),this.initializationSource.complete()}catch(i){this.initializationSource.next({error:i}),this.initializationSource.complete()}}))}onState(){return this.initializationSource.asObservable()}getGlueFactory(){return window.GlueWeb||window.Glue}safeCallFactory(t,e,n,i){return new Promise((r,s)=>{let o=!1;const a=setTimeout(()=>{o=!0,s(i)},n);e(t).then(t=>{o||(clearTimeout(a),r(t))}).catch(t=>{o||(clearTimeout(a),s(t))})})}};return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),hu=(()=>{let t=class{constructor(t){this.initializer=t,this.readySource=new lu(1),this.initializer.onState().subscribe(this.handleState.bind(this))}ready(){return this.readySource.asObservable()}get initError(){return this._initError}get glue(){if(!this.glueInstance)throw new Error("Accessing uninitialized glue. This might happen, because Glue is not initialized yet or because there was an error during Glue initialization. Please check the initError object or subscribe to the ready observable.");return this.glueInstance}handleState(t){return t.glueInstance?(this.glueInstance=t.glueInstance,void this.readySource.next({})):t.error?(this._initError=t.error,void this.readySource.next({error:this.initError})):void 0}};return t.\u0275fac=function(e){return new(e||t)(Wt(uu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();var du;let pu=(()=>{let t=du=class{constructor(t){if(t)throw new Error("Glue42Ng Module is already loaded. Import it in the AppModule only")}static forRoot(t){return t=Object.assign({holdInit:!0},t),{ngModule:du,providers:[{provide:Ya,useFactory:t.holdInit?e=>()=>e.start(t.config,t.factory):e=>()=>{e.start(t.config,t.factory)},multi:!0,deps:[uu,hu]},hu,uu]}}};return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(t,12))}}),t})(),fu=(()=>{class t{constructor(t){this.glueStore=t}getAllChannels(){return this.glue.channels.list()}leaveChannel(){return this.glue.channels.leave()}joinChannel(t){return this.glue.channels.join(t)}get glue(){return this.glueStore.glue}}return t.\u0275fac=function(e){return new(e||t)(Wt(hu))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();function mu(t){return null!=t&&"false"!==`${t}`}function gu(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function yu(t){return Array.isArray(t)?t:[t]}function _u(t){return null==t?"":"string"==typeof t?t:`${t}px`}function vu(t){return t instanceof Lo?t.nativeElement:t}const bu=new Jc(Zc);function wu(t,e=bu){return n=>n.lift(new Cu(t,e))}class Cu{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new Su(t,this.dueTime,this.scheduler))}}class Su extends f{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xu,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function xu(t){t.debouncedNext()}let ku=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})(),Eu=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=vu(t);return new _(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new S,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(Wt(ku))},t.\u0275prov=at({factory:function(){return new t(Wt(ku))},token:t,providedIn:"root"}),t})(),Iu=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new Ta,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=mu(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=gu(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(wu(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription&&this._currentSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(As(Eu),As(Lo),As(yl))},t.\u0275dir=me({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),Tu=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[ku]}),t})();function Ou(t,...e){return e.length?e.some(e=>t[e]):t.altKey||t.shiftKey||t.ctrlKey||t.metaKey}function Au(){}class Pu{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new Ru(t,this.nextOrObserver,this.error,this.complete))}}class Ru extends f{constructor(t,e,n,r){super(t),this._tapNext=Au,this._tapError=Au,this._tapComplete=Au,this._tapError=n||Au,this._tapComplete=r||Au,i(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Au,this._tapError=e.error||Au,this._tapComplete=e.complete||Au)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}function Du(t,e){return function(n){return n.lift(new Mu(t,e))}}class Mu{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Nu(t,this.predicate,this.thisArg))}}class Nu extends f{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Fu=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function ju(t){return e=>0===t?iu():e.lift(new Lu(t))}class Lu{constructor(t){if(this.total=t,this.total<0)throw new Fu}call(t,e){return e.subscribe(new Vu(t,this.total))}}class Vu extends f{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}let Bu;try{Bu="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(_v){Bu=!1}let Hu,qu=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Bu)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(Wt(el,8))},t.\u0275prov=at({factory:function(){return new t(Wt(el,8))},token:t,providedIn:"root"}),t})(),zu=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();function $u(t){return function(){if(null==Hu&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Hu=!0}))}finally{Hu=Hu||!1}return Hu}()?t:!!t.capture}class Wu extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new S,this._typeaheadSubscription=h.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new S,this.change=new S,t instanceof Aa&&t.changes.subscribe(t=>{if(this._activeItem){const e=t.toArray().indexOf(this._activeItem);e>-1&&e!==this._activeItemIndex&&(this._activeItemIndex=e)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){if(this._items.length&&this._items.some(t=>"function"!=typeof t.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");var e;return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((e=t=>this._pressedLetters.push(t),function(t){return t.lift(new Pu(e,void 0,void 0))}),wu(t),Du(()=>this._pressedLetters.length>0),N(()=>this._pressedLetters.join(""))).subscribe(t=>{const e=this._getItemsArray();for(let n=1;n<e.length+1;n++){const i=(this._activeItemIndex+n)%e.length,r=e[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}setActiveItem(t){const e=this._activeItemIndex;this.updateActiveItem(t),this._activeItemIndex!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(e=>!t[e]||this._allowedModifierKeys.indexOf(e)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;default:return void((n||Ou(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),n="number"==typeof t?t:e.indexOf(t),i=e[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let n=1;n<=e.length;n++){const i=(this._activeItemIndex+t*n+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const n=this._getItemsArray();if(n[t]){for(;this._skipPredicateFn(n[t]);)if(!n[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof Aa?this._items.toArray():this._items}}{setActiveItem(t){this.activeItem&&this.activeItem.setInactiveStyles(),super.setActiveItem(t),this.activeItem&&this.activeItem.setActiveStyles()}}"undefined"!=typeof Element&&Element;const Uu=new Nt("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Ku=new Nt("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let Gu=(()=>{class t{constructor(t,e,n,i){this._ngZone=e,this._defaultOptions=i,this._document=n,this._liveElement=t||this._createLiveElement()}announce(t,...e){const n=this._defaultOptions;let i,r;return 1===e.length&&"number"==typeof e[0]?r=e[0]:[i,r]=e,this.clear(),clearTimeout(this._previousTimeout),i||(i=n&&n.politeness?n.politeness:"polite"),null==r&&n&&(r=n.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(()=>new Promise(e=>{clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,e(),"number"==typeof r&&(this._previousTimeout=setTimeout(()=>this.clear(),r))},100)}))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}_createLiveElement(){const t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div");for(let n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}return t.\u0275fac=function(e){return new(e||t)(Wt(Uu,8),Wt(yl),Wt(zl),Wt(Ku,8))},t.\u0275prov=at({factory:function(){return new t(Wt(Uu,8),Wt(yl),Wt(zl),Wt(Ku,8))},token:t,providedIn:"root"}),t})(),Yu=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");const e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}return t.\u0275fac=function(e){return new(e||t)(Wt(qu),Wt(zl))},t.\u0275prov=at({factory:function(){return new t(Wt(qu),Wt(zl))},token:t,providedIn:"root"}),t})();const Zu=new Nt("cdk-dir-doc",{providedIn:"root",factory:function(){return Ut(zl)}});let Qu=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new Ta,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(Wt(Zu,8))},t.\u0275prov=at({factory:function(){return new t(Wt(Zu,8))},token:t,providedIn:"root"}),t})(),Xu=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();const Ju=new Wo("9.2.4");function th(...t){return q(1)(ru(...t))}function eh(...t){const e=t[t.length-1];return k(e)?(t.pop(),n=>th(t,n,e)):e=>th(t,e)}class nh{}function ih(t,e){return{type:7,name:t,definitions:e,options:{}}}function rh(t,e=null){return{type:4,styles:e,timings:t}}function sh(t,e=null){return{type:2,steps:t,options:e}}function oh(t){return{type:6,styles:t,offset:null}}function ah(t,e,n){return{type:0,name:t,styles:e,options:n}}function lh(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function ch(t=null){return{type:9,options:t}}function uh(t,e,n=null){return{type:11,selector:t,animation:e,options:n}}function hh(t){Promise.resolve(null).then(t)}class dh{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){hh(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){}getPosition(){return 0}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ph{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,i=0;const r=this.players.length;0==r?hh(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==r&&this._onFinish()}),t.onDestroy(()=>{++n==r&&this._onDestroy()}),t.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){let t=0;return this.players.forEach(e=>{const n=e.getPosition();t=Math.min(n,t)}),t}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function fh(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function mh(t){switch(t.length){case 0:return new dh;case 1:return t[0];default:return new ph(t)}}function gh(t,e,n,i,r={},s={}){const o=[],a=[];let l=-1,c=null;if(i.forEach(t=>{const n=t.offset,i=n==l,u=i&&c||{};Object.keys(t).forEach(n=>{let i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,o),a){case"!":a=r[n];break;case"*":a=s[n];break;default:a=e.normalizeStyleValue(n,i,a,o)}u[i]=a}),i||a.push(u),c=u,l=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function yh(t,e,n,i){switch(e){case"start":t.onStart(()=>i(n&&_h(n,"start",t)));break;case"done":t.onDone(()=>i(n&&_h(n,"done",t)));break;case"destroy":t.onDestroy(()=>i(n&&_h(n,"destroy",t)))}}function _h(t,e,n){const i=n.totalTime,r=vh(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),s=t._data;return null!=s&&(r._data=s),r}function vh(t,e,n,i,r="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:s,disabled:!!o}}function bh(t,e,n){let i;return t instanceof Map?(i=t.get(e),i||t.set(e,i=n)):(i=t[e],i||(i=t[e]=n)),i}function wh(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Ch=(t,e)=>!1,Sh=(t,e)=>!1,xh=(t,e,n)=>[];const kh=fh();(kh||"undefined"!=typeof Element)&&(Ch=(t,e)=>t.contains(e),Sh=(()=>{if(kh||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):Sh}})(),xh=(t,e,n)=>{let i=[];if(n)i.push(...t.querySelectorAll(e));else{const n=t.querySelector(e);n&&i.push(n)}return i});let Eh=null,Ih=!1;function Th(t){Eh||(Eh=("undefined"!=typeof document?document.body:null)||{},Ih=!!Eh.style&&"WebkitAppearance"in Eh.style);let e=!0;return Eh.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Eh.style,!e&&Ih)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Eh.style),e}const Oh=Sh,Ah=Ch,Ph=xh;function Rh(t){const e={};return Object.keys(t).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}let Dh=(()=>{class t{validateStyleProperty(t){return Th(t)}matchesElement(t,e){return Oh(t,e)}containsElement(t,e){return Ah(t,e)}query(t,e,n){return Ph(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,i,r,s=[],o){return new dh(n,i)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})(),Mh=(()=>{class t{}return t.NOOP=new Dh,t})();function Nh(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Fh(parseFloat(e[1]),e[2])}function Fh(t,e){switch(e){case"s":return 1e3*t;default:return t}}function jh(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let i,r=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};i=Fh(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(r=Fh(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else i=t;if(!n){let n=!1,s=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:i,delay:r,easing:s}}(t,e,n)}function Lh(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function Vh(t,e,n={}){if(e)for(let i in t)n[i]=t[i];else Lh(t,n);return n}function Bh(t,e,n){return n?e+":"+n+";":""}function Hh(t){let e="";for(let n=0;n<t.style.length;n++){const i=t.style.item(n);e+=Bh(0,i,t.style.getPropertyValue(i))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=Bh(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function qh(t,e,n){t.style&&(Object.keys(e).forEach(i=>{const r=Zh(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),fh()&&Hh(t))}function zh(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=Zh(e);t.style[n]=""}),fh()&&Hh(t))}function $h(t){return Array.isArray(t)?1==t.length?t[0]:sh(t):t}const Wh=new RegExp("{{\\s*(.+?)\\s*}}","g");function Uh(t){let e=[];if("string"==typeof t){let n;for(;n=Wh.exec(t);)e.push(n[1]);Wh.lastIndex=0}return e}function Kh(t,e,n){const i=t.toString(),r=i.replace(Wh,(t,i)=>{let r=e[i];return e.hasOwnProperty(i)||(n.push(`Please provide a value for the animation param ${i}`),r=""),r.toString()});return r==i?t:r}function Gh(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const Yh=/-+([a-z0-9])/g;function Zh(t){return t.replace(Yh,(...t)=>t[1].toUpperCase())}function Qh(t,e){return 0===t||0===e}function Xh(t,e,n){const i=Object.keys(n);if(i.length&&e.length){let s=e[0],o=[];if(i.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var r=1;r<e.length;r++){let n=e[r];o.forEach((function(e){n[e]=td(t,e)}))}}return e}function Jh(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function td(t,e){return window.getComputedStyle(t)[e]}function ed(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}const i=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const r=i[1],s=i[2],o=i[3];e.push(rd(r,o)),"<"!=s[0]||"*"==r&&"*"==o||e.push(rd(o,r))}(t,n,e)):n.push(t),n}const nd=new Set(["true","1"]),id=new Set(["false","0"]);function rd(t,e){const n=nd.has(t)||id.has(t),i=nd.has(e)||id.has(e);return(r,s)=>{let o="*"==t||t==r,a="*"==e||e==s;return!o&&n&&"boolean"==typeof r&&(o=r?nd.has(t):id.has(t)),!a&&i&&"boolean"==typeof s&&(a=s?nd.has(e):id.has(e)),o&&a}}const sd=new RegExp("s*:selfs*,?","g");function od(t,e,n){return new ad(t).build(e,n)}class ad{constructor(t){this._driver=t}build(t,e){const n=new ld(e);return this._resetContextStyleTimingState(n),Jh(this,$h(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,i=e.depCount=0;const r=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,i=n.name;i.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,r.push(this.visitState(n,e))}),n.name=i}else if(1==t.type){const r=this.visitTransition(t,e);n+=r.queryCount,i+=r.depCount,s.push(r)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:r,transitions:s,queryCount:n,depCount:i,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){const r=new Set,s=i||{};if(n.styles.forEach(t=>{if(cd(t)){const e=t;Object.keys(e).forEach(t=>{Uh(e[t]).forEach(t=>{s.hasOwnProperty(t)||r.add(t)})})}}),r.size){const n=Gh(r.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=Jh(this,$h(t.animation),e);return{type:1,matchers:ed(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:ud(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>Jh(this,t,e)),options:ud(t.options)}}visitGroup(t,e){const n=e.currentTime;let i=0;const r=t.steps.map(t=>{e.currentTime=n;const r=Jh(this,t,e);return i=Math.max(i,e.currentTime),r});return e.currentTime=i,{type:3,steps:r,options:ud(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return hd(jh(t,e).duration,0,"");const i=t;if(i.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=hd(0,0,"");return t.dynamic=!0,t.strValue=i,t}return n=n||jh(i,e),hd(n.duration,n.delay,n.easing)}(t.timings,e.errors);let i;e.currentAnimateTimings=n;let r=t.styles?t.styles:oh({});if(5==r.type)i=this.visitKeyframes(r,e);else{let r=t.styles,s=!1;if(!r){s=!0;const t={};n.easing&&(t.easing=n.easing),r=oh(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,e);o.isEmptyStep=s,i=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?"*"==t?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let i=!1,r=null;return n.forEach(t=>{if(cd(t)){const e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(let t in e)if(e[t].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let i=e.currentTime,r=e.currentTime;n&&r>0&&(r-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(r!=i&&r>=o.startTime&&i<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=o.startTime),a&&(s[n]={startTime:r,endTime:i}),e.options&&function(t,e,n){const i=e.params||{},r=Uh(t);r.length&&r.forEach(t=>{i.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let s=!1,o=!1,a=0;const l=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let l=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(cd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(cd(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),o=o||c<0||c>1,s=s||c<a,a=c,r.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let u=0;i>0&&i<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(u=1/(c-1));const h=c-1,d=e.currentTime,p=e.currentAnimateTimings,f=p.duration;return l.forEach((t,i)=>{const s=u>0?i==h?1:u*i:r[i],o=s*f;e.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:Jh(this,$h(t.animation),e),options:ud(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:ud(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:ud(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[r,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(sd,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,".ng-animating"),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+r:r,bh(e.collectedStyles,e.currentQuerySelector,{});const o=Jh(this,$h(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:ud(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:jh(t.timings,e.errors,!0);return{type:12,animation:Jh(this,$h(t.animation),e),timings:n,options:null}}}class ld{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function cd(t){return!Array.isArray(t)&&"object"==typeof t}function ud(t){var e;return t?(t=Lh(t)).params&&(t.params=(e=t.params)?Lh(e):null):t={},t}function hd(t,e,n){return{duration:t,delay:e,easing:n}}function dd(t,e,n,i,r,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:s,totalTime:r+s,easing:o,subTimeline:a}}class pd{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const fd=new RegExp(":enter","g"),md=new RegExp(":leave","g");function gd(t,e,n,i,r,s={},o={},a,l,c=[]){return(new yd).buildKeyframes(t,e,n,i,r,s,o,a,l,c)}class yd{buildKeyframes(t,e,n,i,r,s,o,a,l,c=[]){l=l||new pd;const u=new vd(t,e,l,i,r,c,[]);u.options=a,u.currentTimeline.setStyles([s],null,u.errors,a),Jh(this,n,u);const h=u.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,u.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[dd(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);r!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let i=e.currentTimeline.currentTime;const r=null!=n.duration?Nh(n.duration):null,s=null!=n.delay?Nh(n.delay):null;return 0!==r&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,r,s);i=Math.max(i,n.duration+n.delay)}),i}visitReference(t,e){e.updateOptions(t.options,!0),Jh(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let i=e;const r=t.options;if(r&&(r.params||r.delay)&&(i=e.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=_d);const t=Nh(r.delay);i.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>Jh(this,t,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let i=e.currentTimeline.currentTime;const r=t.options&&t.options.delay?Nh(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);r&&o.delayNextStep(r),Jh(this,s,o),i=Math.max(i,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return jh(e.params?Kh(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());const r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*r),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(i+r),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,i=t.options||{},r=i.delay?Nh(i.delay):0;r&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=_d);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,i)=>{e.currentQueryIndex=i;const o=e.createSubContext(t.options,n);r&&o.delayNextStep(r),n===e.element&&(a=o.currentTimeline),Jh(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,i=e.currentTimeline,r=t.timings,s=Math.abs(r.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=e.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;Jh(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const _d={};class vd{constructor(t,e,n,i,r,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=_d,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new bd(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let i=this.options;null!=n.duration&&(i.duration=Nh(n.duration)),null!=n.delay&&(i.delay=Nh(n.delay));const r=n.params;if(r){let t=i.params;t||(t=this.options.params={}),Object.keys(r).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=Kh(r[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const i=e||this.element,r=new vd(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(t),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(t){return this.previousNode=_d,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new wd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,i,r,s){let o=[];if(i&&o.push(this.element),t.length>0){t=(t=t.replace(fd,"."+this._enterClassName)).replace(md,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return r||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class bd{constructor(t,e,n,i){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new bd(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||"*",this._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,i){e&&(this._previousKeyframe.easing=e);const r=i&&i.params||{},s=function(t,e){const n={};let i;return t.forEach(t=>{"*"===t?(i=i||Object.keys(e),i.forEach(t=>{n[t]="*"})):Vh(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=Kh(s[t],r,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:"*"),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],i=t._styleSummary[e];(!n||i.time>n.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,s)=>{const o=Vh(r,!0);Object.keys(o).forEach(n=>{const i=o[n];"!"==i?t.add(n):"*"==i&&e.add(n)}),n||(o.offset=s/this.duration),i.push(o)});const r=t.size?Gh(t.values()):[],s=e.size?Gh(e.values()):[];if(n){const t=i[0],e=Lh(t);t.offset=0,e.offset=1,i=[t,e]}return dd(this.element,i,r,s,this.duration,this.startTime,this.easing,!1)}}class wd extends bd{constructor(t,e,n,i,r,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const r=[],s=n+e,o=e/s,a=Vh(t[0],!1);a.offset=0,r.push(a);const l=Vh(t[0],!1);l.offset=Cd(o),r.push(l);const c=t.length-1;for(let i=1;i<=c;i++){let o=Vh(t[i],!1);o.offset=Cd((e+o.offset*n)/s),r.push(o)}n=s,e=0,i="",t=r}return dd(this.element,t,this.preStyleProps,this.postStyleProps,n,e,i,!0)}}function Cd(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class Sd{}class xd extends Sd{normalizePropertyName(t,e){return Zh(t)}normalizeStyleValue(t,e,n,i){let r="";const s=n.toString().trim();if(kd[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&i.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+r}}const kd=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Ed(t,e,n,i,r,s,o,a,l,c,u,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:s,toState:i,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const Id={};class Td{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,i){return function(t,e,n,i,r){return t.some(t=>t(e,n,i,r))}(this.ast.matchers,t,e,n,i)}buildStyles(t,e,n){const i=this._stateStyles["*"],r=this._stateStyles[t],s=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):s}build(t,e,n,i,r,s,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||Id,d=this.buildStyles(n,o&&o.params||Id,u),p=a&&a.params||Id,f=this.buildStyles(i,p,u),m=new Set,g=new Map,y=new Map,_="void"===i,v={params:Object.assign(Object.assign({},h),p)},b=c?[]:gd(t,e,this.ast.animation,r,s,d,f,v,l,u);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),u.length)return Ed(e,this._triggerName,n,i,_,d,f,[],[],g,y,w,u);b.forEach(t=>{const n=t.element,i=bh(g,n,{});t.preStyleProps.forEach(t=>i[t]=!0);const r=bh(y,n,{});t.postStyleProps.forEach(t=>r[t]=!0),n!==e&&m.add(n)});const C=Gh(m.values());return Ed(e,this._triggerName,n,i,_,d,f,b,C,g,y,w)}}class Od{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},i=Lh(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const r=t;Object.keys(r).forEach(t=>{let s=r[t];s.length>1&&(s=Kh(s,i,e)),n[t]=s})}}),n}}class Ad{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new Od(t.style,t.options&&t.options.params||{})}),Pd(this.states,"true","1"),Pd(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new Td(t,e,this.states))}),this.fallbackTransition=new Td(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,i){return this.transitionFactories.find(r=>r.match(t,e,n,i))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function Pd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const Rd=new pd;class Dd{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],i=od(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,n){const i=t.element,r=gh(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const i=[],r=this._animations[t];let s;const o=new Map;if(r?(s=gd(this._driver,e,r,"ng-enter","ng-leave",{},{},n,Rd,i),s.forEach(t=>{const e=bh(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),s=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,"*")})});const a=mh(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,i){const r=vh(e,"","","");return yh(this._getPlayer(t),n,r,i),()=>{}}command(t,e,n,i){if("register"==n)return void this.register(t,i[0]);if("create"==n)return void this.create(t,e,i[0]||{});const r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const Md=[],Nd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Fd={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class jd{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(i=n?t.value:t)?i:null,n){const e=Lh(t);delete e.value,this.options=e}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const Ld=new jd("void");class Vd{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ud(e,this._hostClassName)}listen(t,e,n,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var r;const s=bh(this._elementListeners,t,[]),o={name:e,phase:n,callback:i};s.push(o);const a=bh(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(Ud(t,"ng-trigger"),Ud(t,"ng-trigger-"+e),a[e]=Ld),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,i=!0){const r=this._getTrigger(e),s=new Hd(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(Ud(t,"ng-trigger"),Ud(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const l=new jd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[e]=l,a||(a=Ld),"void"!==l.value&&a.value===l.value){if(!function(t,e){const n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!e.hasOwnProperty(i)||t[i]!==e[i])return!1}return!0}(a.params,l.params)){const e=[],n=r.matchStyles(a.value,a.params,e),i=r.matchStyles(l.value,l.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{zh(t,n),qh(t,i)})}return}const c=bh(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let u=r.matchTransition(a.value,l.value,t,l.params),h=!1;if(!u){if(!i)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:u,fromState:a,toState:l,player:s,isFallbackTransition:h}),h||(Ud(t,"ng-animate-queued"),s.onStart(()=>{Kd(t,"ng-animate-queued")})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,".ng-trigger",!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,i){const r=this._engine.statesByElement.get(t);if(r){const s=[];if(Object.keys(r).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&mh(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const i=e.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,s=this._engine.statesByElement.get(t)[i]||Ld,o=new jd("void"),a=new Hd(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:r,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)i=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)n.markElementAsRemoved(this.id,t,!1,e);else{const i=t.__ng_removed;i&&i!==Nd||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ud(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,s=this._elementListeners.get(r);s&&s.forEach(e=>{if(e.name==n.triggerName){const i=vh(r,n.triggerName,n.fromState.value,n.toState.value);i._data=t,yh(n.player,e.phase,i,e.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,i=e.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class Bd{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new Vd(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let i=0;i<t.length;i++){const r=n[t[i]].namespaceId;if(r){const t=this._fetchNamespace(r);t&&e.add(t)}}}return e}trigger(t,e,n,i){if(qd(e)){const r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}insertNode(t,e,n,i){if(!qd(e))return;const r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const i=this._fetchNamespace(t);i&&i.insertNode(e,n)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ud(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Kd(t,"ng-animate-disabled"))}removeNode(t,e,n,i){if(qd(e)){const r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,i,r){return qd(e)?this._fetchNamespace(t).listen(e,n,i,r):()=>{}}_buildInstruction(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}destroyInnerAnimations(t){let e=this.driver.query(t,".ng-trigger",!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,".ng-animating",!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return mh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=Nd,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Ud(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?mh(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new pd,i=[],r=new Map,s=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Wd(h,this.collectedEnterElements),p=new Map;let f=0;d.forEach((t,e)=>{const n="ng-enter"+f++;p.set(e,n),t.forEach(t=>Ud(t,n))});const m=[],g=new Set,y=new Set;for(let A=0;A<this.collectedLeaveElements.length;A++){const t=this.collectedLeaveElements[A],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const _=new Map,v=Wd(h,Array.from(g));v.forEach((t,e)=>{const n="ng-leave"+f++;_.set(e,n),t.forEach(t=>Ud(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=p.get(e);t.forEach(t=>Kd(t,n))}),v.forEach((t,e)=>{const n=_.get(e);t.forEach(t=>Kd(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let A=this._namespaceList.length-1;A>=0;A--)this._namespaceList[A].drainQueuedTransitions(e).forEach(t=>{const e=t.player,r=t.element;if(b.push(e),this.collectedEnterElements.length){const t=r.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!u||!this.driver.containsElement(u,r),h=_.get(r),d=p.get(r),f=this._buildInstruction(t,n,d,h,c);if(!f.errors||!f.errors.length)return c||t.isFallbackTransition?(e.onStart(()=>zh(r,f.fromStyles)),e.onDestroy(()=>qh(r,f.toStyles)),void i.push(e)):(f.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(r,f.timelines),s.push({instruction:f,player:e,element:r}),f.queriedElements.forEach(t=>bh(o,t,[]).push(e)),f.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),void f.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let i=l.get(e);i||l.set(e,i=new Set),n.forEach(t=>i.add(t))}));w.push(f)});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const C=new Map,S=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(S.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,C))}),i.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{bh(C,e,[]).push(t),t.destroy()})});const x=m.filter(t=>Yd(t,a,l)),k=new Map;$d(k,this.driver,y,l,"*").forEach(t=>{Yd(t,a,l)&&x.push(t)});const E=new Map;d.forEach((t,e)=>{$d(E,this.driver,new Set(t),a,"!")}),x.forEach(t=>{const e=k.get(t),n=E.get(t);k.set(t,Object.assign(Object.assign({},e),n))});const I=[],T=[],O={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>qh(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void i.push(s);let t=O;if(S.size>1){let n=e;const i=[];for(;n=n.parentNode;){const e=S.get(n);if(e){t=e;break}i.push(n)}i.forEach(e=>S.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,C,r,E,k);if(s.setRealPlayer(n),t===O)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=mh(e)),i.push(s)}}else zh(e,o.fromStyles),s.onDestroy(()=>qh(e,o.toStyles)),T.push(s),c.has(e)&&i.push(s)}),T.forEach(t=>{const e=r.get(t.element);if(e&&e.length){const n=mh(e);t.setRealPlayer(n)}}),i.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let A=0;A<m.length;A++){const t=m[A],e=t.__ng_removed;if(Kd(t,"ng-leave"),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let i=this.driver.query(t,".ng-animating",!0);for(let t=0;t<i.length;t++){let e=o.get(i[t]);e&&e.length&&n.push(...e)}}const i=n.filter(t=>!t.destroyed);i.length?Gd(this,t,i):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,i,r){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!r||"void"==r;e.forEach(e=>{e.queued||(t||e.triggerName==i)&&s.push(e)})}}return(n||i)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||i&&i!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const i=e.element,r=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==i,l=bh(n,t,[]);this._getPreviousPlayers(t,a,r,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),l.push(t)})}zh(i,e.fromStyles)}_buildAnimation(t,e,n,i,r,s){const o=e.triggerName,a=e.element,l=[],c=new Set,u=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new dh(e.duration,e.delay);const p=h!==a,f=function(t){const e=[];return function t(e,n){for(let i=0;i<e.length;i++){const r=e[i];r instanceof ph?t(r.players,n):n.push(r)}}(t,e),e}((n.get(h)||Md).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=r.get(h),g=s.get(h),y=gh(0,this._normalizer,0,e.keyframes,m,g),_=this._buildPlayer(e,y,f);if(e.subTimeline&&i&&u.add(h),p){const e=new Hd(t,o,h);e.setRealPlayer(_),l.push(e)}return _});l.forEach(t=>{bh(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let i;if(t instanceof Map){if(i=t.get(e),i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&t.delete(e)}}else if(i=t[e],i){if(i.length){const t=i.indexOf(n);i.splice(t,1)}0==i.length&&delete t[e]}return i}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>Ud(t,"ng-animating"));const d=mh(h);return d.onDestroy(()=>{c.forEach(t=>Kd(t,"ng-animating")),qh(a,e.toStyles)}),u.forEach(t=>{bh(i,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new dh(t.duration,t.delay)}}class Hd{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new dh,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>yh(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){bh(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function qd(t){return t&&1===t.nodeType}function zd(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function $d(t,e,n,i,r){const s=[];n.forEach(t=>s.push(zd(t)));const o=[];i.forEach((n,i)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=Fd,o.push(i))}),t.set(i,s)});let a=0;return n.forEach(t=>zd(t,s[a++])),o}function Wd(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const i=new Set(e),r=new Map;return e.forEach(t=>{const e=function t(e){if(!e)return 1;let s=r.get(e);if(s)return s;const o=e.parentNode;return s=n.has(o)?o:i.has(o)?1:t(o),r.set(e,s),s}(t);1!==e&&n.get(e).push(t)}),n}function Ud(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function Kd(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function Gd(t,e,n){mh(n).onDone(()=>t.processLeaveNode(e))}function Yd(t,e,n){const i=n.get(t);if(!i)return!1;let r=e.get(t);return r?i.forEach(t=>r.add(t)):e.set(t,i),n.delete(t),!0}class Zd{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new Bd(t,e,n),this._timelineEngine=new Dd(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,i,r){const s=t+"-"+i;let o=this._triggerCache[s];if(!o){const t=[],e=od(this._driver,r,t);if(t.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new Ad(t,e)}(i,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,i,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}onRemove(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,i){if("@"==n.charAt(0)){const[t,r]=wh(n);this._timelineEngine.command(t,e,r,i)}else this._transitionEngine.trigger(t,e,n,i)}listen(t,e,n,i,r){if("@"==n.charAt(0)){const[t,i]=wh(n);return this._timelineEngine.listen(t,e,i,r)}return this._transitionEngine.listen(t,e,n,i,r)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Qd(t,e){let n=null,i=null;return Array.isArray(e)&&e.length?(n=Jd(e[0]),e.length>1&&(i=Jd(e[e.length-1]))):e&&(n=Jd(e)),n||i?new Xd(t,n,i):null}let Xd=(()=>{class t{constructor(e,n,i){this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;let r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&qh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qh(this._element,this._initialStyles),this._endStyles&&(qh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(zh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(zh(this._element,this._endStyles),this._endStyles=null),qh(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function Jd(t){let e=null;const n=Object.keys(t);for(let i=0;i<n.length;i++){const r=n[i];tp(r)&&(e=e||{},e[r]=t[r])}return e}function tp(t){return"display"===t||"position"===t}class ep{constructor(t,e,n,i,r,s,o){this._element=t,this._name=e,this._duration=n,this._delay=i,this._easing=r,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){!function(t,e){const n=ap(t,"").trim();n.length&&(function(t,e){let n=0;for(let i=0;i<t.length;i++)","===t.charAt(i)&&n++}(n),e=`${n}, ${e}`),op(t,"",e)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sp(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){np(this._element,this._name,"paused")}resume(){np(this._element,this._name,"running")}setPosition(t){const e=ip(this._element,this._name);this._position=t*this._duration,op(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sp(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=ap(t,"").split(","),i=rp(n,e);i>=0&&(n.splice(i,1),op(t,"",n.join(",")))}(this._element,this._name))}}function np(t,e,n){op(t,"PlayState",n,ip(t,e))}function ip(t,e){const n=ap(t,"");return n.indexOf(",")>0?rp(n.split(","),e):rp([n],e)}function rp(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function sp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function op(t,e,n,i){const r="animation"+e;if(null!=i){const e=t.style[r];if(e.length){const t=e.split(",");t[i]=n,n=t.join(",")}}t.style[r]=n}function ap(t,e){return t.style["animation"+e]}class lp{constructor(t,e,n,i,r,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=i+r,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new ep(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:td(this.element,n))})}this.currentSnapshot=t}}class cp extends dh{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=Rh(e)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class up{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(t){return Th(t)}matchesElement(t,e){return Oh(t,e)}containsElement(t,e){return Ah(t,e)}query(t,e,n){return Ph(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>Rh(t));let i=`@keyframes ${e} {\n`,r="";n.forEach(t=>{r=" ";const e=parseFloat(t.offset);i+=`${r}${100*e}% {\n`,r+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${e}: ${n};\n`)}}),i+=`${r}}\n`}),i+="}\n";const s=document.createElement("style");return s.innerHTML=i,s}animate(t,e,n,i,r,s=[],o){o&&this._notifyFaultyScrubber();const a=s.filter(t=>t instanceof lp),l={};Qh(n,i)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=Xh(t,e,l));if(0==n)return new cp(t,c);const u=`gen_css_kf_${this._count++}`,h=this.buildKeyframeElement(t,u,e);document.querySelector("head").appendChild(h);const d=Qd(t,e),p=new lp(t,e,u,n,i,r,c,d);return p.onDestroy(()=>{var t;(t=h).parentNode.removeChild(t)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class hp{constructor(t,e,n,i){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:td(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class dp{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(pp().toString()),this._cssKeyframesDriver=new up}validateStyleProperty(t){return Th(t)}matchesElement(t,e){return Oh(t,e)}containsElement(t,e){return Ah(t,e)}query(t,e,n){return Ph(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,i,r,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,s);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=s.filter(t=>t instanceof hp);Qh(n,i)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>l[t]=e[t])});const u=Qd(t,e=Xh(t,e=e.map(t=>Vh(t,!1)),l));return new hp(t,e,a,u)}}function pp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let fp=(()=>{class t extends nh{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:se.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?sh(t):t;return yp(this._renderer,null,e,"register",[n]),new mp(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Bo),Wt(zl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class mp extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new gp(this._id,t,e||{},this._renderer)}}class gp{constructor(t,e,n,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return yp(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){return 0}}function yp(t,e,n,i,r){return t.setProperty(e,`@@${n}:${i}`,r)}let _p=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new vp("",n,this.engine),this._rendererCache.set(n,t)),t}const i=e.id,r=e.id+"-"+this._currentId;this._currentId++,this.engine.register(r,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(i,r,t,e.name,e)};return e.data.animation.forEach(s),new bp(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(Wt(Bo),Wt(Zd),Wt(yl))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();class vp{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,!0)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,i){this.delegate.setStyle(t,e,n,i)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class bp extends vp{constructor(t,e,n,i){super(e,n,i),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const i=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let r=e.substr(1),s="";return"@"!=r.charAt(0)&&([r,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(r)),this.engine.listen(this.namespaceId,i,r,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let wp=(()=>{class t extends Zd{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl),Wt(Mh),Wt(Sd))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const Cp=new Nt("AnimationModuleType"),Sp=[{provide:Mh,useFactory:function(){return"function"==typeof pp()?new dp:new up}},{provide:Cp,useValue:"BrowserAnimations"},{provide:nh,useClass:fp},{provide:Sd,useFactory:function(){return new xd}},{provide:Zd,useClass:wp},{provide:Bo,useFactory:function(t,e,n){return new _p(t,e,n)},deps:[Nc,Zd,yl]}];let xp=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:Sp,imports:[Kc]}),t})();const kp=["*",[["mat-option"],["ng-container"]]],Ep=["*","mat-option, ng-container"];function Ip(t,e){if(1&t&&Ns(0,"mat-pseudo-checkbox",3),2&t){const t=zs();Ps("state",t.selected?"checked":"unchecked")("disabled",t.disabled)}}const Tp=["*"],Op=new Wo("9.2.4"),Ap=new Nt("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Pp,Rp=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const t=this._document||document;return"object"==typeof t&&t?t:null}_getWindow(){const t=this._getDocument(),e=(null==t?void 0:t.defaultView)||window;return"object"==typeof e&&e?e:null}_checksAreEnabled(){return si()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){const t=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),e=this._getDocument();t&&e&&!e.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const t=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,e=this._getDocument();if(t||!e||!e.body||"function"!=typeof getComputedStyle)return;const n=e.createElement("div");n.classList.add("mat-theme-loaded-marker"),e.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),e.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Op.full!==Ju.full&&console.warn("The Angular Material version ("+Op.full+") does not match the Angular CDK version ("+Ju.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)(Wt(Yu),Wt(Ap,8),Wt(zl,8))},imports:[[Xu],Xu]}),t})();function Dp(t){return class extends t{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=mu(t)}}}function Mp(t,e){return class extends t{constructor(...t){super(...t),this.color=e}get color(){return this._color}set color(t){const n=t||e;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),n&&this._elementRef.nativeElement.classList.add(`mat-${n}`),this._color=n)}}}function Np(t){return class extends t{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=mu(t)}}}function Fp(t,e=0){return class extends t{constructor(...t){super(...t),this._tabIndex=e}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?t:e}}}function jp(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new S}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{Pp="undefined"!=typeof Intl}catch(_v){Pp=!1}let Lp=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=at({factory:function(){return new t},token:t,providedIn:"root"}),t})();class Vp{constructor(t,e,n){this._renderer=t,this.element=e,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Bp={enterDuration:450,exitDuration:400},Hp=$u({passive:!0}),qp=["mousedown","touchstart"],zp=["mouseup","mouseleave","touchend","touchcancel"];class $p{constructor(t,e,n,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vu(n))}fadeInRipple(t,e,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},Bp),n.animation);n.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const s=n.radius||function(t,e,n){const i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,i),o=t-i.left,a=e-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=`${o-s}px`,c.style.top=`${a-s}px`,c.style.height=`${2*s}px`,c.style.width=`${2*s}px`,null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const u=new Vp(this,c,n);return u.state=0,this._activeRipples.add(u),n.persistent||(this._mostRecentTransientRipple=u),this._runTimeoutOutsideZone(()=>{const t=u===this._mostRecentTransientRipple;u.state=1,n.persistent||t&&this._isPointerDown||u.fadeOut()},l),u}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const n=t.element,i=Object.assign(Object.assign({},Bp),t.config.animation);n.style.transitionDuration=`${i.exitDuration}ms`,n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}setupTriggerEvents(t){const e=vu(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(qp))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(zp),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=function(t){return 0===t.buttons}(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let t=0;t<e.length;t++)this.fadeInRipple(e[t].clientX,e[t].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(t=>{this._triggerElement.addEventListener(t,this,Hp)})})}_removeTriggerEvents(){this._triggerElement&&(qp.forEach(t=>{this._triggerElement.removeEventListener(t,this,Hp)}),this._pointerUpEventsRegistered&&zp.forEach(t=>{this._triggerElement.removeEventListener(t,this,Hp)}))}}const Wp=new Nt("mat-ripple-global-options");let Up=(()=>{class t{constructor(t,e,n,i,r){this._elementRef=t,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new $p(this,e,t,n)}get disabled(){return this._disabled}set disabled(t){this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,e=0,n){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}return t.\u0275fac=function(e){return new(e||t)(As(Lo),As(yl),As(qu),As(Wp,8),As(Cp,8))},t.\u0275dir=me({type:t,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&eo("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),t})(),Kp=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Rp,zu],Rp]}),t})(),Gp=(()=>{class t{constructor(t){this._animationMode=t,this.state="unchecked",this.disabled=!1}}return t.\u0275fac=function(e){return new(e||t)(As(Cp,8))},t.\u0275cmp=ce({type:t,selectors:[["mat-pseudo-checkbox"]],hostAttrs:[1,"mat-pseudo-checkbox"],hostVars:8,hostBindings:function(t,e){2&t&&eo("mat-pseudo-checkbox-indeterminate","indeterminate"===e.state)("mat-pseudo-checkbox-checked","checked"===e.state)("mat-pseudo-checkbox-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)},inputs:{state:"state",disabled:"disabled"},decls:0,vars:0,template:function(t,e){},styles:['.mat-pseudo-checkbox{width:16px;height:16px;border:2px solid;border-radius:2px;cursor:pointer;display:inline-block;vertical-align:middle;box-sizing:border-box;position:relative;flex-shrink:0;transition:border-color 90ms cubic-bezier(0, 0, 0.2, 0.1),background-color 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox::after{position:absolute;opacity:0;content:"";border-bottom:2px solid currentColor;transition:opacity 90ms cubic-bezier(0, 0, 0.2, 0.1)}.mat-pseudo-checkbox.mat-pseudo-checkbox-checked,.mat-pseudo-checkbox.mat-pseudo-checkbox-indeterminate{border-color:transparent}._mat-animation-noopable.mat-pseudo-checkbox{transition:none;animation:none}._mat-animation-noopable.mat-pseudo-checkbox::after{transition:none}.mat-pseudo-checkbox-disabled{cursor:default}.mat-pseudo-checkbox-indeterminate::after{top:5px;left:1px;width:10px;opacity:1;border-radius:2px}.mat-pseudo-checkbox-checked::after{top:2.4px;left:1px;width:8px;height:3px;border-left:2px solid currentColor;transform:rotate(-45deg);opacity:1;box-sizing:content-box}\n'],encapsulation:2,changeDetection:0}),t})(),Yp=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();class Zp{}const Qp=Dp(Zp);let Xp=0,Jp=(()=>{class t extends Qp{constructor(){super(...arguments),this._labelId=`mat-optgroup-label-${Xp++}`}}return t.\u0275fac=function(e){return tf(e||t)},t.\u0275cmp=ce({type:t,selectors:[["mat-optgroup"]],hostAttrs:["role","group",1,"mat-optgroup"],hostVars:4,hostBindings:function(t,e){2&t&&(Is("aria-disabled",e.disabled.toString())("aria-labelledby",e._labelId),eo("mat-optgroup-disabled",e.disabled))},inputs:{disabled:"disabled",label:"label"},exportAs:["matOptgroup"],features:[_o],ngContentSelectors:Ep,decls:4,vars:2,consts:[[1,"mat-optgroup-label",3,"id"]],template:function(t,e){1&t&&(Ws(kp),Ds(0,"label",0),po(1),Us(2),Ms(),Us(3,1)),2&t&&(Ps("id",e._labelId),Oi(1),mo("",e.label," "))},styles:[".mat-optgroup-label{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup-label[disabled]{cursor:default}[dir=rtl] .mat-optgroup-label{text-align:right}.mat-optgroup-label .mat-icon{margin-right:16px;vertical-align:middle}.mat-optgroup-label .mat-icon svg{vertical-align:top}[dir=rtl] .mat-optgroup-label .mat-icon{margin-left:16px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();const tf=Zn(Jp);let ef=0;class nf{constructor(t,e=!1){this.source=t,this.isUserInput=e}}const rf=new Nt("MAT_OPTION_PARENT_COMPONENT");let sf=(()=>{class t{constructor(t,e,n,i){this._element=t,this._changeDetectorRef=e,this._parent=n,this.group=i,this._selected=!1,this._active=!1,this._disabled=!1,this._mostRecentViewValue="",this.id=`mat-option-${ef++}`,this.onSelectionChange=new Ta,this._stateChanges=new S}get multiple(){return this._parent&&this._parent.multiple}get selected(){return this._selected}get disabled(){return this.group&&this.group.disabled||this._disabled}set disabled(t){this._disabled=mu(t)}get disableRipple(){return this._parent&&this._parent.disableRipple}get active(){return this._active}get viewValue(){return(this._getHostElement().textContent||"").trim()}select(){this._selected||(this._selected=!0,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}deselect(){this._selected&&(this._selected=!1,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent())}focus(t,e){const n=this._getHostElement();"function"==typeof n.focus&&n.focus(e)}setActiveStyles(){this._active||(this._active=!0,this._changeDetectorRef.markForCheck())}setInactiveStyles(){this._active&&(this._active=!1,this._changeDetectorRef.markForCheck())}getLabel(){return this.viewValue}_handleKeydown(t){13!==t.keyCode&&32!==t.keyCode||Ou(t)||(this._selectViaInteraction(),t.preventDefault())}_selectViaInteraction(){this.disabled||(this._selected=!this.multiple||!this._selected,this._changeDetectorRef.markForCheck(),this._emitSelectionChangeEvent(!0))}_getAriaSelected(){return this.selected||!this.multiple&&null}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._element.nativeElement}ngAfterViewChecked(){if(this._selected){const t=this.viewValue;t!==this._mostRecentViewValue&&(this._mostRecentViewValue=t,this._stateChanges.next())}}ngOnDestroy(){this._stateChanges.complete()}_emitSelectionChangeEvent(t=!1){this.onSelectionChange.emit(new nf(this,t))}}return t.\u0275fac=function(e){return new(e||t)(As(Lo),As(ts),As(rf,8),As(Jp,8))},t.\u0275cmp=ce({type:t,selectors:[["mat-option"]],hostAttrs:["role","option",1,"mat-option","mat-focus-indicator"],hostVars:12,hostBindings:function(t,e){1&t&&Bs("click",(function(){return e._selectViaInteraction()}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&(go("id",e.id),Is("tabindex",e._getTabIndex())("aria-selected",e._getAriaSelected())("aria-disabled",e.disabled.toString()),eo("mat-selected",e.selected)("mat-option-multiple",e.multiple)("mat-active",e.active)("mat-option-disabled",e.disabled))},inputs:{id:"id",disabled:"disabled",value:"value"},outputs:{onSelectionChange:"onSelectionChange"},exportAs:["matOption"],ngContentSelectors:Tp,decls:4,vars:3,consts:[["class","mat-option-pseudo-checkbox",3,"state","disabled",4,"ngIf"],[1,"mat-option-text"],["mat-ripple","",1,"mat-option-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-option-pseudo-checkbox",3,"state","disabled"]],template:function(t,e){1&t&&(Ws(),Os(0,Ip,1,2,"mat-pseudo-checkbox",0),Ds(1,"span",1),Us(2),Ms(),Ns(3,"div",2)),2&t&&(Ps("ngIf",e.multiple),Oi(3),Ps("matRippleTrigger",e._getHostElement())("matRippleDisabled",e.disabled||e.disableRipple))},directives:[dc,Up,Gp],styles:[".mat-option{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative;cursor:pointer;outline:none;display:flex;flex-direction:row;max-width:100%;box-sizing:border-box;align-items:center;-webkit-tap-highlight-color:transparent}.mat-option[disabled]{cursor:default}[dir=rtl] .mat-option{text-align:right}.mat-option .mat-icon{margin-right:16px;vertical-align:middle}.mat-option .mat-icon svg{vertical-align:top}[dir=rtl] .mat-option .mat-icon{margin-left:16px;margin-right:0}.mat-option[aria-disabled=true]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:32px}[dir=rtl] .mat-optgroup .mat-option:not(.mat-option-multiple){padding-left:16px;padding-right:32px}.cdk-high-contrast-active .mat-option{margin:0 1px}.cdk-high-contrast-active .mat-option.mat-active{border:solid 1px currentColor;margin:0}.mat-option-text{display:inline-block;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.mat-option .mat-option-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.cdk-high-contrast-active .mat-option .mat-option-ripple{opacity:.5}.mat-option-pseudo-checkbox{margin-right:8px}[dir=rtl] .mat-option-pseudo-checkbox{margin-left:8px;margin-right:0}\n"],encapsulation:2,changeDetection:0}),t})();function of(t,e,n){if(n.length){let i=e.toArray(),r=n.toArray(),s=0;for(let e=0;e<t+1;e++)i[e].group&&i[e].group===r[s]&&s++;return s}return 0}let af=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Kp,vc,Yp]]}),t})();const lf=new Nt("mat-label-global-options");function cf(t,e,n,r){return i(n)&&(r=n,n=void 0),r?cf(t,e,n).pipe(N(t=>l(t)?r(...t):r(t))):new _(i=>{!function t(e,n,i,r,s){let o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){const t=e;e.addEventListener(n,i,s),o=()=>t.removeEventListener(n,i,s)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){const t=e;e.on(n,i),o=()=>t.off(n,i)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){const t=e;e.addListener(n,i),o=()=>t.removeListener(n,i)}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(let o=0,a=e.length;o<a;o++)t(e[o],n,i,r,s)}r.add(o)}(t,e,(function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)}),i,n)})}function uf(t){return e=>e.lift(new hf(t))}class hf{constructor(t){this.notifier=t}call(t,e){const n=new df(t),i=D(n,this.notifier);return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}class df extends M{constructor(t){super(t),this.seenValue=!1}notifyNext(t,e,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}const pf=["underline"],ff=["connectionContainer"],mf=["inputContainer"],gf=["label"];function yf(t,e){1&t&&(Fs(0),Ds(1,"div",14),Ns(2,"div",15),Ns(3,"div",16),Ns(4,"div",17),Ms(),Ds(5,"div",18),Ns(6,"div",15),Ns(7,"div",16),Ns(8,"div",17),Ms(),js())}function _f(t,e){1&t&&(Ds(0,"div",19),Us(1,1),Ms())}function vf(t,e){if(1&t&&(Fs(0),Us(1,2),Ds(2,"span"),po(3),Ms(),js()),2&t){const t=zs(2);Oi(3),fo(t._control.placeholder)}}function bf(t,e){1&t&&Us(0,3,["*ngSwitchCase","true"])}function wf(t,e){1&t&&(Ds(0,"span",23),po(1," *"),Ms())}function Cf(t,e){if(1&t){const t=Ls();Ds(0,"label",20,21),Bs("cdkObserveContent",(function(){return $e(t),zs().updateOutlineGap()})),Os(2,vf,4,1,"ng-container",12),Os(3,bf,1,0,void 0,12),Os(4,wf,2,0,"span",22),Ms()}if(2&t){const t=zs();eo("mat-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat)("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),Ps("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),Is("for",t._control.id)("aria-owns",t._control.id),Oi(2),Ps("ngSwitchCase",!1),Oi(1),Ps("ngSwitchCase",!0),Oi(1),Ps("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Sf(t,e){1&t&&(Ds(0,"div",24),Us(1,4),Ms())}function xf(t,e){if(1&t&&(Ds(0,"div",25,26),Ns(2,"span",27),Ms()),2&t){const t=zs();Oi(2),eo("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function kf(t,e){1&t&&(Ds(0,"div"),Us(1,5),Ms()),2&t&&Ps("@transitionMessages",zs()._subscriptAnimationState)}function Ef(t,e){if(1&t&&(Ds(0,"div",31),po(1),Ms()),2&t){const t=zs(2);Ps("id",t._hintLabelId),Oi(1),fo(t.hintLabel)}}function If(t,e){if(1&t&&(Ds(0,"div",28),Os(1,Ef,2,2,"div",29),Us(2,6),Ns(3,"div",30),Us(4,7),Ms()),2&t){const t=zs();Ps("@transitionMessages",t._subscriptAnimationState),Oi(1),Ps("ngIf",t.hintLabel)}}const Tf=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Of=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Af=0,Pf=(()=>{class t{constructor(){this.id=`mat-error-${Af++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["mat-error"]],hostAttrs:["role","alert",1,"mat-error"],hostVars:1,hostBindings:function(t,e){2&t&&Is("id",e.id)},inputs:{id:"id"}}),t})();const Rf={transitionMessages:ih("transitionMessages",[ah("enter",oh({opacity:1,transform:"translateY(0%)"})),lh("void => enter",[oh({opacity:0,transform:"translateY(-100%)"}),rh("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Df=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t}),t})();function Mf(t){return Error(`A hint was already declared for 'align="${t}"'.`)}let Nf=0,Ff=(()=>{class t{constructor(){this.align="start",this.id=`mat-hint-${Nf++}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["mat-hint"]],hostAttrs:[1,"mat-hint"],hostVars:4,hostBindings:function(t,e){2&t&&(Is("id",e.id)("align",null),eo("mat-right","end"==e.align))},inputs:{align:"align",id:"id"}}),t})(),jf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["mat-label"]]}),t})(),Lf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["mat-placeholder"]]}),t})(),Vf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["","matPrefix",""]]}),t})(),Bf=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["","matSuffix",""]]}),t})(),Hf=0;class qf{constructor(t){this._elementRef=t}}const zf=Mp(qf,"primary"),$f=new Nt("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Wf=new Nt("MatFormField");let Uf=(()=>{class t extends zf{constructor(t,e,n,i,r,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=i,this._defaults=r,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new S,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId=`mat-hint-${Hf++}`,this._labelId=`mat-form-field-label-${Hf++}`,this._labelOptions=n||{},this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=r&&r.appearance?r.appearance:"legacy",this._hideRequiredMarker=!(!r||null==r.hideRequiredMarker)&&r.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=mu(t)}get _shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}get _canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}get _labelChild(){return this._labelChildNonStatic||this._labelChildStatic}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(eh(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(uf(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.asObservable().pipe(uf(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),$(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(eh(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(eh(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(uf(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!!this._labelChild}_shouldLabelFloat(){return this._canLabelFloat&&(this._control.shouldLabelFloat||this._shouldAlwaysFloat)}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,cf(this._label.nativeElement,"transitionend").pipe(ju(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){if(this._control.placeholder&&this._placeholderChild)throw Error("Placeholder attribute and child element were both specified.")}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){if(this._hintChildren){let t,e;this._hintChildren.forEach(n=>{if("start"===n.align){if(t||this.hintLabel)throw Mf("start");t=n}else if("end"===n.align){if(e)throw Mf("end");e=n}})}}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||this._labelOptions.float||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if("hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&(t=this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){if(!this._control)throw Error("mat-form-field must contain a MatFormFieldControl.")}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const i=this._connectionContainerRef.nativeElement,r=i.querySelectorAll(".mat-form-field-outline-start"),s=i.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const r=i.getBoundingClientRect();if(0===r.width&&0===r.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(r),o=this._getStartEnd(t.children[0].getBoundingClientRect());let a=0;for(const e of t.children)a+=e.offsetWidth;e=Math.abs(o-s)-5,n=a>0?.75*a+10:0}for(let o=0;o<r.length;o++)r[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(As(Lo),As(ts),As(lf,8),As(Qu,8),As($f,8),As(qu),As(yl),As(Cp,8))},t.\u0275cmp=ce({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){var i;1&t&&(qa(n,Df,!0),za(n,Df,!0),qa(n,jf,!0),za(n,jf,!0),qa(n,Lf,!0),qa(n,Pf,!0),qa(n,Ff,!0),qa(n,Vf,!0),qa(n,Bf,!0)),2&t&&(Va(i=Wa())&&(e._controlNonStatic=i.first),Va(i=Wa())&&(e._controlStatic=i.first),Va(i=Wa())&&(e._labelChildNonStatic=i.first),Va(i=Wa())&&(e._labelChildStatic=i.first),Va(i=Wa())&&(e._placeholderChild=i.first),Va(i=Wa())&&(e._errorChildren=i),Va(i=Wa())&&(e._hintChildren=i),Va(i=Wa())&&(e._prefixChildren=i),Va(i=Wa())&&(e._suffixChildren=i))},viewQuery:function(t,e){var n,i;1&t&&(Ba(pf,!0),i=ff,!0,Ha(ze(),qe(),i,!0,void 0,!0),Ba(mf,!0),Ba(gf,!0)),2&t&&(Va(n=Wa())&&(e.underlineRef=n.first),Va(n=Wa())&&(e._connectionContainerRef=n.first),Va(n=Wa())&&(e._inputContainerRef=n.first),Va(n=Wa())&&(e._label=n.first))},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&eo("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat)("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[Mo([{provide:Wf,useExisting:t}]),_o],ngContentSelectors:Of,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(Ws(Tf),Ds(0,"div",0),Ds(1,"div",1,2),Bs("click",(function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)})),Os(3,yf,9,0,"ng-container",3),Os(4,_f,2,0,"div",4),Ds(5,"div",5,6),Us(7),Ds(8,"span",7),Os(9,Cf,5,16,"label",8),Ms(),Ms(),Os(10,Sf,2,0,"div",9),Ms(),Os(11,xf,3,4,"div",10),Ds(12,"div",11),Os(13,kf,2,1,"div",12),Os(14,If,5,2,"div",13),Ms(),Ms()),2&t&&(Oi(3),Ps("ngIf","outline"==e.appearance),Oi(1),Ps("ngIf",e._prefixChildren.length),Oi(5),Ps("ngIf",e._hasFloatingLabel()),Oi(1),Ps("ngIf",e._suffixChildren.length),Oi(1),Ps("ngIf","outline"!=e.appearance),Oi(1),Ps("ngSwitch",e._getDisplayedMessages()),Oi(1),Ps("ngSwitchCase","error"),Oi(1),Ps("ngSwitchCase","hint"))},directives:[dc,gc,yc,Iu],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:scaleX(1);transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Rf.transitionMessages]},changeDetection:0}),t})(),Kf=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[vc,Rp,Tu],Rp]}),t})();class Gf{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Yf(t,this.compare,this.keySelector))}}class Yf extends f{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}class Zf{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new Qf(t,this.durationSelector))}}class Qf extends M{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:e}=this;n=e(t)}catch(e){return this.destination.error(e)}const i=D(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:t,hasValue:e,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))}notifyNext(t,e,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Xf(t){return!l(t)&&t-parseFloat(t)+1>=0}function Jf(t){const{index:e,period:n,subscriber:i}=t;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function tm(t,e=bu){return n=()=>function(t=0,e,n){let i=-1;return Xf(e)?i=Number(e)<1?1:Number(e):k(e)&&(n=e),k(n)||(n=bu),new _(e=>{const r=Xf(t)?t:+t-n.now();return n.schedule(Jf,r,{index:0,period:i,subscriber:e})})}(t,e),function(t){return t.lift(new Zf(n))};var n}function em(t,e){return"function"==typeof e?n=>n.pipe(em((n,i)=>V(t(n,i)).pipe(N((t,r)=>e(n,t,i,r))))):e=>e.lift(new nm(t))}class nm{constructor(t){this.project=t}call(t,e){return e.subscribe(new im(t,this.project))}}class im extends M{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e,t,n)}_innerSub(t,e,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new E(this,e,n),s=this.destination;s.add(r),this.innerSubscription=D(this,t,void 0,void 0,r),this.innerSubscription!==r&&s.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(t){this.destination.remove(t),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(t,e,n,i,r){this.destination.next(e)}}class rm{constructor(t=!1,e,n=!0){this._multiple=t,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new S,e&&e.length&&(t?e.forEach(t=>this._markSelected(t)):this._markSelected(e[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...t){this._verifyValueAssignment(t),t.forEach(t=>this._markSelected(t)),this._emitChangeEvent()}deselect(...t){this._verifyValueAssignment(t),t.forEach(t=>this._unmarkSelected(t)),this._emitChangeEvent()}toggle(t){this.isSelected(t)?this.deselect(t):this.select(t)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(t){return this._selection.has(t)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(t){this._multiple&&this.selected&&this._selected.sort(t)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(t){this.isSelected(t)||(this._multiple||this._unmarkAll(),this._selection.add(t),this._emitChanges&&this._selectedToEmit.push(t))}_unmarkSelected(t){this.isSelected(t)&&(this._selection.delete(t),this._emitChanges&&this._deselectedToEmit.push(t))}_unmarkAll(){this.isEmpty()||this._selection.forEach(t=>this._unmarkSelected(t))}_verifyValueAssignment(t){if(t.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let sm=(()=>{class t{constructor(t,e,n){this._ngZone=t,this._platform=e,this._scrolled=new S,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new _(e=>{this._globalSubscription||this._addGlobalListener();const n=t>0?this._scrolled.pipe(tm(t)).subscribe(e):this._scrolled.subscribe(e);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):ru()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,e)=>this.deregister(e)),this._scrolled.complete()}ancestorScrolled(t,e){const n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Du(t=>!t||n.indexOf(t)>-1))}getAncestorScrollContainers(t){const e=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,t)&&e.push(i)}),e}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(t,e){let n=e.nativeElement,i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>cf(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return t.\u0275fac=function(e){return new(e||t)(Wt(yl),Wt(qu),Wt(zl,8))},t.\u0275prov=at({factory:function(){return new t(Wt(yl),Wt(qu),Wt(zl,8))},token:t,providedIn:"root"}),t})(),om=(()=>{class t{constructor(t,e,n){this._platform=t,this._document=n,e.runOutsideAngular(()=>{const e=this._getWindow();this._change=t.isBrowser?$(cf(e,"resize"),cf(e,"orientationchange")):ru(),this._invalidateCache=this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){this._invalidateCache.unsubscribe()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:e,height:n}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+n,right:t.left+e,height:n,width:e}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._getDocument(),e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(tm(t)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return t.\u0275fac=function(e){return new(e||t)(Wt(qu),Wt(yl),Wt(zl,8))},t.\u0275prov=at({factory:function(){return new t(Wt(qu),Wt(yl),Wt(zl,8))},token:t,providedIn:"root"}),t})(),am=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})(),lm=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},imports:[[Xu,zu,am],Xu,am]}),t})();function cm(){throw Error("Host already has a portal attached")}class um{attach(t){return null==t&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),t.hasAttached()&&cm(),this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null==t?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class hm extends um{constructor(t,e,n,i){super(),this.component=t,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=i}}class dm extends um{constructor(t,e,n){super(),this.templateRef=t,this.viewContainerRef=e,this.context=n}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class pm extends um{constructor(t){super(),this.element=t instanceof Lo?t.nativeElement:t}}class fm extends class{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&cm(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),t instanceof hm?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dm?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof pm?(this._attachedPortal=t,this.attachDomPortal(t)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}{constructor(t,e,n,i,r){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=t=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const e=t.element;if(!e.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.parentNode.insertBefore(n,e),this.outletElement.appendChild(e),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(e,n)})},this._document=r}attachComponentPortal(t){const e=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let n;return t.viewContainerRef?(n=t.viewContainerRef.createComponent(e,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=e.create(t.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(t){let e=t.viewContainerRef,n=e.createEmbeddedView(t.templateRef,t.context);return n.detectChanges(),n.rootNodes.forEach(t=>this.outletElement.appendChild(t)),this.setDisposeFn(()=>{let t=e.indexOf(n);-1!==t&&e.remove(t)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let mm=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)}}),t})();class gm{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_u(-this._previousScrollPosition.left),t.style.top=_u(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}function ym(){return Error("Scroll strategy has already been attached.")}class _m{constructor(t,e,n,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){if(this._overlayRef)throw ym();this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class vm{enable(){}disable(){}attach(){}}function bm(t,e){return e.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function wm(t,e){return e.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class Cm{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(t){if(this._overlayRef)throw ym();this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:e,height:n}=this._viewportRuler.getViewportSize();bm(t,[{width:e,height:n,bottom:n,right:e,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Sm=(()=>{class t{constructor(t,e,n,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=n,this.noop=()=>new vm,this.close=t=>new _m(this._scrollDispatcher,this._ngZone,this._viewportRuler,t),this.block=()=>new gm(this._viewportRuler,this._document),this.reposition=t=>new Cm(this._scrollDispatcher,this._viewportRuler,this._ngZone,t),this._document=i}}return t.\u0275fac=function(e){return new(e||t)(Wt(sm),Wt(om),Wt(yl),Wt(zl))},t.\u0275prov=at({factory:function(){return new t(Wt(sm),Wt(om),Wt(yl),Wt(zl))},token:t,providedIn:"root"}),t})();class xm{constructor(t){if(this.scrollStrategy=new vm,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const n of e)void 0!==t[n]&&(this[n]=t[n])}}}class km{constructor(t,e,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class Em{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}function Im(t,e){if("top"!==e&&"bottom"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "top", "bottom" or "center".')}function Tm(t,e){if("start"!==e&&"end"!==e&&"center"!==e)throw Error(`ConnectedPosition: Invalid ${t} "${e}". `+'Expected "start", "end" or "center".')}let Om=(()=>{class t{constructor(t){this._attachedOverlays=[],this._keydownListener=t=>{const e=this._attachedOverlays;for(let n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},this._document=t}ngOnDestroy(){this._detach()}add(t){this.remove(t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0),this._attachedOverlays.push(t)}remove(t){const e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this._detach()}_detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl))},t.\u0275prov=at({factory:function(){return new t(Wt(zl))},token:t,providedIn:"root"}),t})();const Am=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let Pm=(()=>{class t{constructor(t,e){this._platform=e,this._document=t}ngOnDestroy(){const t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(t||Am){const t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e])}const e=this._document.createElement("div");e.classList.add("cdk-overlay-container"),Am?e.setAttribute("platform","test"):t||e.setAttribute("platform","server"),this._document.body.appendChild(e),this._containerElement=e}}return t.\u0275fac=function(e){return new(e||t)(Wt(zl),Wt(qu))},t.\u0275prov=at({factory:function(){return new t(Wt(zl),Wt(qu))},token:t,providedIn:"root"}),t})();class Rm{constructor(t,e,n,i,r,s,o,a){this._portalOutlet=t,this._host=e,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=s,this._document=o,this._location=a,this._backdropElement=null,this._backdropClick=new S,this._attachments=new S,this._detachments=new S,this._locationChanges=h.EMPTY,this._backdropClickHandler=t=>this._backdropClick.next(t),this._keydownEvents=new S,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(ju(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=_u(this._config.width),t.height=_u(this._config.height),t.minWidth=_u(this._config.minWidth),t.minHeight=_u(this._config.minHeight),t.maxWidth=_u(this._config.maxWidth),t.maxHeight=_u(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let t,e=this._backdropElement;if(!e)return;let n=()=>{e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",n),e.parentNode&&e.parentNode.removeChild(e)),this._backdropElement==e&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(e,this._config.backdropClass,!1),clearTimeout(t)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",n)}),e.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(t,e,n){const i=t.classList;yu(e).forEach(t=>{t&&(n?i.add(t):i.remove(t))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.asObservable().pipe(uf($(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}const Dm=/([A-Za-z%]+)$/;class Mm{constructor(t,e,n,i,r){this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new S,this._resizeSubscription=h.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){if(this._overlayRef&&t!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,n=this._viewportRect,i=[];let r;for(let s of this._preferredPositions){let o=this._getOriginPoint(t,s),a=this._getOverlayPoint(o,e,s),l=this._getOverlayFit(a,e,n,s);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(s,o);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:s,origin:o,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(o,s)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:o,position:s,overlayRect:e})}if(i.length){let t=null,e=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>e&&(e=i,t=n)}return this._isPushed=!1,void this._applyPosition(t.position,t.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Nm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let n,i;if("center"==e.originX)n=t.left+t.width/2;else{const i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:n,y:i}}_getOverlayPoint(t,e,n){let i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}_getOverlayFit(t,e,n,i){let{x:r,y:s}=t,o=this._getOffset(i,"x"),a=this._getOffset(i,"y");o&&(r+=o),a&&(s+=a);let l=0-s,c=s+e.height-n.height,u=this._subtractOverflows(e.width,0-r,r+e.width-n.width),h=this._subtractOverflows(e.height,l,c),d=u*h;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:h===e.height,fitsInViewportHorizontally:u==e.width}}_canFitWithFlexibleDimensions(t,e,n){if(this._hasFlexibleDimensions){const i=n.bottom-e.y,r=n.right-e.x,s=Fm(this._overlayRef.getConfig().minHeight),o=Fm(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=o&&o<=r;return(t.fitsInViewportVertically||null!=s&&s<=i)&&a}return!1}_pushOverlayOnScreen(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(t.x+e.width-i.right,0),s=Math.max(t.y+e.height-i.bottom,0),o=Math.max(i.top-n.top-t.y,0),a=Math.max(i.left-n.left-t.x,0);let l=0,c=0;return l=e.width<=i.width?a||-r:t.x<this._viewportMargin?i.left-n.left-t.x:0,c=e.height<=i.height?o||-s:t.y<this._viewportMargin?i.top-n.top-t.y:0,this._previousPushAmount={x:l,y:c},{x:t.x+l,y:t.y+c}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const e=this._getScrollVisibility(),n=new Em(t,e);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=t.overlayY;n="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let r=0;r<e.length;r++)e[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(t,e){const n=this._viewportRect,i=this._isRtl();let r,s,o,a,l,c;if("top"===e.overlayY)s=t.y,r=n.height-s+this._viewportMargin;else if("bottom"===e.overlayY)o=n.height-t.y+2*this._viewportMargin,r=n.height-o+this._viewportMargin;else{const e=Math.min(n.bottom-t.y+n.top,t.y),i=this._lastBoundingBoxSize.height;r=2*e,s=t.y-e,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.y-i/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)c=n.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)l=t.x,a=n.right-t.x;else{const e=Math.min(n.right-t.x+n.left,t.x),i=this._lastBoundingBoxSize.width;a=2*e,l=t.x-e,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.x-i/2)}return{top:s,left:l,bottom:o,right:c,width:a,height:r}}_setBoundingBoxStyles(t,e){const n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const t=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=_u(n.height),i.top=_u(n.top),i.bottom=_u(n.bottom),i.width=_u(n.width),i.left=_u(n.left),i.right=_u(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",t&&(i.maxHeight=_u(t)),r&&(i.maxWidth=_u(r))}this._lastBoundingBoxSize=n,Nm(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Nm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Nm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();Nm(n,this._getExactOverlayY(e,t,i)),Nm(n,this._getExactOverlayX(e,t,i))}else n.position="static";let o="",a=this._getOffset(e,"x"),l=this._getOffset(e,"y");a&&(o+=`translateX(${a}px) `),l&&(o+=`translateY(${l}px)`),n.transform=o.trim(),s.maxHeight&&(i?n.maxHeight=_u(s.maxHeight):r&&(n.maxHeight="")),s.maxWidth&&(i?n.maxWidth=_u(s.maxWidth):r&&(n.maxWidth="")),Nm(this._pane.style,n)}_getExactOverlayY(t,e,n){let i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let s=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=s,"bottom"===t.overlayY?i.bottom=`${this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)}px`:i.top=_u(r.y),i}_getExactOverlayX(t,e,n){let i,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),i=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===i?r.right=`${this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)}px`:r.left=_u(s.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(t=>t.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:wm(t,n),isOriginOutsideView:bm(t,n),isOverlayClipped:wm(e,n),isOverlayOutsideView:bm(e,n)}}_subtractOverflows(t,...e){return e.reduce((t,e)=>t-Math.max(e,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(t=>{Tm("originX",t.originX),Im("originY",t.originY),Tm("overlayX",t.overlayX),Im("overlayY",t.overlayY)})}_addPanelClasses(t){this._pane&&yu(t).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof Lo)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}function Nm(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Fm(t){if("number"!=typeof t&&null!=t){const[e,n]=t.split(Dm);return n&&"px"!==n?null:parseFloat(e)}return t||null}class jm{constructor(t,e,n,i,r,s,o){this._preferredPositions=[],this._positionStrategy=new Mm(n,i,r,s,o).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e)}get _isRtl(){return"rtl"===this._overlayRef.getDirection()}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,n,i){const r=new km(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}class Lm{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:s,maxHeight:o}=n,a=!("100%"!==i&&"100vw"!==i||s&&"100%"!==s&&"100vw"!==s),l=!("100%"!==r&&"100vh"!==r||o&&"100%"!==o&&"100vh"!==o);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Vm=(()=>{class t{constructor(t,e,n,i){this._viewportRuler=t,this._document=e,this._platform=n,this._overlayContainer=i}global(){return new Lm}connectedTo(t,e,n){return new jm(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(t){return new Mm(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return t.\u0275fac=function(e){return new(e||t)(Wt(om),Wt(zl),Wt(qu),Wt(Pm))},t.\u0275prov=at({factory:function(){return new t(Wt(om),Wt(zl),Wt(qu),Wt(Pm))},token:t,providedIn:"root"}),t})(),Bm=0,Hm=(()=>{class t{constructor(t,e,n,i,r,s,o,a,l,c){this.scrollStrategies=t,this._overlayContainer=e,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=s,this._ngZone=o,this._document=a,this._directionality=l,this._location=c}create(t){const e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new xm(t);return r.direction=r.direction||this._directionality.value,new Rm(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location)}position(){return this._positionBuilder}_createPaneElement(t){const e=this._document.createElement("div");return e.id=`cdk-overlay-${Bm++}`,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Fl)),new fm(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return t.\u0275fac=function(e){return new(e||t)(Wt(Sm),Wt(Pm),Wt(jo),Wt(Vm),Wt(Om),Wt(gs),Wt(yl),Wt(zl),Wt(Qu),Wt(nc,8))},t.\u0275prov=at({token:t,factory:t.\u0275fac}),t})();const qm=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom"},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],zm=new Nt("cdk-connected-overlay-scroll-strategy");let $m=(()=>{class t{constructor(t){this.elementRef=t}}return t.\u0275fac=function(e){return new(e||t)(As(Lo))},t.\u0275dir=me({type:t,selectors:[["","cdk-overlay-origin",""],["","overlay-origin",""],["","cdkOverlayOrigin",""]],exportAs:["cdkOverlayOrigin"]}),t})(),Wm=(()=>{class t{constructor(t,e,n,i,r){this._overlay=t,this._dir=r,this._hasBackdrop=!1,this._lockPosition=!1,this._growAfterOpen=!1,this._flexibleDimensions=!1,this._push=!1,this._backdropSubscription=h.EMPTY,this.viewportMargin=0,this.open=!1,this.backdropClick=new Ta,this.positionChange=new Ta,this.attach=new Ta,this.detach=new Ta,this.overlayKeydown=new Ta,this._templatePortal=new dm(e,n),this._scrollStrategyFactory=i,this.scrollStrategy=this._scrollStrategyFactory()}get offsetX(){return this._offsetX}set offsetX(t){this._offsetX=t,this._position&&this._updatePositionStrategy(this._position)}get offsetY(){return this._offsetY}set offsetY(t){this._offsetY=t,this._position&&this._updatePositionStrategy(this._position)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=mu(t)}get lockPosition(){return this._lockPosition}set lockPosition(t){this._lockPosition=mu(t)}get flexibleDimensions(){return this._flexibleDimensions}set flexibleDimensions(t){this._flexibleDimensions=mu(t)}get growAfterOpen(){return this._growAfterOpen}set growAfterOpen(t){this._growAfterOpen=mu(t)}get push(){return this._push}set push(t){this._push=mu(t)}get overlayRef(){return this._overlayRef}get dir(){return this._dir?this._dir.value:"ltr"}ngOnDestroy(){this._overlayRef&&this._overlayRef.dispose(),this._backdropSubscription.unsubscribe()}ngOnChanges(t){this._position&&(this._updatePositionStrategy(this._position),this._overlayRef.updateSize({width:this.width,minWidth:this.minWidth,height:this.height,minHeight:this.minHeight}),t.origin&&this.open&&this._position.apply()),t.open&&(this.open?this._attachOverlay():this._detachOverlay())}_createOverlay(){this.positions&&this.positions.length||(this.positions=qm),this._overlayRef=this._overlay.create(this._buildConfig()),this._overlayRef.keydownEvents().subscribe(t=>{this.overlayKeydown.next(t),27!==t.keyCode||Ou(t)||(t.preventDefault(),this._detachOverlay())})}_buildConfig(){const t=this._position=this.positionStrategy||this._createPositionStrategy(),e=new xm({direction:this._dir,positionStrategy:t,scrollStrategy:this.scrollStrategy,hasBackdrop:this.hasBackdrop});return(this.width||0===this.width)&&(e.width=this.width),(this.height||0===this.height)&&(e.height=this.height),(this.minWidth||0===this.minWidth)&&(e.minWidth=this.minWidth),(this.minHeight||0===this.minHeight)&&(e.minHeight=this.minHeight),this.backdropClass&&(e.backdropClass=this.backdropClass),this.panelClass&&(e.panelClass=this.panelClass),e}_updatePositionStrategy(t){const e=this.positions.map(t=>({originX:t.originX,originY:t.originY,overlayX:t.overlayX,overlayY:t.overlayY,offsetX:t.offsetX||this.offsetX,offsetY:t.offsetY||this.offsetY,panelClass:t.panelClass||void 0}));return t.setOrigin(this.origin.elementRef).withPositions(e).withFlexibleDimensions(this.flexibleDimensions).withPush(this.push).withGrowAfterOpen(this.growAfterOpen).withViewportMargin(this.viewportMargin).withLockedPosition(this.lockPosition).withTransformOriginOn(this.transformOriginSelector)}_createPositionStrategy(){const t=this._overlay.position().flexibleConnectedTo(this.origin.elementRef);return this._updatePositionStrategy(t),t.positionChanges.subscribe(t=>this.positionChange.emit(t)),t}_attachOverlay(){this._overlayRef?this._overlayRef.getConfig().hasBackdrop=this.hasBackdrop:this._createOverlay(),this._overlayRef.hasAttached()||(this._overlayRef.attach(this._templatePortal),this.attach.emit()),this.hasBackdrop?this._backdropSubscription=this._overlayRef.backdropClick().subscribe(t=>{this.backdropClick.emit(t)}):this._backdropSubscription.unsubscribe()}_detachOverlay(){this._overlayRef&&(this._overlayRef.detach(),this.detach.emit()),this._backdropSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(As(Hm),As(la),As(ua),As(zm),As(Qu,8))},t.\u0275dir=me({type:t,selectors:[["","cdk-connected-overlay",""],["","connected-overlay",""],["","cdkConnectedOverlay",""]],inputs:{viewportMargin:["cdkConnectedOverlayViewportMargin","viewportMargin"],open:["cdkConnectedOverlayOpen","open"],scrollStrategy:["cdkConnectedOverlayScrollStrategy","scrollStrategy"],offsetX:["cdkConnectedOverlayOffsetX","offsetX"],offsetY:["cdkConnectedOverlayOffsetY","offsetY"],hasBackdrop:["cdkConnectedOverlayHasBackdrop","hasBackdrop"],lockPosition:["cdkConnectedOverlayLockPosition","lockPosition"],flexibleDimensions:["cdkConnectedOverlayFlexibleDimensions","flexibleDimensions"],growAfterOpen:["cdkConnectedOverlayGrowAfterOpen","growAfterOpen"],push:["cdkConnectedOverlayPush","push"],positions:["cdkConnectedOverlayPositions","positions"],origin:["cdkConnectedOverlayOrigin","origin"],positionStrategy:["cdkConnectedOverlayPositionStrategy","positionStrategy"],width:["cdkConnectedOverlayWidth","width"],height:["cdkConnectedOverlayHeight","height"],minWidth:["cdkConnectedOverlayMinWidth","minWidth"],minHeight:["cdkConnectedOverlayMinHeight","minHeight"],backdropClass:["cdkConnectedOverlayBackdropClass","backdropClass"],panelClass:["cdkConnectedOverlayPanelClass","panelClass"],transformOriginSelector:["cdkConnectedOverlayTransformOriginOn","transformOriginSelector"]},outputs:{backdropClick:"backdropClick",positionChange:"positionChange",attach:"attach",detach:"detach",overlayKeydown:"overlayKeydown"},exportAs:["cdkConnectedOverlay"],features:[xo]}),t})();const Um={provide:zm,deps:[Hm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};let Km=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Hm,Um],imports:[[Xu,mm,lm],lm]}),t})();function Gm(t,e){return new _(n=>{const i=t.length;if(0===i)return void n.complete();const r=new Array(i);let s=0,o=0;for(let a=0;a<i;a++){const l=V(t[a]);let c=!1;n.add(l.subscribe({next:t=>{c||(c=!0,o++),r[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==i&&c||(o===i&&n.next(e?e.reduce((t,e,n)=>(t[e]=r[n],t),{}):r),n.complete())}}))}})}let Ym=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t}),t})(),Zm=(()=>{class t extends Ym{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Qm(e||t)},t.\u0275dir=me({type:t,features:[_o]}),t})();const Qm=Zn(Zm);function Xm(){throw new Error("unimplemented")}class Jm extends Ym{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return Xm()}get asyncValidator(){return Xm()}}function tg(t){return null==t||0===t.length}const eg=new Nt("NgValidators"),ng=new Nt("NgAsyncValidators"),ig=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class rg{static min(t){return e=>{if(tg(e.value)||tg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(tg(e.value)||tg(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return tg(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return tg(t.value)||ig.test(t.value)?null:{email:!0}}static minLength(t){return e=>{if(tg(e.value))return null;const n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}}static maxLength(t){return e=>{const n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}}static pattern(t){if(!t)return rg.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(tg(t.value))return null;const i=t.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(sg);return 0==e.length?null:function(t){return ag(function(t,e){return e.map(e=>e(t))}(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(sg);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(l(e))return Gm(e,null);if(c(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Gm(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Gm(t=1===t.length&&l(t[0])?t[0]:t,null).pipe(N(t=>e(...t)))}return Gm(t,null)}(function(t,e){return e.map(e=>e(t))}(t,e).map(og)).pipe(N(ag))}}}function sg(t){return null!=t}function og(t){const e=Vs(t)?V(t):t;if(!(n=e)||"function"!=typeof n.subscribe)throw new Error("Expected validator to return Promise or Observable.");var n;return e}function ag(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function lg(t){return t.validate?e=>t.validate(e):t}function cg(t){return t.validate?e=>t.validate(e):t}const ug='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',hg='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });';function dg(t,e){t||gg(e,"Cannot find control with"),e.valueAccessor||gg(e,"No value accessor for form control with"),t.validator=rg.compose([t.validator,e.validator]),t.asyncValidator=rg.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&pg(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&pg(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())})}function pg(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function fg(t,e){null==t&&gg(e,"Cannot find control with"),t.validator=rg.compose([t.validator,e.validator]),t.asyncValidator=rg.composeAsync([t.asyncValidator,e.asyncValidator])}function mg(t){return gg(t,"There is no FormControl instance attached to form control element with")}function gg(t,e){let n;throw n=t.path.length>1?`path: '${t.path.join(" -> ")}'`:t.path[0]?`name: '${t.path}'`:"unspecified name attribute",new Error(`${e} ${n}`)}function yg(t){return null!=t?rg.compose(t.map(lg)):null}function _g(t){return null!=t?rg.composeAsync(t.map(cg)):null}function vg(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function bg(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function wg(t){const e=Sg(t)?t.validators:t;return Array.isArray(e)?yg(e):e||null}function Cg(t,e){const n=Sg(e)?e.asyncValidators:t;return Array.isArray(n)?_g(n):n||null}function Sg(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class xg{constructor(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this.validator=wg(t)}setAsyncValidators(t){this.asyncValidator=Cg(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status="PENDING";const e=og(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>this.setErrors(e,{emitEvent:t}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let i=t;return e.forEach(t=>{i=i instanceof Eg?i.controls.hasOwnProperty(t)?i.controls[t]:null:i instanceof Ig&&i.at(t)||null}),i}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new Ta,this.statusChanges=new Ta}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Sg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class kg extends xg{constructor(t=null,e,n){super(wg(e),Cg(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Eg extends xg{constructor(t,e,n){super(wg(e),Cg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof kg?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){let e=!1;return this._forEachChild((n,i)=>{e=e||this.contains(i)&&t(n)}),e}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,i)=>{n=e(n,t,i)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ig extends xg{constructor(t,e,n){super(wg(e),Cg(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof kg?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Tg={provide:Zm,useExisting:bt(()=>Ag)},Og=(()=>Promise.resolve(null))();let Ag=(()=>{class t extends Zm{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ta,this.form=new Eg({},yg(t),_g(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Og.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),dg(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Og.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),bg(this._directives,t)})}addFormGroup(t){Og.then(()=>{const e=this._findContainer(t.path),n=new Eg({});fg(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Og.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Og.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vg(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(As(eg,10),As(ng,10))},t.\u0275dir=me({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&Bs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mo([Tg]),_o]}),t})();const Pg={provide:Zm,useExisting:bt(()=>Rg)};let Rg=(()=>{class t extends Zm{constructor(t,e){super(),this._validators=t,this._asyncValidators=e,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ta}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return dg(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){bg(this.directives,t)}addFormGroup(t){const e=this.form.get(t.path);fg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormGroup(t){}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){const e=this.form.get(t.path);fg(e,t),e.updateValueAndValidity({emitEvent:!1})}removeFormArray(t){}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vg(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(function(t,e){e.valueAccessor.registerOnChange(()=>mg(e)),e.valueAccessor.registerOnTouched(()=>mg(e)),e._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),e._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(null)}),t&&t._clearChangeFns()}(t.control,t),e&&dg(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const t=yg(this._validators);this.form.validator=rg.compose([this.form.validator,t]);const e=_g(this._asyncValidators);this.form.asyncValidator=rg.composeAsync([this.form.asyncValidator,e])}_checkFormPresent(){this.form||class{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${ug}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${hg}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${ug}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${hg}`)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(t){console.warn(`\n    It looks like you're using ngModel on the same form field as ${t}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===t?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}.missingFormException()}}return t.\u0275fac=function(e){return new(e||t)(As(eg,10),As(ng,10))},t.\u0275dir=me({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&Bs("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Mo([Pg]),_o,xo]}),t})();const Dg=["trigger"],Mg=["panel"];function Ng(t,e){if(1&t&&(Ds(0,"span",8),po(1),Ms()),2&t){const t=zs();Oi(1),fo(t.placeholder||"\xa0")}}function Fg(t,e){if(1&t&&(Ds(0,"span"),po(1),Ms()),2&t){const t=zs(2);Oi(1),fo(t.triggerValue||"\xa0")}}function jg(t,e){1&t&&Us(0,0,["*ngSwitchCase","true"])}function Lg(t,e){1&t&&(Ds(0,"span",9),Os(1,Fg,2,1,"span",10),Os(2,jg,1,0,void 0,11),Ms()),2&t&&(Ps("ngSwitch",!!zs().customTrigger),Oi(2),Ps("ngSwitchCase",!0))}function Vg(t,e){if(1&t){const t=Ls();Ds(0,"div",12),Ds(1,"div",13,14),Bs("@transformPanel.done",(function(e){return $e(t),zs()._panelDoneAnimatingStream.next(e.toState)}))("keydown",(function(e){return $e(t),zs()._handleKeydown(e)})),Us(3,1),Ms(),Ms()}if(2&t){const t=zs();Ps("@transformPanelWrap",void 0),Oi(1),n="mat-select-panel ",i=t._getPanelTheme(),r="",function(t,e,n,i){const r=ze(),s=Xe(2);r.firstUpdatePass&&so(r,null,s,!0);const o=qe();if(n!==xi&&Es(o,s,n)){const i=r.data[hn()+20];if(ho(i,!0)&&!ro(r,s)){let t=i.classesWithoutHost;null!==t&&(n=_t(t,n||"")),Rs(r,i,o,n,!0)}else!function(t,e,n,i,r,s,o,a){r===xi&&(r=Ks);let l=0,c=0,u=0<r.length?r[0]:null,h=0<s.length?s[0]:null;for(;null!==u||null!==h;){const o=l<r.length?r[l+1]:void 0,d=c<s.length?s[c+1]:void 0;let p=null,f=void 0;u===h?(l+=2,c+=2,o!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(l+=2,p=u):(c+=2,p=h,f=d),null!==p&&lo(t,e,n,i,p,f,!0,a),u=l<r.length?r[l]:null,h=c<s.length?s[c]:null}}(r,i,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return Ks;const i=[],r=ni(n);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(t,e,n),0,s)}}(ee,no,Ts(qe(),n,i,r)),to("transform-origin",t._transformOrigin)("font-size",t._triggerFontSize,"px"),Ps("ngClass",t.panelClass)("@transformPanel",t.multiple?"showing-multiple":"showing"),Is("id",t.id+"-panel")}var n,i,r}const Bg=[[["mat-select-trigger"]],"*"],Hg=["mat-select-trigger","*"],qg={transformPanelWrap:ih("transformPanelWrap",[lh("* => void",uh("@transformPanel",[ch()],{optional:!0}))]),transformPanel:ih("transformPanel",[ah("void",oh({transform:"scaleY(0.8)",minWidth:"100%",opacity:0})),ah("showing",oh({opacity:1,minWidth:"calc(100% + 32px)",transform:"scaleY(1)"})),ah("showing-multiple",oh({opacity:1,minWidth:"calc(100% + 64px)",transform:"scaleY(1)"})),lh("void => *",rh("120ms cubic-bezier(0, 0, 0.2, 1)")),lh("* => void",rh("100ms 25ms linear",oh({opacity:0})))])};let zg=0;const $g=new Nt("mat-select-scroll-strategy"),Wg=new Nt("MAT_SELECT_CONFIG"),Ug={provide:$g,deps:[Hm],useFactory:function(t){return()=>t.scrollStrategies.reposition()}};class Kg{constructor(t,e){this.source=t,this.value=e}}class Gg{constructor(t,e,n,i,r){this._elementRef=t,this._defaultErrorStateMatcher=e,this._parentForm=n,this._parentFormGroup=i,this.ngControl=r}}const Yg=Np(Fp(Dp(jp(Gg))));let Zg=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=me({type:t,selectors:[["mat-select-trigger"]]}),t})(),Qg=(()=>{class t extends Yg{constructor(t,e,n,i,r,s,o,a,l,c,u,h,d,p){var f;super(r,i,o,a,c),this._viewportRuler=t,this._changeDetectorRef=e,this._ngZone=n,this._dir=s,this._parentFormField=l,this.ngControl=c,this._liveAnnouncer=d,this._panelOpen=!1,this._required=!1,this._scrollTop=0,this._multiple=!1,this._compareWith=(t,e)=>t===e,this._uid=`mat-select-${zg++}`,this._destroy=new S,this._triggerFontSize=0,this._onChange=()=>{},this._onTouched=()=>{},this._optionIds="",this._transformOrigin="top",this._panelDoneAnimatingStream=new S,this._offsetY=0,this._positions=[{originX:"start",originY:"top",overlayX:"start",overlayY:"top"},{originX:"start",originY:"bottom",overlayX:"start",overlayY:"bottom"}],this._disableOptionCentering=!1,this._focused=!1,this.controlType="mat-select",this.ariaLabel="",this.optionSelectionChanges=(f=()=>{const t=this.options;return t?t.changes.pipe(eh(t),em(()=>$(...t.map(t=>t.onSelectionChange)))):this._ngZone.onStable.asObservable().pipe(ju(1),em(()=>this.optionSelectionChanges))},new _(t=>{let e;try{e=f()}catch(n){return void t.error(n)}return(e?V(e):iu()).subscribe(t)})),this.openedChange=new Ta,this._openedStream=this.openedChange.pipe(Du(t=>t),N(()=>{})),this._closedStream=this.openedChange.pipe(Du(t=>!t),N(()=>{})),this.selectionChange=new Ta,this.valueChange=new Ta,this.ngControl&&(this.ngControl.valueAccessor=this),this._scrollStrategyFactory=h,this._scrollStrategy=this._scrollStrategyFactory(),this.tabIndex=parseInt(u)||0,this.id=this.id,p&&(null!=p.disableOptionCentering&&(this.disableOptionCentering=p.disableOptionCentering),null!=p.typeaheadDebounceInterval&&(this.typeaheadDebounceInterval=p.typeaheadDebounceInterval))}get focused(){return this._focused||this._panelOpen}get placeholder(){return this._placeholder}set placeholder(t){this._placeholder=t,this.stateChanges.next()}get required(){return this._required}set required(t){this._required=mu(t),this.stateChanges.next()}get multiple(){return this._multiple}set multiple(t){if(this._selectionModel)throw Error("Cannot change `multiple` mode of select after initialization.");this._multiple=mu(t)}get disableOptionCentering(){return this._disableOptionCentering}set disableOptionCentering(t){this._disableOptionCentering=mu(t)}get compareWith(){return this._compareWith}set compareWith(t){if("function"!=typeof t)throw Error("`compareWith` must be a function.");this._compareWith=t,this._selectionModel&&this._initializeSelection()}get value(){return this._value}set value(t){t!==this._value&&(this.writeValue(t),this._value=t)}get typeaheadDebounceInterval(){return this._typeaheadDebounceInterval}set typeaheadDebounceInterval(t){this._typeaheadDebounceInterval=gu(t)}get id(){return this._id}set id(t){this._id=t||this._uid,this.stateChanges.next()}ngOnInit(){this._selectionModel=new rm(this.multiple),this.stateChanges.next(),this._panelDoneAnimatingStream.pipe(t=>t.lift(new Gf(void 0,void 0)),uf(this._destroy)).subscribe(()=>{this.panelOpen?(this._scrollTop=0,this.openedChange.emit(!0)):(this.openedChange.emit(!1),this.overlayDir.offsetX=0,this._changeDetectorRef.markForCheck())}),this._viewportRuler.change().pipe(uf(this._destroy)).subscribe(()=>{this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._changeDetectorRef.markForCheck())})}ngAfterContentInit(){this._initKeyManager(),this._selectionModel.changed.pipe(uf(this._destroy)).subscribe(t=>{t.added.forEach(t=>t.select()),t.removed.forEach(t=>t.deselect())}),this.options.changes.pipe(eh(null),uf(this._destroy)).subscribe(()=>{this._resetOptions(),this._initializeSelection()})}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngOnChanges(t){t.disabled&&this.stateChanges.next(),t.typeaheadDebounceInterval&&this._keyManager&&this._keyManager.withTypeAhead(this._typeaheadDebounceInterval)}ngOnDestroy(){this._destroy.next(),this._destroy.complete(),this.stateChanges.complete()}toggle(){this.panelOpen?this.close():this.open()}open(){!this.disabled&&this.options&&this.options.length&&!this._panelOpen&&(this._triggerRect=this.trigger.nativeElement.getBoundingClientRect(),this._triggerFontSize=parseInt(getComputedStyle(this.trigger.nativeElement).fontSize||"0"),this._panelOpen=!0,this._keyManager.withHorizontalOrientation(null),this._calculateOverlayPosition(),this._highlightCorrectOption(),this._changeDetectorRef.markForCheck(),this._ngZone.onStable.asObservable().pipe(ju(1)).subscribe(()=>{this._triggerFontSize&&this.overlayDir.overlayRef&&this.overlayDir.overlayRef.overlayElement&&(this.overlayDir.overlayRef.overlayElement.style.fontSize=`${this._triggerFontSize}px`)}))}close(){this._panelOpen&&(this._panelOpen=!1,this._keyManager.withHorizontalOrientation(this._isRtl()?"rtl":"ltr"),this._changeDetectorRef.markForCheck(),this._onTouched())}writeValue(t){this.options&&this._setSelectionByValue(t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck(),this.stateChanges.next()}get panelOpen(){return this._panelOpen}get selected(){return this.multiple?this._selectionModel.selected:this._selectionModel.selected[0]}get triggerValue(){if(this.empty)return"";if(this._multiple){const t=this._selectionModel.selected.map(t=>t.viewValue);return this._isRtl()&&t.reverse(),t.join(", ")}return this._selectionModel.selected[0].viewValue}_isRtl(){return!!this._dir&&"rtl"===this._dir.value}_handleKeydown(t){this.disabled||(this.panelOpen?this._handleOpenKeydown(t):this._handleClosedKeydown(t))}_handleClosedKeydown(t){const e=t.keyCode,n=40===e||38===e||37===e||39===e,i=13===e||32===e,r=this._keyManager;if(!r.isTyping()&&i&&!Ou(t)||(this.multiple||t.altKey)&&n)t.preventDefault(),this.open();else if(!this.multiple){const n=this.selected;36===e||35===e?(36===e?r.setFirstItemActive():r.setLastItemActive(),t.preventDefault()):r.onKeydown(t);const i=this.selected;i&&n!==i&&this._liveAnnouncer.announce(i.viewValue,1e4)}}_handleOpenKeydown(t){const e=this._keyManager,n=t.keyCode,i=40===n||38===n,r=e.isTyping();if(36===n||35===n)t.preventDefault(),36===n?e.setFirstItemActive():e.setLastItemActive();else if(i&&t.altKey)t.preventDefault(),this.close();else if(r||13!==n&&32!==n||!e.activeItem||Ou(t))if(!r&&this._multiple&&65===n&&t.ctrlKey){t.preventDefault();const e=this.options.some(t=>!t.disabled&&!t.selected);this.options.forEach(t=>{t.disabled||(e?t.select():t.deselect())})}else{const n=e.activeItemIndex;e.onKeydown(t),this._multiple&&i&&t.shiftKey&&e.activeItem&&e.activeItemIndex!==n&&e.activeItem._selectViaInteraction()}else t.preventDefault(),e.activeItem._selectViaInteraction()}_onFocus(){this.disabled||(this._focused=!0,this.stateChanges.next())}_onBlur(){this._focused=!1,this.disabled||this.panelOpen||(this._onTouched(),this._changeDetectorRef.markForCheck(),this.stateChanges.next())}_onAttached(){this.overlayDir.positionChange.pipe(ju(1)).subscribe(()=>{this._changeDetectorRef.detectChanges(),this._calculateOverlayOffsetX(),this.panel.nativeElement.scrollTop=this._scrollTop})}_getPanelTheme(){return this._parentFormField?`mat-${this._parentFormField.color}`:""}get empty(){return!this._selectionModel||this._selectionModel.isEmpty()}_initializeSelection(){Promise.resolve().then(()=>{this._setSelectionByValue(this.ngControl?this.ngControl.value:this._value),this.stateChanges.next()})}_setSelectionByValue(t){if(this.multiple&&t){if(!Array.isArray(t))throw Error("Value must be an array in multiple-selection mode.");this._selectionModel.clear(),t.forEach(t=>this._selectValue(t)),this._sortValues()}else{this._selectionModel.clear();const e=this._selectValue(t);e?this._keyManager.setActiveItem(e):this.panelOpen||this._keyManager.setActiveItem(-1)}this._changeDetectorRef.markForCheck()}_selectValue(t){const e=this.options.find(e=>{try{return null!=e.value&&this._compareWith(e.value,t)}catch(n){return si()&&console.warn(n),!1}});return e&&this._selectionModel.select(e),e}_initKeyManager(){this._keyManager=new Wu(this.options).withTypeAhead(this._typeaheadDebounceInterval).withVerticalOrientation().withHorizontalOrientation(this._isRtl()?"rtl":"ltr").withAllowedModifierKeys(["shiftKey"]),this._keyManager.tabOut.pipe(uf(this._destroy)).subscribe(()=>{this.panelOpen&&(!this.multiple&&this._keyManager.activeItem&&this._keyManager.activeItem._selectViaInteraction(),this.focus(),this.close())}),this._keyManager.change.pipe(uf(this._destroy)).subscribe(()=>{this._panelOpen&&this.panel?this._scrollActiveOptionIntoView():this._panelOpen||this.multiple||!this._keyManager.activeItem||this._keyManager.activeItem._selectViaInteraction()})}_resetOptions(){const t=$(this.options.changes,this._destroy);this.optionSelectionChanges.pipe(uf(t)).subscribe(t=>{this._onSelect(t.source,t.isUserInput),t.isUserInput&&!this.multiple&&this._panelOpen&&(this.close(),this.focus())}),$(...this.options.map(t=>t._stateChanges)).pipe(uf(t)).subscribe(()=>{this._changeDetectorRef.markForCheck(),this.stateChanges.next()}),this._setOptionIds()}_onSelect(t,e){const n=this._selectionModel.isSelected(t);null!=t.value||this._multiple?(n!==t.selected&&(t.selected?this._selectionModel.select(t):this._selectionModel.deselect(t)),e&&this._keyManager.setActiveItem(t),this.multiple&&(this._sortValues(),e&&this.focus())):(t.deselect(),this._selectionModel.clear(),this._propagateChanges(t.value)),n!==this._selectionModel.isSelected(t)&&this._propagateChanges(),this.stateChanges.next()}_sortValues(){if(this.multiple){const t=this.options.toArray();this._selectionModel.sort((e,n)=>this.sortComparator?this.sortComparator(e,n,t):t.indexOf(e)-t.indexOf(n)),this.stateChanges.next()}}_propagateChanges(t){let e=null;e=this.multiple?this.selected.map(t=>t.value):this.selected?this.selected.value:t,this._value=e,this.valueChange.emit(e),this._onChange(e),this.selectionChange.emit(new Kg(this,e)),this._changeDetectorRef.markForCheck()}_setOptionIds(){this._optionIds=this.options.map(t=>t.id).join(" ")}_highlightCorrectOption(){this._keyManager&&(this.empty?this._keyManager.setFirstItemActive():this._keyManager.setActiveItem(this._selectionModel.selected[0]))}_scrollActiveOptionIntoView(){const t=this._keyManager.activeItemIndex||0,e=of(t,this.options,this.optionGroups);this.panel.nativeElement.scrollTop=function(t,e,n,i){const r=t*e;return r<n?r:r+e>n+256?Math.max(0,r-256+e):n}(t+e,this._getItemHeight(),this.panel.nativeElement.scrollTop)}focus(t){this._elementRef.nativeElement.focus(t)}_getOptionIndex(t){return this.options.reduce((e,n,i)=>void 0!==e?e:t===n?i:void 0,void 0)}_calculateOverlayPosition(){const t=this._getItemHeight(),e=this._getItemCount(),n=Math.min(e*t,256),i=e*t-n;let r=this.empty?0:this._getOptionIndex(this._selectionModel.selected[0]);r+=of(r,this.options,this.optionGroups);const s=n/2;this._scrollTop=this._calculateOverlayScroll(r,s,i),this._offsetY=this._calculateOverlayOffsetY(r,s,i),this._checkOverlayWithinViewport(i)}_calculateOverlayScroll(t,e,n){const i=this._getItemHeight();return Math.min(Math.max(0,i*t-e+i/2),n)}_getAriaLabel(){return this.ariaLabelledby?null:this.ariaLabel||this.placeholder}_getAriaLabelledby(){return this.ariaLabelledby?this.ariaLabelledby:this._parentFormField&&this._parentFormField._hasFloatingLabel()&&!this._getAriaLabel()&&this._parentFormField._labelId||null}_getAriaActiveDescendant(){return this.panelOpen&&this._keyManager&&this._keyManager.activeItem?this._keyManager.activeItem.id:null}_calculateOverlayOffsetX(){const t=this.overlayDir.overlayRef.overlayElement.getBoundingClientRect(),e=this._viewportRuler.getViewportSize(),n=this._isRtl(),i=this.multiple?56:32;let r;if(this.multiple)r=40;else{let t=this._selectionModel.selected[0]||this.options.first;r=t&&t.group?32:16}n||(r*=-1);const s=0-(t.left+r-(n?i:0)),o=t.right+r-e.width+(n?0:i);s>0?r+=s+8:o>0&&(r-=o+8),this.overlayDir.offsetX=Math.round(r),this.overlayDir.overlayRef.updatePosition()}_calculateOverlayOffsetY(t,e,n){const i=this._getItemHeight(),r=(i-this._triggerRect.height)/2,s=Math.floor(256/i);let o;return this._disableOptionCentering?0:(o=0===this._scrollTop?t*i:this._scrollTop===n?(t-(this._getItemCount()-s))*i+(i-(this._getItemCount()*i-256)%i):e-i/2,Math.round(-1*o-r))}_checkOverlayWithinViewport(t){const e=this._getItemHeight(),n=this._viewportRuler.getViewportSize(),i=this._triggerRect.top-8,r=n.height-this._triggerRect.bottom-8,s=Math.abs(this._offsetY),o=Math.min(this._getItemCount()*e,256)-s-this._triggerRect.height;o>r?this._adjustPanelUp(o,r):s>i?this._adjustPanelDown(s,i,t):this._transformOrigin=this._getOriginBasedOnOption()}_adjustPanelUp(t,e){const n=Math.round(t-e);this._scrollTop-=n,this._offsetY-=n,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop<=0&&(this._scrollTop=0,this._offsetY=0,this._transformOrigin="50% bottom 0px")}_adjustPanelDown(t,e,n){const i=Math.round(t-e);if(this._scrollTop+=i,this._offsetY+=i,this._transformOrigin=this._getOriginBasedOnOption(),this._scrollTop>=n)return this._scrollTop=n,this._offsetY=0,void(this._transformOrigin="50% top 0px")}_getOriginBasedOnOption(){const t=this._getItemHeight(),e=(t-this._triggerRect.height)/2;return`50% ${Math.abs(this._offsetY)-e+t/2}px 0px`}_getItemCount(){return this.options.length+this.optionGroups.length}_getItemHeight(){return 3*this._triggerFontSize}setDescribedByIds(t){this._ariaDescribedby=t.join(" ")}onContainerClick(){this.focus(),this.open()}get shouldLabelFloat(){return this._panelOpen||!this.empty}}return t.\u0275fac=function(e){return new(e||t)(As(om),As(ts),As(yl),As(Lp),As(Lo),As(Qu,8),As(Ag,8),As(Rg,8),As(Wf,8),As(Jm,10),("tabindex",function(t,e){const n=t.attrs;if(n){const t=n.length;let e=0;for(;e<t;){const i=n[e];if(Cn(i))break;if(0===i)e+=2;else if("number"==typeof i)for(e++;e<t&&"string"==typeof n[e];)e++;else{if("tabindex"===i)return n[e+1];e+=2}}}return null}(We())),As($g),As(Gu),As(Wg,8))},t.\u0275cmp=ce({type:t,selectors:[["mat-select"]],contentQueries:function(t,e,n){var i;1&t&&(qa(n,Zg,!0),qa(n,sf,!0),qa(n,Jp,!0)),2&t&&(Va(i=Wa())&&(e.customTrigger=i.first),Va(i=Wa())&&(e.options=i),Va(i=Wa())&&(e.optionGroups=i))},viewQuery:function(t,e){var n;1&t&&(Ba(Dg,!0),Ba(Mg,!0),Ba(Wm,!0)),2&t&&(Va(n=Wa())&&(e.trigger=n.first),Va(n=Wa())&&(e.panel=n.first),Va(n=Wa())&&(e.overlayDir=n.first))},hostAttrs:["role","listbox",1,"mat-select"],hostVars:19,hostBindings:function(t,e){1&t&&Bs("keydown",(function(t){return e._handleKeydown(t)}))("focus",(function(){return e._onFocus()}))("blur",(function(){return e._onBlur()})),2&t&&(Is("id",e.id)("tabindex",e.tabIndex)("aria-label",e._getAriaLabel())("aria-labelledby",e._getAriaLabelledby())("aria-required",e.required.toString())("aria-disabled",e.disabled.toString())("aria-invalid",e.errorState)("aria-owns",e.panelOpen?e._optionIds:null)("aria-multiselectable",e.multiple)("aria-describedby",e._ariaDescribedby||null)("aria-activedescendant",e._getAriaActiveDescendant()),eo("mat-select-disabled",e.disabled)("mat-select-invalid",e.errorState)("mat-select-required",e.required)("mat-select-empty",e.empty))},inputs:{disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",ariaLabel:["aria-label","ariaLabel"],id:"id",disableOptionCentering:"disableOptionCentering",typeaheadDebounceInterval:"typeaheadDebounceInterval",placeholder:"placeholder",required:"required",multiple:"multiple",compareWith:"compareWith",value:"value",panelClass:"panelClass",ariaLabelledby:["aria-labelledby","ariaLabelledby"],errorStateMatcher:"errorStateMatcher",sortComparator:"sortComparator"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",selectionChange:"selectionChange",valueChange:"valueChange"},exportAs:["matSelect"],features:[Mo([{provide:Df,useExisting:t},{provide:rf,useExisting:t}]),_o,xo],ngContentSelectors:Hg,decls:9,vars:9,consts:[["cdk-overlay-origin","","aria-hidden","true",1,"mat-select-trigger",3,"click"],["origin","cdkOverlayOrigin","trigger",""],[1,"mat-select-value",3,"ngSwitch"],["class","mat-select-placeholder",4,"ngSwitchCase"],["class","mat-select-value-text",3,"ngSwitch",4,"ngSwitchCase"],[1,"mat-select-arrow-wrapper"],[1,"mat-select-arrow"],["cdk-connected-overlay","","cdkConnectedOverlayLockPosition","","cdkConnectedOverlayHasBackdrop","","cdkConnectedOverlayBackdropClass","cdk-overlay-transparent-backdrop",3,"cdkConnectedOverlayScrollStrategy","cdkConnectedOverlayOrigin","cdkConnectedOverlayOpen","cdkConnectedOverlayPositions","cdkConnectedOverlayMinWidth","cdkConnectedOverlayOffsetY","backdropClick","attach","detach"],[1,"mat-select-placeholder"],[1,"mat-select-value-text",3,"ngSwitch"],[4,"ngSwitchDefault"],[4,"ngSwitchCase"],[1,"mat-select-panel-wrap"],[3,"ngClass","keydown"],["panel",""]],template:function(t,e){if(1&t&&(Ws(Bg),Ds(0,"div",0,1),Bs("click",(function(){return e.toggle()})),Ds(3,"div",2),Os(4,Ng,2,1,"span",3),Os(5,Lg,3,2,"span",4),Ms(),Ds(6,"div",5),Ns(7,"div",6),Ms(),Ms(),Os(8,Vg,4,11,"ng-template",7),Bs("backdropClick",(function(){return e.close()}))("attach",(function(){return e._onAttached()}))("detach",(function(){return e.close()}))),2&t){const t=Be.lFrame.contextLView[21];Oi(3),Ps("ngSwitch",e.empty),Oi(1),Ps("ngSwitchCase",!0),Oi(1),Ps("ngSwitchCase",!1),Oi(3),Ps("cdkConnectedOverlayScrollStrategy",e._scrollStrategy)("cdkConnectedOverlayOrigin",t)("cdkConnectedOverlayOpen",e.panelOpen)("cdkConnectedOverlayPositions",e._positions)("cdkConnectedOverlayMinWidth",null==e._triggerRect?null:e._triggerRect.width)("cdkConnectedOverlayOffsetY",e._offsetY)}},directives:[$m,gc,yc,Wm,_c,lc],styles:[".mat-select{display:inline-block;width:100%;outline:none}.mat-select-trigger{display:inline-table;cursor:pointer;position:relative;box-sizing:border-box}.mat-select-disabled .mat-select-trigger{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.mat-select-value{display:table-cell;max-width:0;width:100%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mat-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.mat-select-arrow-wrapper{display:table-cell;vertical-align:middle}.mat-form-field-appearance-fill .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-outline .mat-select-arrow-wrapper{transform:translateY(-25%)}.mat-form-field-appearance-standard.mat-form-field-has-label .mat-select:not(.mat-select-empty) .mat-select-arrow-wrapper{transform:translateY(-50%)}.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable.mat-form-field-appearance-standard .mat-select.mat-select-empty .mat-select-arrow-wrapper{transition:none}.mat-select-arrow{width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;margin:0 4px}.mat-select-panel-wrap{flex-basis:100%}.mat-select-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;padding-top:0;padding-bottom:0;max-height:256px;min-width:100%;border-radius:4px}.cdk-high-contrast-active .mat-select-panel{outline:solid 1px}.mat-select-panel .mat-optgroup-label,.mat-select-panel .mat-option{font-size:inherit;line-height:3em;height:3em}.mat-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-form-field-flex{cursor:pointer}.mat-form-field-type-mat-select .mat-form-field-label{width:calc(100% - 18px)}.mat-select-placeholder{transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}._mat-animation-noopable .mat-select-placeholder{transition:none}.mat-form-field-hide-placeholder .mat-select-placeholder{color:transparent;-webkit-text-fill-color:transparent;transition:none;display:block}\n"],encapsulation:2,data:{animation:[qg.transformPanelWrap,qg.transformPanel]},changeDetection:0}),t})(),Xg=(()=>{class t{}return t.\u0275mod=pe({type:t}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[Ug],imports:[[vc,Km,af,Rp],am,Kf,af,Rp]}),t})();function Jg(t,e){if(1&t&&(Ds(0,"li",21),Ds(1,"div",22),Ns(2,"span",23),po(3),Ms(),Ds(4,"span",24),po(5),Ms(),Ms()),2&t){const t=e.$implicit;Oi(3),mo("",t.text," "),Oi(2),mo("",t.time," ")}}function ty(t,e){if(1&t&&(Ds(0,"mat-option",15),po(1),Ms()),2&t){const t=e.$implicit;to("color",t.meta.color),Ps("value",t.name),Oi(1),mo(" ",t.name,"")}}let ey=(()=>{class t{constructor(t,e,n){this.glueService=t,this.elem=e,this.renderer=n,this.DEPLOY_URL="/App/dist/glue42-core-channels-angular-ui",this.NO_CHANNEL="no-channel",this.messages=[],this.glueConnectedBadgeSrc=`${this.DEPLOY_URL}/assets/disconnected.svg`,this.glueConnectionStatus="Disconnected"}ngOnInit(){return Gc(this,void 0,void 0,(function*(){this.setGlueConnectionStatus(),this.channels=yield this.glueService.getAllChannels()}))}selectChannel(t){var e,n;return Gc(this,void 0,void 0,(function*(){if(t.value===this.NO_CHANNEL&&!this.currentChannel)return;const i=this.channels.find(e=>e.name===t.value);if(i&&i.name===(null===(e=this.currentChannel)||void 0===e?void 0:e.name))return;let r=this.elem.nativeElement.querySelectorAll(".mat-select-value")[0];const s=new Date,o=`${s.getHours()}:${s.getMinutes()}:${s.getSeconds()}.${s.getMilliseconds()}`;if(this.renderer.removeStyle(r,"color"),t.value===this.NO_CHANNEL)return yield this.glueService.leaveChannel(),this.messages.unshift({text:`Left channel: ${null===(n=this.currentChannel)||void 0===n?void 0:n.name}`,time:o}),void delete this.currentChannel;this.currentChannel=i,yield this.glueService.joinChannel(this.currentChannel.name),this.messages.unshift({text:`Joined channel: ${this.currentChannel.name}`,time:o}),this.renderer.setStyle(r,"color",this.currentChannel.meta.color)}))}clearLogs(){this.messages=[]}setGlueConnectionStatus(){this.glueConnectedBadgeSrc=`${this.DEPLOY_URL}/assets/connected.svg`,this.glueConnectionStatus="Connected"}}return t.\u0275fac=function(e){return new(e||t)(As(fu),As(Lo),As(qo))},t.\u0275cmp=ce({type:t,selectors:[["app-root"]],decls:28,vars:5,consts:[[1,"d-flex","flex-column","vh-100"],[1,"navbar","navbar-light","bg-light","py-3"],["id","appNameHeading",1,"mb-0"],["id","clearLogsBtn","type","button",1,"btn","btn-outline-primary","btn-sm","text-nowrap",3,"click"],[1,"container-fluid","d-flex","flex-column","flex-grow-1","overflow-auto"],[1,"row","flex-grow-1"],[1,"col-10"],[1,"flex-column","flex-grow-1","mt-2","overflow-auto","row"],[1,"col-12","d-flex","pr-0",2,"overflow-y","scroll"],["id","logs-list",1,"flex-grow-1","list-group"],["class","d-flex justify-content-between align-items-center border-top py-1",4,"ngFor","ngForOf"],[1,"col-2"],[1,"row","mt-2"],[1,"col","d-flex"],[3,"selectionChange"],[3,"value"],[3,"color","value",4,"ngFor","ngForOf"],[1,"row"],[1,"align-items-center","bg-light","col","d-flex","py-2"],["id","glueImg","width","16","height","16",3,"src"],["id","glueSpan",1,"ml-1","small"],[1,"d-flex","justify-content-between","align-items-center","border-top","py-1"],[1,"align-items-center","d-flex","flex-grow-1"],[1,"bg-success","d-inline-block","mr-2","rounded-circle","bg-",2,"width","10px","height","10px","min-width","10px","min-height","10px"],[1,"badge","badge-pill"]],template:function(t,e){1&t&&(Ds(0,"body",0),Ds(1,"nav",1),Ds(2,"h5",2),po(3," Angular Material Select "),Ms(),Ds(4,"button",3),Bs("click",(function(){return e.clearLogs()})),po(5,"Clear Logs"),Ms(),Ms(),Ds(6,"div",4),Ds(7,"div",5),Ds(8,"div",6),Ds(9,"div",7),Ds(10,"div",8),Ds(11,"ul",9),Os(12,Jg,6,2,"li",10),Ms(),Ms(),Ms(),Ms(),Ds(13,"div",11),Ds(14,"div",12),Ds(15,"div",13),Ds(16,"mat-form-field"),Ds(17,"mat-label"),po(18,"Select a channel"),Ms(),Ds(19,"mat-select",14),Bs("selectionChange",(function(t){return e.selectChannel(t)})),Ds(20,"mat-option",15),po(21,"No channels"),Ms(),Os(22,ty,2,4,"mat-option",16),Ms(),Ms(),Ms(),Ms(),Ms(),Ms(),Ds(23,"footer",17),Ds(24,"div",18),Ns(25,"img",19),Ds(26,"span",20),po(27),Ms(),Ms(),Ms(),Ms(),Ms()),2&t&&(Oi(12),Ps("ngForOf",e.messages),Oi(8),Ps("value",e.NO_CHANNEL),Oi(2),Ps("ngForOf",e.channels),Oi(3),Ps("src",e.glueConnectedBadgeSrc,ci),Oi(2),fo(e.glueConnectionStatus))},directives:[uc,Uf,jf,Qg,sf],encapsulation:2}),t})();var ny=function(t,e){return(ny=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},iy=function(){return(iy=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function ry(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,a)}l((i=i.apply(t,e||[])).next())}))}function sy(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var oy,ay,ly,cy=1,uy=function(){return(cy=(9301*cy+49297)%233280)/233280},hy=function(t){cy=t},dy="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function py(){ly=!1}function fy(t){if(t){if(t!==oy){if(t.length!==dy.length)throw new Error("Custom alphabet for shortid must be "+dy.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+dy.length+" unique characters. These characters were not unique: "+e.join(", "));oy=t,py()}}else oy!==dy&&(oy=dy,py())}function my(){return ly||(ly=function(){oy||fy(dy);for(var t,e=oy.split(""),n=[],i=uy();e.length>0;)i=uy(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}var gy,yy,_y={get:function(){return oy||dy},characters:function(t){return fy(t),oy},seed:function(t){hy(t),ay!==t&&(py(),ay=t)},lookup:function(t){return my()[t]},shuffled:my},vy="object"==typeof window&&(window.crypto||window.msCrypto),by=vy&&vy.getRandomValues?function(t){return vy.getRandomValues(new Uint8Array(t))}:function(t){for(var e=[],n=0;n<t;n++)e.push(Math.floor(256*Math.random()));return e},wy=function(t,e,n){for(var i=(2<<Math.log(e.length-1)/Math.LN2)-1,r=-~(1.6*i*n/e.length),s="";;)for(var o=t(r),a=r;a--;)if((s+=e[o[a]&i]||"").length===+n)return s},Cy=function(t){for(var e,n=0,i="";!e;)i+=wy(by,_y.get(),1),e=t<Math.pow(16,n+1),n++;return i},Sy=function(t){return!(!t||"string"!=typeof t||t.length<6||new RegExp("[^"+_y.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(t))},xy=function(t,e){return function(t){var e=0;function n(){return function(t){var e="",n=Math.floor(.001*(Date.now()-1567752802062));return n===yy?gy++:(gy=0,yy=n),e+=Cy(7),e+=Cy(t),gy>0&&(e+=Cy(gy)),e+Cy(n)}(e)}t.exports=n,t.exports.generate=n,t.exports.seed=function(e){return _y.seed(e),t.exports},t.exports.worker=function(n){return e=n,t.exports},t.exports.characters=function(t){return void 0!==t&&_y.characters(t),_y.shuffled()},t.exports.isValid=Sy}(e={exports:{}}),e.exports}(),ky=function(){function t(t,e,n,i){this.id=t,this.name=e,this.control=n,this.windows=i}return t.prototype.getURL=function(){var t;return ry(this,void 0,void 0,(function(){var e;return sy(this,(function(n){switch(n.label){case 0:return[4,this.callControl("getURL",{})];case 1:return e=n.sent(),[2,null===(t=null==e?void 0:e.returned)||void 0===t?void 0:t._value]}}))}))},t.prototype.moveResize=function(t){return ry(this,void 0,void 0,(function(){return sy(this,(function(e){switch(e.label){case 0:return[4,this.callControl("moveResize",t,!0)];case 1:return e.sent(),[2,this]}}))}))},t.prototype.close=function(){return ry(this,void 0,void 0,(function(){var t=this;return sy(this,(function(e){return[2,new Promise((function(e,n){var i=function(){s&&clearTimeout(s),r&&r()},r=t.windows.onWindowRemoved((function(n){n.id===t.id&&(e(t),i())})),s=setTimeout((function(){n("can not close window - probably not opened by your window"),i()}),1e3);t.callControl("close",{},!0).catch((function(){}))}))]}))}))},t.prototype.setTitle=function(t){return ry(this,void 0,void 0,(function(){return sy(this,(function(e){switch(e.label){case 0:return"string"==typeof t&&(t={title:t}),[4,this.callControl("setTitle",t,!0)];case 1:return e.sent(),[2,this]}}))}))},t.prototype.resizeTo=function(t,e){return ry(this,void 0,void 0,(function(){return sy(this,(function(n){switch(n.label){case 0:return[4,this.callControl("moveResize",{width:t,height:e},!0)];case 1:return n.sent(),[2,this]}}))}))},t.prototype.moveTo=function(t,e){return ry(this,void 0,void 0,(function(){return sy(this,(function(n){switch(n.label){case 0:return[4,this.callControl("moveResize",{top:t,left:e},!0)];case 1:return n.sent(),[2,this]}}))}))},t.prototype.getBounds=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){switch(t.label){case 0:return[4,this.callControl("getBounds",{})];case 1:return[2,t.sent().returned]}}))}))},t.prototype.getContext=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){switch(t.label){case 0:return[4,this.callControl("getContext",{})];case 1:return[2,t.sent().returned]}}))}))},t.prototype.getTitle=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){switch(t.label){case 0:return[4,this.callControl("getTitle",{})];case 1:return[2,t.sent().returned._value]}}))}))},t.prototype.onContextUpdated=function(t){throw new Error("Method not implemented.")},t.prototype.updateContext=function(t){return ry(this,void 0,void 0,(function(){return sy(this,(function(e){switch(e.label){case 0:return[4,this.callControl("updateContext",t,!0)];case 1:return e.sent(),[2,this]}}))}))},t.prototype.setContext=function(t){return ry(this,void 0,void 0,(function(){return sy(this,(function(e){switch(e.label){case 0:return[4,this.callControl("setContext",t,!0)];case 1:return e.sent(),[2,this]}}))}))},t.prototype.callControl=function(t,e,n){return void 0===n&&(n=!1),ry(this,void 0,void 0,(function(){return sy(this,(function(i){switch(i.label){case 0:return[4,this.control.send({command:t,domain:"windows",args:e,skipResult:n},{windowId:this.id})];case 1:return[2,i.sent()]}}))}))},t}(),Ey=function(){function t(){this.callbacks={}}return t.prototype.start=function(e,n){var i=this;this.interop=e,this.logger=n,this.interop.register(t.CONTROL_METHOD,(function(t){return ry(i,void 0,void 0,(function(){var e,i,r;return sy(this,(function(s){return e=t,n.trace("received control command "+JSON.stringify(e)),"windows"===e.domain?this.myWindow?(i=this.myWindow[e.command].call(this.myWindow,e.args),e.skipResult?[2,{}]:[2,i]):[2]:("layouts"===e.domain&&(r=this.callbacks[e.domain])&&r(e),[2])}))}))}))},t.prototype.send=function(e,n){if(!this.interop)throw new Error("Control not started");return this.logger.info("sending control command "+JSON.stringify(e)+" to "+JSON.stringify(n)+"}"),this.interop.invoke(t.CONTROL_METHOD,e,n)},t.prototype.subscribe=function(t,e){this.callbacks[t]=e},t.prototype.setLocalWindow=function(t){this.myWindow=t},t.CONTROL_METHOD="GC.Control",t}();function Iy(t){if(t&&t.errorHandling&&"function"!=typeof t.errorHandling&&"log"!==t.errorHandling&&"silent"!==t.errorHandling&&"throw"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be ["log" | "silent" | "throw" | (err) => void], but '+typeof t.errorHandling+" was passed");var e=t&&"function"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var r=n instanceof Error?n:new Error(n);if(e)e(r);else{var s='[ERROR] callback-registry: User callback for key "'+i+'" failed: '+r.stack;if(t)switch(t.errorHandling){case"log":return console.error(s);case"silent":return;case"throw":throw new Error(s)}console.error(s)}}return{add:function(t,e){var i=n[t];return i||(n[t]=i=[]),i.push(e),function(){var i=n[t];i&&(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[]),n[t]=i)}},execute:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var s=n[t];if(!s||0===s.length)return[];var o=[];return s.forEach((function(n){try{var r=n.apply(void 0,e);o.push(r)}catch(s){o.push(void 0),i(s,t)}})),o},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}Iy.default=Iy;var Ty=Iy,Oy=function(){function t(t,e,n,i,r){this.id=t,this.name=e,this.window=n,this.control=i,this.interop=r,this.context={},this.registry=Ty(),i.setLocalWindow(this)}return t.prototype.getURL=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){return[2,this.window.location.href]}))}))},t.prototype.moveResize=function(t){var e=t.left,n=t.top,i=t.width,r=t.height;return ry(this,void 0,void 0,(function(){return sy(this,(function(t){return e=null!=e?e:window.screenLeft,n=null!=n?n:window.screenTop,i=null!=i?i:window.outerWidth,r=null!=r?r:window.outerHeight,window.moveTo(e,n),window.resizeTo(i,r),[2,this]}))}))},t.prototype.close=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){if(!this.parent)throw new Error("can not close window if it's not opened by script");try{window.close()}catch(e){console.log("what")}return[2,this]}))}))},t.prototype.setTitle=function(t){return ry(this,void 0,void 0,(function(){return sy(this,(function(e){return"object"==typeof t&&null!==t&&(t=t.title),document.title=t,[2,this]}))}))},t.prototype.resizeTo=function(t,e){return ry(this,void 0,void 0,(function(){return sy(this,(function(n){switch(n.label){case 0:return[4,this.moveResize({width:t,height:e})];case 1:return n.sent(),[2,this]}}))}))},t.prototype.moveTo=function(t,e){return ry(this,void 0,void 0,(function(){return sy(this,(function(n){switch(n.label){case 0:return[4,this.moveResize({top:t,left:e})];case 1:return n.sent(),[2,this]}}))}))},t.prototype.getBounds=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){return[2,this.getBoundsSync()]}))}))},t.prototype.getContext=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){return[2,this.getContextSync()]}))}))},t.prototype.getContextSync=function(){return this.context},t.prototype.getTitle=function(){return ry(this,void 0,void 0,(function(){return sy(this,(function(t){return[2,this.window.document.title]}))}))},t.prototype.onContextUpdated=function(t){return this.registry.add("context-updated",t)},t.prototype.updateContext=function(t){var e=this.context;return this.context=Object.assign({},t,e),this.registry.execute("context-updated",t,e),Promise.resolve(this)},t.prototype.setContext=function(t){return ry(this,void 0,void 0,(function(){var e;return sy(this,(function(n){return e=this.context,this.context=Object.assign({},t),this.registry.execute("context-updated",t,e),[2,Promise.resolve(this)]}))}))},t.prototype.getBoundsSync=function(){return{left:this.window.screenLeft,top:this.window.screenTop,width:this.window.outerWidth,height:this.window.outerHeight}},t}(),Ay=function(t){function e(e,n,i,r,s){var o=t.call(this,n,i,r,s)||this;return o.window=e,o.id=n,o.name=i,o}return function(t,e){function n(){this.constructor=t}ny(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(ky),Py=function(t){return'"GC.Wnd."'+t},Ry=function(){function t(t,e){this.interop=t,this.control=e,this.registry=Ty(),this.childWindows=[];var n=t.instance.windowId,i="document.title ("+xy()+")";this.myWindow=new Oy(n,i,window,this.control,this.interop),this.trackWindowsLifetime()}return t.prototype.list=function(){var t=this,e=this.interop.methods({name:Ey.CONTROL_METHOD})[0];return e?(e.getServers?e.getServers():[]).reduce((function(e,n){var i=t.remoteFromServer(n);return i&&e.push(i),e}),[]):[]},t.prototype.findById=function(t){return this.list().find((function(e){return e.id===t}))},t.prototype.my=function(){return this.myWindow},t.prototype.open=function(t,e,n){var i,r,s,o,a;return ry(this,void 0,void 0,(function(){var l,c,u,h,d,p,f,m,g,y,_,v,b;return sy(this,(function(w){switch(w.label){case 0:return l=null!==(i=null==n?void 0:n.width)&&void 0!==i?i:400,c=null!==(r=null==n?void 0:n.height)&&void 0!==r?r:400,u=null!==(s=null==n?void 0:n.left)&&void 0!==s?s:window.screen.availWidth-window.screenLeft,h=null!==(o=null==n?void 0:n.top)&&void 0!==o?o:0,d=xy(),function(t,e,n,i,r){var s,o=Py(n),a={context:null!==(s=null==r?void 0:r.context)&&void 0!==s?s:{},name:i,parent:e};t.register(o,(function(){return a}))}(this.interop,this.my().id,d,t,n),(null==n?void 0:n.relativeTo)?(p=n.relativeTo,(f=this.list().find((function(t){return t.id===p})))?[4,f.getBounds()]:[3,2]):[3,2];case 1:m=w.sent(),g=null!==(a=n.relativeDirection)&&void 0!==a?a:"right",y=this.getRelativeBounds({width:l,height:c,left:u,top:h},m,g),l=y.width,c=y.height,u=y.left,h=y.top,w.label=2;case 2:if(_="width="+l+",height="+c+",left="+u+",top="+h+",scrollbars=none,location=no,status=no,menubar=no",!(v=window.open(e,d,_)))throw new Error("failed to open a window with url="+e+" and options="+_);return v.moveTo(u,h),v.resizeTo(l,c),b=new Ay(v,d,t,this.control,this),this.childWindows.push(b),[2,b]}}))}))},t.prototype.onWindowAdded=function(t){return this.registry.add("window-added",t)},t.prototype.onWindowRemoved=function(t){return this.registry.add("window-removed",t)},t.prototype.getChildWindows=function(){return this.childWindows=this.childWindows.filter((function(t){return!t.window.closed})),this.childWindows},t.prototype.remoteFromServer=function(t){var e;if(t.windowId)return new ky(t.windowId,null!==(e=t.application)&&void 0!==e?e:"",this.control,this)},t.prototype.getRelativeBounds=function(t,e,n){switch(n){case"bottom":return{left:e.left,top:e.top+e.height+0,width:e.width,height:t.height};case"top":return{left:e.left,top:e.top-t.height-0,width:e.width,height:t.height};case"right":return{left:e.left+e.width+0,top:e.top,width:t.width,height:e.height};case"left":return{left:e.left-t.width-0,top:e.top,width:t.width,height:e.height}}throw new Error("invalid relativeDirection")},t.prototype.trackWindowsLifetime=function(){var t=this;this.interop.serverMethodAdded((function(e){if(e.method.name===Ey.CONTROL_METHOD){var n=t.remoteFromServer(e.server);n&&t.registry.execute("window-added",n)}})),this.interop.serverRemoved((function(e){var n=t.remoteFromServer(e);n&&t.registry.execute("window-removed",n)}))},t}(),Dy=function(){function t(){}return t.prototype.getAll=function(){var t=this.getObjectFromLocalStorage();return Object.values(t)},t.prototype.get=function(t,e){return this.getObjectFromLocalStorage()[this.getKey(t,e)]},t.prototype.save=function(t){var e=this.getObjectFromLocalStorage();return e[this.getKey(t.name,t.type)]=t,this.setObjectToLocalStorage(e),Promise.resolve(t)},t.prototype.remove=function(t,e){return delete this.getObjectFromLocalStorage()[this.getKey(t,e)],Promise.resolve()},t.prototype.clear=function(){return this.setObjectToLocalStorage({}),Promise.resolve()},t.prototype.getObjectFromLocalStorage=function(){var e=window.localStorage.getItem(t.KEY);return e?JSON.parse(e):{}},t.prototype.setObjectToLocalStorage=function(e){window.localStorage.setItem(t.KEY,JSON.stringify(e))},t.prototype.getKey=function(t,e){return e+"_"+t},t.KEY="G0_layouts",t}(),My=function(){function t(t,e,n,i,r){var s,o;this.windows=t,this.interop=e,this.logger=n,this.control=i,this.storage=new Dy,this.registerRequestMethods(),this.control.subscribe("layouts",this.handleControlMessage.bind(this)),this.autoSaveContext=null!==(o=null===(s=null==r?void 0:r.layouts)||void 0===s?void 0:s.autoSaveWindowContext)&&void 0!==o&&o}return t.prototype.list=function(){return this.storage.getAll()},t.prototype.save=function(t){return ry(this,void 0,void 0,(function(){var e,n;return sy(this,(function(i){switch(i.label){case 0:return t.name?(e=this.windows.getChildWindows().map((function(t){return t.id})),[4,this.getRemoteWindowsInfo(e)]):[2,Promise.reject("missing name for layout "+JSON.stringify(t))];case 1:return(n=i.sent()).push(this.getLocalLayoutComponent(t.context,!0)),[2,this.storage.save({type:"Global",name:t.name,components:n,context:t.context||{},metadata:t.metadata||{}})]}}))}))},t.prototype.restore=function(t){return ry(this,void 0,void 0,(function(){var e,n=this;return sy(this,(function(i){if(!(e=this.list().find((function(e){return e.name===t.name&&"Global"===e.type}))))throw new Error("can not find layout with name "+t.name);return e.components.forEach((function(t){if("window"===t.type){var e=t.state;if(e.main)return;var i=iy(iy({},e.bounds),{context:e.context});n.windows.open(e.name,e.url,i)}})),[2]}))}))},t.prototype.remove=function(t,e){return this.storage.remove(e,t),Promise.resolve()},t.prototype.onSaveRequested=function(t){var e=this;return this.getLocalInfoCallback=t,function(){e.getLocalInfoCallback=void 0}},t.prototype.getLocalLayoutComponent=function(t,e){var n;void 0===e&&(e=!1);var i=this.windows.my();try{this.autoSaveContext&&(n={windowContext:i.getContextSync()}),this.getLocalInfoCallback&&(n=this.getLocalInfoCallback(t))}catch(r){this.logger.warn("onSaveRequested - error getting data from user function - "+r)}return{type:"window",componentType:"application",state:{name:i.name,context:(null==n?void 0:n.windowContext)||{},bounds:i.getBoundsSync(),url:window.document.location.href,id:i.id,parentId:i.parent,main:e}}},t.prototype.registerRequestMethods=function(){var e=this;this.interop.register(t.SaveContextMethodName,(function(t){return e.getLocalLayoutComponent(t)}))},t.prototype.handleControlMessage=function(t){return ry(this,void 0,void 0,(function(){var e,n,i,r=this;return sy(this,(function(s){switch(s.label){case 0:return"saveLayoutAndClose"!==(e=t).command?[3,3]:[4,this.getRemoteWindowsInfo((n=e.args).childWindows)];case 1:return(i=s.sent()).push(n.parentInfo),[4,this.storage.save({type:"Global",name:n.layoutName,components:i,context:n.context||{},metadata:n.metadata||{}})];case 2:s.sent(),n.childWindows.forEach((function(t){var e;null===(e=r.windows.findById(t))||void 0===e||e.close()})),s.label=3;case 3:return[2]}}))}))},t.prototype.getRemoteWindowsInfo=function(e){return ry(this,void 0,void 0,(function(){var n,i,r,s,o;return sy(this,(function(a){switch(a.label){case 0:for(n=[],i=function(e){var i=r.interop.servers().find((function(t){return t.windowId===e}));if(!i||!i.getMethods)return"continue";if(i.getMethods().find((function(e){return e.name===t.SaveContextMethodName})))try{n.push(r.interop.invoke(t.SaveContextMethodName,{},{windowId:e}))}catch(a){}},r=this,s=0,o=e;s<o.length;s++)i(o[s]);return[4,Promise.all(n)];case 1:return[2,a.sent().map((function(t){return t.returned}))]}}))}))},t.SaveContextMethodName="T42.HC.GetSaveContext",t}(),Ny=function(){function t(t){this.contexts=t}return t.prototype.subscribe=function(t){this.callback=t},t.prototype.subscribeFor=function(t,e){if(!this.isChannel(t))return Promise.reject(new Error("Channel with name: "+t+" doesn't exist!"));var n=this.createContextName(t);return this.contexts.subscribe(n,(function(t,n,i,r,s){e(t.data,t,null==s?void 0:s.updaterId)}))},t.prototype.switchChannel=function(t){return ry(this,void 0,void 0,(function(){var e,n,i=this;return sy(this,(function(r){switch(r.label){case 0:return this.unsubscribe(),e=this.createContextName(t),n=this,[4,this.contexts.subscribe(e,(function(t,e,n,r,s){i.callback&&i.callback(t.data,t,null==s?void 0:s.updaterId)}))];case 1:return n.unsubscribeFunc=r.sent(),[2]}}))}))},t.prototype.unsubscribe=function(){this.unsubscribeFunc&&this.unsubscribeFunc()},t.prototype.add=function(t,e){var n=this.createContextName(t);return this.contexts.set(n,e)},t.prototype.all=function(){return this.contexts.all().filter((function(t){return t.startsWith("___channel___")})).map((function(t){return t.substr("___channel___".length)}))},t.prototype.getContextData=function(t){var e=this;return new Promise((function(n,i){if(!e.isChannel(t))return i(new Error("A channel with name: "+t+" doesn't exist!"));var r=e.createContextName(t);e.contexts.subscribe(r,(function(t){n(t)})).then((function(t){return t()}))}))},t.prototype.update=function(t,e){var n=this.createContextName(t);return this.contexts.update(n,e)},t.prototype.createContextName=function(t){return"___channel___"+t},t.prototype.isChannel=function(t){return this.all().some((function(e){return e===t}))},t}(),Fy=function(){function t(t,e){var n=this;this.subsKey="subs",this.changedKey="changed",this.registry=Ty(),this.shared=new Ny(t),this.shared.subscribe(this.handler.bind(this)),this.readyPromise=Promise.resolve(null==e?void 0:e.reduce((function(t,e){return t.then((function(){return n.add(e)}))}),Promise.resolve({})))}return t.prototype.subscribe=function(t){if("function"!=typeof t)throw new Error("Please provide the callback as a function!");return this.registry.add(this.subsKey,t)},t.prototype.subscribeFor=function(t,e){return ry(this,void 0,void 0,(function(){return sy(this,(function(n){switch(n.label){case 0:if("string"!=typeof t)throw new Error("Please provide the name as a string!");if("function"!=typeof e)throw new Error("Please provide the callback as a function!");return[4,this.shared.subscribeFor(t,e)];case 1:return[2,n.sent()]}}))}))},t.prototype.publish=function(t,e){return ry(this,void 0,void 0,(function(){var n;return sy(this,(function(i){switch(i.label){case 0:if("object"!=typeof t)throw new Error("Please provide the data as an object!");if(!e)return[3,2];if("string"!=typeof e)throw new Error("Please provide the name as a string!");return[4,this.get(e)];case 1:return n=i.sent(),[2,this.shared.update(n.name,{data:t})];case 2:if(!this.currentContext)throw new Error("Not joined to any channel!");return[2,this.shared.update(this.currentContext,{data:t})]}}))}))},t.prototype.all=function(){var t=this.shared.all();return Promise.resolve(t)},t.prototype.list=function(){return ry(this,void 0,void 0,(function(){var t,e=this;return sy(this,(function(n){switch(n.label){case 0:return[4,this.all()];case 1:return t=n.sent(),[4,Promise.all(t.map((function(t){return e.get(t)})))];case 2:return[2,n.sent()]}}))}))},t.prototype.get=function(t){return"string"!=typeof t?Promise.reject(new Error("Please provide the channel name as a string!")):this.shared.getContextData(t)},t.prototype.join=function(t){return ry(this,void 0,void 0,(function(){var e,n=this;return sy(this,(function(i){switch(i.label){case 0:if("string"!=typeof t)throw new Error("Please provide the channel name as a string!");return(e=function(t){return n.shared.all().includes(t)})(t)?[3,2]:[4,new Promise((function(n,i){var r,s=setInterval((function(){e(t)&&(clearTimeout(r),clearInterval(s),n())}),100);r=setTimeout((function(){return clearInterval(s),i(new Error("A channel with name: "+t+" doesn't exist!"))}),3e3)}))];case 1:i.sent(),i.label=2;case 2:return[4,this.shared.switchChannel(t)];case 3:return i.sent(),this.currentContext=t,this.registry.execute(this.changedKey,t),[2]}}))}))},t.prototype.leave=function(){return this.currentContext=void 0,this.registry.execute(this.changedKey,void 0),this.shared.unsubscribe(),Promise.resolve()},t.prototype.current=function(){return this.currentContext},t.prototype.my=function(){return this.current()},t.prototype.changed=function(t){if("function"!=typeof t)throw new Error("Please provide the callback as a function!");return this.registry.add(this.changedKey,t)},t.prototype.onChanged=function(t){return this.changed(t)},t.prototype.add=function(t){return ry(this,void 0,void 0,(function(){var e;return sy(this,(function(n){switch(n.label){case 0:if("object"!=typeof t)throw new Error("Please provide the info as an object!");if(void 0===t.name)throw new Error("info.name is missing!");if("string"!=typeof t.name)throw new Error("Please provide the info.name as a string!");if(void 0===t.meta)throw new Error("info.meta is missing!");if("object"!=typeof t.meta)throw new Error("Please provide the info.meta as an object!");if(void 0===t.meta.color)throw new Error("info.meta.color is missing!");if("string"!=typeof t.meta.color)throw new Error("Please provide the info.meta.color as a string!");return[4,this.shared.update(t.name,e={name:t.name,meta:t.meta||{},data:t.data||{}})];case 1:return n.sent(),[2,e]}}))}))},t.prototype.ready=function(){return this.readyPromise},t.prototype.handler=function(t,e,n){this.registry.execute(this.subsKey,t,e,n)},t}(),jy=function(){function t(t){this.interop=t}return t.prototype.raise=function(t){return ry(this,void 0,void 0,(function(){var e,n,i=this;return sy(this,(function(r){switch(r.label){case 0:if(!("Notification"in window))throw new Error("this browser does not support desktop notification");return[4,"granted"===Notification.permission?Promise.resolve("granted"):"denied"===Notification.permission?Promise.reject("no permissions from user"):Notification.requestPermission()];case 1:return r.sent(),e=this.raiseUsingWebApi(t),t.clickInterop&&(n=t.clickInterop,e.onclick=function(){var t,e;i.interop.invoke(n.method,null!==(t=null==n?void 0:n.arguments)&&void 0!==t?t:{},null!==(e=null==n?void 0:n.target)&&void 0!==e?e:"best")}),[2,e]}}))}))},t.prototype.raiseUsingWebApi=function(t){return new Notification(t.title,t)},t}(),Ly={worker:"/glue/worker.js",extends:"/glue/glue.config.json",layouts:{autoRestore:!1,autoSaveWindowContext:!1},logger:"error"},Vy=function(t){return ry(void 0,void 0,void 0,(function(){var e,n,i,r,s;return sy(this,(function(o){switch(o.label){case 0:if(!1===(e=null!==(s=null!==(r=t.extends)&&void 0!==r?r:Ly.extends)&&void 0!==s?s:"/glue/glue.config.json"))return[2,{}];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,(a=e,void 0===l&&(l=1e3),new Promise((function(t,e){var n=!1,i=setTimeout((function(){n=!0,e(new Error("Fetch request for: "+a+" timed out at: "+l+" milliseconds"))}),l);fetch(a).then((function(e){n||(clearTimeout(i),t(e))})).catch((function(t){n||(clearTimeout(i),e(t))}))})))];case 2:return(n=o.sent()).ok?[4,n.json()]:[2,{}];case 3:return[2,null!=(i=o.sent())?i:{}];case 4:return o.sent(),[2,{}];case 5:return[2]}var a,l}))}))},By=function(t){var e="_auto_"+document.location.href,n=t.layouts.list().find((function(t){return t.name===e}));if(!n)return Promise.resolve();var i=t.windows.my();if(i.parent)return Promise.resolve();t.logger.info("restoring layout "+e);var r=n.components.find((function(t){return t.state.main}));i.setContext(null==r?void 0:r.state.context);try{return t.layouts.restore({name:e,closeRunningInstance:!1})}catch(s){return t.logger.error(s),Promise.resolve()}},Hy=function(t,e,n){var i=!1;window.addEventListener("beforeunload",(function(){ry(void 0,void 0,void 0,(function(){var r,s,o,a,l;return sy(this,(function(c){return i||(i=!0,(null===(l=null==e?void 0:e.layouts)||void 0===l?void 0:l.autoRestore)&&(r=t.windows.getChildWindows().map((function(t){return t.id})),s=r[0],o="_auto_"+document.location.href,r.length>0?(a={domain:"layouts",command:"saveLayoutAndClose",args:{childWindows:r,closeEveryone:!0,layoutName:o,context:{},metadata:{},parentInfo:t.layouts.getLocalLayoutComponent({},!0)}},n.send(a,{windowId:s})):t.layouts.save({name:o})),t.done()),[2]}))}))}))},qy=function(t,e){return(qy=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function zy(t,e){function n(){this.constructor=t}qy(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var $y=function(){return($y=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Wy(t,e,n,i){return new(n||(n=Promise))((function(r,s){function o(t){try{l(i.next(t))}catch(e){s(e)}}function a(t){try{l(i.throw(t))}catch(e){s(e)}}function l(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(o,a)}l((i=i.apply(t,e||[])).next())}))}function Uy(t,e){var n,i,r,s,o={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,i&&(r=2&s[0]?i.return:s[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,s[1])).done)return r;switch(i=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((r=(r=o.trys).length>0&&r[r.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){o.label=s[1];break}if(6===s[0]&&o.label<r[1]){o.label=r[1],r=s;break}if(r&&o.label<r[2]){o.label=r[2],o.ops.push(s);break}r[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],i=0}finally{n=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function Ky(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var i=Array(t),r=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,r++)i[r]=s[o];return i}function Gy(t){return 3===t.type?"timestamp":2===t.type?"number":1===t.type?"string":4===t.type?"object":"unknown"}function Yy(t){return t.constructor===Date?"timestamp":"number"==typeof t?"number":"string"==typeof t?"string":"object"==typeof t?"object":"string"}function Zy(t){return void 0!==t&&t.length>0&&"/"!==t[0]?"/"+t:t}var Qy=function(){function t(t,e,n,i,r){this.definition=t,this.system=e,this.transport=n,this.value=i,this.type=r,this.path=[],function(t,e,n){if(null===t||"object"!=typeof t)throw new Error("Missing definition");if(null===e||"object"!=typeof e)throw new Error("Missing parent");if(null===n||"object"!=typeof n)throw new Error("Missing transport")}(t,e,n),this.path=e.path.slice(0),this.path.push(e.name),this.name=t.name,this.description=t.description,n.createMetric(this)}return Object.defineProperty(t.prototype,"repo",{get:function(){var t;return null===(t=this.system)||void 0===t?void 0:t.repo},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.system.path+"/"+name},enumerable:!0,configurable:!0}),t.prototype.update=function(t){this.value=t,this.transport.updateMetric(this)},t}(),Xy=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r,2)||this}return zy(e,t),e.prototype.incrementBy=function(t){this.update(this.value+t)},e.prototype.increment=function(){this.incrementBy(1)},e.prototype.decrement=function(){this.incrementBy(-1)},e.prototype.decrementBy=function(t){this.incrementBy(-1*t)},e}(Qy),Jy=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r,4)||this}return zy(e,t),e.prototype.update=function(t){this.mergeValues(t),this.transport.updateMetric(this)},e.prototype.mergeValues=function(t){var e=this;return Object.keys(this.value).forEach((function(n){void 0!==t[n]&&(e.value[n]=t[n])}))},e}(Qy),t_=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r,1)||this}return zy(e,t),e}(Qy),e_=function(t){function e(e,n,i,r){return t.call(this,e,n,i,r,3)||this}return zy(e,t),e.prototype.now=function(){this.update(new Date)},e}(Qy),n_=function(){function t(t,e){e.init(this),this.root=function t(e,n,i,r,s){if(!n)throw new Error("Repository is required");if(!i)throw new Error("Transport is required");var o,a=i,l=e,c=s||"",u=n,h=r,d=function t(e){if(!e||!e.parent)return[];var n=t(e.parent);return n.push(e.name),n}(r),p={},f=((o=d)&&o.length>0?o.join("/"):"")+e,m=[],g=[];function y(t,e,n,i){var r;r="string"==typeof t?{name:t}:t;var s=g.filter((function(t){return t.name===r.name}));if(s.length>0){var o=s[0];if(o.type!==e)throw new Error("A metric named "+r.name+" is already defined with different type.");return void 0!==n&&o.update(n),o}var a=i(r);return g.push(a),a}var _={get name(){return l},get description(){return c},get repo(){return u},get parent(){return h},path:d,id:f,root:n.root,get subSystems(){return m},get metrics(){return g},subSystem:function(e,n){if(!e||0===e.length)throw new Error("name is required");var i=m.filter((function(t){return t.name===e}));if(i.length>0)return i[0];var r=t(e,u,a,_,n);return m.push(r),r},getState:function(){return p},setState:function(t,e){a.updateSystem(_,p={state:t,description:e})},stringMetric:function(t,e){return y(t,1,e,(function(t){return new t_(t,_,a,e)}))},timestampMetric:function(t,e){return y(t,3,e,(function(t){return new e_(t,_,a,e)}))},objectMetric:function(t,e){return y(t,4,e,(function(t){return new Jy(t,_,a,e)}))},numberMetric:function(t,e){return y(t,2,e,(function(t){return new Xy(t,_,a,e)}))},getAggregateState:function(){var t=[];return Object.keys(p).length>0&&t.push({name:l,path:d,state:p.state,description:p.description}),m.forEach((function(e){var n=e.getAggregateState();n.length>0&&t.push.apply(t,n)})),t}};return a.createSystem(_),_}("",this,e),this.addSystemMetrics(this.root,t.clickStream||void 0===t.clickStream)}return t.prototype.addSystemMetrics=function(t,e){if("undefined"!=typeof navigator&&t.stringMetric("UserAgent",navigator.userAgent),e&&"undefined"!=typeof document){var n=t.subSystem("ClickStream"),i=function(t){if(t.target){var e=t.target;n.objectMetric("LastBrowserEvent",{type:"click",timestamp:new Date,target:{className:t.target?e.className:"",id:e.id,type:"<"+e.tagName.toLowerCase()+">",href:e.href||""}})}};n.objectMetric("Page",{title:document.title,page:window.location.href}),document.addEventListener?document.addEventListener("click",i):document.attachEvent("onclick",i)}t.stringMetric("StartTime",(new Date).toString());var r=t.stringMetric("StartURL",""),s=t.stringMetric("AppName","");if("undefined"!=typeof window){if(void 0!==window.location){var o=window.location.href;r.update(o)}void 0!==window.glue42gd&&s.update(window.glue42gd.appName)}},t}(),i_=function(){function t(){}return t.prototype.init=function(t){},t.prototype.createSystem=function(t){},t.prototype.updateSystem=function(t,e){},t.prototype.createMetric=function(t){},t.prototype.updateMetric=function(t){},t}();function r_(t){if(t&&t.errorHandling&&"function"!=typeof t.errorHandling&&"log"!==t.errorHandling&&"silent"!==t.errorHandling&&"throw"!==t.errorHandling)throw new Error('Invalid options passed to createRegistry. Prop errorHandling should be ["log" | "silent" | "throw" | (err) => void], but '+typeof t.errorHandling+" was passed");var e=t&&"function"==typeof t.errorHandling&&t.errorHandling,n={};function i(n,i){var r=n instanceof Error?n:new Error(n);if(e)e(r);else{var s='[ERROR] callback-registry: User callback for key "'+i+'" failed: '+r.stack;if(t)switch(t.errorHandling){case"log":return console.error(s);case"silent":return;case"throw":throw new Error(s)}console.error(s)}}return{add:function(t,e){var i=n[t];return i||(n[t]=i=[]),i.push(e),function(){var i=n[t];i&&(i=i.reduce((function(t,n,i){return n===e&&t.length===i||t.push(n),t}),[]),n[t]=i)}},execute:function(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var s=n[t];if(!s||0===s.length)return[];var o=[];return s.forEach((function(n){try{var r=n.apply(void 0,e);o.push(r)}catch(s){o.push(void 0),i(s,t)}})),o},clear:function(){n={}},clearKey:function(t){n[t]&&delete n[t]}}}r_.default=r_;var s_,o_,a_,l_=r_,c_=function(){function t(t,e){var n=this;this.registry=l_(),this.gw=t.facade,this.gw.connect((function(t,e){n.messageHandler(e)})).then((function(t){n.client=t}))}return Object.defineProperty(t.prototype,"isObjectBasedTransport",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.sendObject=function(t){return this.client?(this.client.send(t),Promise.resolve(void 0)):Promise.reject("not connected")},t.prototype.send=function(t){return Promise.reject("not supported")},t.prototype.onMessage=function(t){return this.registry.add("onMessage",t)},t.prototype.onConnectedChanged=function(t){t(!0)},t.prototype.close=function(){return Promise.resolve()},t.prototype.open=function(){return Promise.resolve()},t.prototype.name=function(){return"in-memory"},t.prototype.reconnect=function(){return Promise.resolve()},t.prototype.messageHandler=function(t){this.registry.execute("onMessage",t)},t}(),u_=function(){function t(t,e){var n=this;this.logger=e,this.registry=l_(),this.worker=new SharedWorker(t),this.worker.port.onmessage=function(t){n.messageHandler(t.data)}}return Object.defineProperty(t.prototype,"isObjectBasedTransport",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.sendObject=function(t){return this.worker.port.postMessage(t),Promise.resolve()},t.prototype.send=function(t){return Promise.reject("not supported")},t.prototype.onMessage=function(t){return this.registry.add("onMessage",t)},t.prototype.onConnectedChanged=function(t){t(!0)},t.prototype.close=function(){return Promise.resolve()},t.prototype.open=function(){return Promise.resolve()},t.prototype.name=function(){return"shared-worker"},t.prototype.reconnect=function(){return Promise.resolve()},t.prototype.messageHandler=function(t){this.registry.execute("onMessage",t)},t}(),h_=function(){function t(){}return t.getGDMajorVersion=function(){if("undefined"!=typeof window&&window.glueDesktop&&window.glueDesktop.version){var t=Number(window.glueDesktop.version.substr(0,1));return isNaN(t)?void 0:t}},t.isNode=function(){if(void 0!==t._isNode)return t._isNode;try{t._isNode="[object process]"===Object.prototype.toString.call(global.process)}catch(e){t._isNode=!1}return t._isNode},t}(),d_=function(){function t(){var t=this;this.rejected=!1,this.resolved=!1,this.promise=new Promise((function(e,n){t.resolve=function(n){t.resolved=!0,e(n)},t.reject=function(e){t.rejected=!0,n(e)}}))}return t.delay=function(t){return new Promise((function(e){return setTimeout(e,t)}))},Object.defineProperty(t.prototype,"ended",{get:function(){return this.rejected||this.resolved},enumerable:!0,configurable:!0}),t}(),p_=h_.isNode()?n("f3NI"):window.WebSocket,f_=function(){function t(t,e){if(this._running=!0,this._registry=l_(),this.wsRequests=[],this.settings=t,this.logger=e,!this.settings.ws)throw new Error("ws is missing")}return t.prototype.onMessage=function(t){return this._registry.add("onMessage",t)},t.prototype.send=function(t,e){var n=this;return new Promise((function(e,i){n.waitForSocketConnection((function(){var r;try{null===(r=n.ws)||void 0===r||r.send(t),e()}catch(s){i(s)}}),i)}))},t.prototype.open=function(){var t=this;return this.logger.info("opening ws..."),this._running=!0,new Promise((function(e,n){t.waitForSocketConnection(e,n)}))},t.prototype.close=function(){return this._running=!1,this.ws&&this.ws.close(),Promise.resolve()},t.prototype.onConnectedChanged=function(t){return this._registry.add("onConnectedChanged",t)},t.prototype.name=function(){return"ws "+this.settings.ws},t.prototype.reconnect=function(){var t;null===(t=this.ws)||void 0===t||t.close();var e=new d_;return this.waitForSocketConnection((function(){e.resolve()})),e.promise},t.prototype.waitForSocketConnection=function(t,e){var n;e=null!=e?e:function(){},this._running?1!==(null===(n=this.ws)||void 0===n?void 0:n.readyState)?(this.wsRequests.push({callback:t,failed:e}),this.wsRequests.length>1||this.openSocket()):t():e("wait for socket on "+this.settings.ws+" failed - socket closed by user")},t.prototype.openSocket=function(t,e){return Wy(this,void 0,void 0,(function(){var n=this;return Uy(this,(function(i){switch(i.label){case 0:if(void 0===t&&(t=this.settings.reconnectInterval),void 0!==e){if(0===e)return this.notifyForSocketState("wait for socket on "+this.settings.ws+" failed - no more retries left"),[2];this.logger.debug("will retry "+e+" more times (every "+t+" ms)")}i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.initiateSocket()];case 2:return i.sent(),this.notifyForSocketState(),[3,4];case 3:return i.sent(),setTimeout((function(){n.openSocket(t,void 0===e?void 0:e-1)}),t),[3,4];case 4:return[2]}}))}))},t.prototype.initiateSocket=function(){var t=this,e=new d_;return this.logger.debug("initiating ws to "+this.settings.ws+"..."),this.ws=new p_(this.settings.ws||""),this.ws.onerror=function(n){var i="";try{i=JSON.stringify(n)}catch(s){var r=new WeakSet;i=JSON.stringify(n,(function(t,e){if("object"==typeof e&&null!==e){if(r.has(e))return;r.add(e)}return e}))}e.reject("error"),t.notifyStatusChanged(!1,i)},this.ws.onclose=function(n){t.logger.info("ws closed "+n),e.reject("closed"),t.notifyStatusChanged(!1)},this.ws.onopen=function(){var n;t.logger.info("ws opened "+(null===(n=t.settings.identity)||void 0===n?void 0:n.application)),e.resolve(),t.notifyStatusChanged(!0)},this.ws.onmessage=function(e){t._registry.execute("onMessage",e.data)},e.promise},t.prototype.notifyForSocketState=function(t){this.wsRequests.forEach((function(e){t?e.failed&&e.failed(t):e.callback()})),this.wsRequests=[]},t.prototype.notifyStatusChanged=function(t,e){this._registry.execute("onConnectedChanged",t,e)},t}(),m_=1,g_=function(){return(m_=(9301*m_+49297)%233280)/233280},y_="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function __(){a_=!1}function v_(t){if(t){if(t!==s_){if(t.length!==y_.length)throw new Error("Custom alphabet for shortid must be "+y_.length+" unique characters. You submitted "+t.length+" characters: "+t);var e=t.split("").filter((function(t,e,n){return e!==n.lastIndexOf(t)}));if(e.length)throw new Error("Custom alphabet for shortid must be "+y_.length+" unique characters. These characters were not unique: "+e.join(", "));s_=t,__()}}else s_!==y_&&(s_=y_,__())}function b_(){return a_||(a_=function(){s_||v_(y_);for(var t,e=s_.split(""),n=[],i=g_();e.length>0;)i=g_(),t=Math.floor(i*e.length),n.push(e.splice(t,1)[0]);return n.join("")}())}var w_={characters:function(t){return v_(t),s_},seed:function(t){m_=t,o_!==t&&(__(),o_=t)},lookup:function(t){return b_()[t]},shuffled:b_},C_="object"==typeof window&&(window.crypto||window.msCrypto),S_=function(){if(!C_||!C_.getRandomValues)return 48&Math.floor(256*Math.random());var t=new Uint8Array(1);return C_.getRandomValues(t),48&t[0]},x_=function(t,e){for(var n,i=0,r="";!n;)r+=t(e>>4*i&15|S_()),n=e<Math.pow(16,i+1),i++;return r},k_=function(t){var e=w_.shuffled();return{version:15&e.indexOf(t.substr(0,1)),worker:15&e.indexOf(t.substr(1,1))}},E_=function(t){if(!t||"string"!=typeof t||t.length<6)return!1;for(var e=w_.characters(),n=t.length,i=0;i<n;i++)if(-1===e.indexOf(t[i]))return!1;return!0},I_=function(t,e){return function(t){var e,n,i=0;function r(){var t="",r=Math.floor(.001*(Date.now()-1459707606518));return r===n?e++:(e=0,n=r),t+=x_(w_.lookup,6),t+=x_(w_.lookup,i),e>0&&(t+=x_(w_.lookup,e)),t+x_(w_.lookup,r)}t.exports=r,t.exports.generate=r,t.exports.seed=function(e){return w_.seed(e),t.exports},t.exports.worker=function(e){return i=e,t.exports},t.exports.characters=function(t){return void 0!==t&&w_.characters(t),w_.shuffled()},t.exports.decode=k_,t.exports.isValid=E_}(e={exports:{}}),e.exports}();function T_(t,e,n,i,r){null==t&&(t="global"),i=i||["success"],r=r||["error"];var s,o=!1,a=!1,l=!1,c=l_();e.disconnected((function(){l=!1,n.debug("connection is down"),o=!1,a=!0,c.execute("onLeft",{disconnected:!0})})),e.loggedIn((function(){l=!0,a&&(n.debug("connection is now up - trying to reconnect..."),h(s))})),e.on("success",(function(t){return p(t)})),e.on("error",(function(t){return d(t)})),e.on("result",(function(t){return p(t)})),i&&i.forEach((function(t){e.on(t,(function(t){return p(t)}))})),r&&r.forEach((function(t){e.on(t,(function(t){return d(t)}))}));var u={};function h(e){return s=e,new Promise((function(i,r){var s;o?i():("global"===t?s=l?Promise.resolve({}):Promise.reject("not connected to gateway"):(n.debug("joining domain "+t),s=m({type:"join",destination:t,domain:"global",options:e})),s.then((function(){!function(){n.debug("did join "+t),o=!0;var e=a;a=!1,c.execute("onJoined",e)}(),i()})).catch((function(e){n.debug("error joining "+t+" domain: "+JSON.stringify(e)),r(e)})))}))}function d(e){if(t===e.domain){var n=e.request_id;if(n){var i=u[n];i&&i.error(e)}}}function p(e){if(e.domain===t){var n=e.request_id;if(n){var i=u[n];i&&i.success(e)}}}function f(){return I_()}function m(i,r,s){s=s||{},i.request_id=i.request_id||f(),i.domain=i.domain||t,s.skipPeerId||(i.peer_id=e.peerId);var o=i.request_id;return new Promise((function(t,a){u[o]={success:function(e){delete u[o],e._tag=r,t(e)},error:function(t){n.warn("GW error - "+JSON.stringify(t)+" for request "+JSON.stringify(i)),delete u[o],t._tag=r,a(t)}},e.send(i,s).catch((function(t){u[o].error({err:t})}))}))}return{join:h,leave:function(){return"global"===t?Promise.resolve():(n.debug("stopping session "+t+"..."),a=!1,m({type:"leave",destination:t,domain:"global"}).then((function(){o=!1,c.execute("onLeft")})))},onJoined:function(t){return o&&t(!1),c.add("onJoined",t)},onLeft:function(t){return o||t(),c.add("onLeft",t)},send:m,sendFireAndForget:function(n){n.request_id=n.request_id?n.request_id:f(),n.domain=n.domain||t,n.peer_id=e.peerId,e.send(n)},on:function(i,r){e.on(i,(function(e){if(e.domain===t)try{r(e)}catch(i){n.error("Callback  failed: "+i+" \n "+i.stack+" \n msg was: "+JSON.stringify(e),i)}}))},loggedIn:function(t){return e.loggedIn(t)},connected:function(t){return e.connected(t)},disconnected:function(t){return e.disconnected(t)},get peerId(){return e.peerId},get domain(){return t}}}var O_=function(){function t(t,e,n){var i=this;this.connection=t,this.settings=e,this.logger=n,this.protocolVersion=3,this.datePrefix="#T42_DATE#",this.datePrefixLen=this.datePrefix.length,this.dateMinLen=this.datePrefixLen+1,this.datePrefixFirstChar=this.datePrefix[0],this.registry=l_(),this._isLoggedIn=!1,this.shouldTryLogin=!0,this.initialLogin=!0,this.initialLoginAttempts=3,this.sessions=[],t.disconnected((function(){i.handleDisconnected()})),this.ping()}return Object.defineProperty(t.prototype,"isLoggedIn",{get:function(){return this._isLoggedIn},enumerable:!0,configurable:!0}),t.prototype.processStringMessage=function(t){var e=this,n=JSON.parse(t,(function(t,n){if("string"!=typeof n)return n;if(n.length<e.dateMinLen)return n;if(n[0]!==e.datePrefixFirstChar)return n;if(n.substring(0,e.datePrefixLen)!==e.datePrefix)return n;try{var i=parseInt(n.substring(e.datePrefixLen,n.length),10);return isNaN(i)?n:new Date(i)}catch(r){return n}}));return{msg:n,msgType:n.type}},t.prototype.createStringMessage=function(t){var e=Date.prototype.toJSON;try{var n=this.datePrefix;return Date.prototype.toJSON=function(){return n+this.getTime()},JSON.stringify(t)}finally{Date.prototype.toJSON=e}},t.prototype.processObjectMessage=function(t){if(!t.type)throw new Error("Object should have type property");return{msg:t,msgType:t.type}},t.prototype.createObjectMessage=function(t){return t},t.prototype.login=function(t,e){return Wy(this,void 0,void 0,(function(){var n,i,r,s,o,a,l,c,u,h;return Uy(this,(function(d){switch(d.label){case 0:if(this.logger.debug("logging in..."),this.loginConfig=t,this.loginConfig||(this.loginConfig={username:"",password:""}),this.shouldTryLogin=!0,n={},this.connection.gatewayToken=t.gatewayToken,!t.gatewayToken)return[3,5];if(!e)return[3,4];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.getNewGWToken()];case 2:return c=d.sent(),t.gatewayToken=c,[3,4];case 3:return i=d.sent(),this.logger.warn("failed to get GW token when reconnecting "+((null==i?void 0:i.message)||i)),[3,4];case 4:return n.method="gateway-token",n.token=t.gatewayToken,this.connection.gatewayToken=t.gatewayToken,[3,10];case 5:return"sspi"!==t.flowName?[3,9]:(n.provider="win",n.method="access-token",t.flowCallback&&t.sessionId?(r=n,[4,t.flowCallback(t.sessionId,null)]):[3,7]);case 6:return r.token=d.sent().data.toString("base64"),[3,8];case 7:throw new Error("Invalid SSPI config");case 8:return[3,10];case 9:if(t.token)n.method="access-token",n.token=t.token;else{if(!t.username)throw new Error("invalid auth message"+JSON.stringify(t));n.method="secret",n.login=t.username,n.secret=t.password}d.label=10;case 10:s={type:"hello",identity:this.settings.identity,authentication:n},t.sessionId&&(s.request_id=t.sessionId),this.globalDomain=T_("global",this.connection,this.logger.subLogger("global-domain"),["welcome","token","authentication-request"]),o={skipPeerId:!0},this.initialLogin&&(o.retryInterval=this.settings.reconnectInterval,o.maxRetries=this.settings.reconnectAttempts),d.label=11;case 11:d.trys.push([11,19,20,21]),a=void 0,d.label=12;case 12:return[4,this.globalDomain.send(s,void 0,o)];case 13:return"authentication-request"!==(l=d.sent()).type?[3,16]:(c=Buffer.from(l.authentication.token,"base64"),t.flowCallback&&t.sessionId?(u=s.authentication,[4,t.flowCallback(t.sessionId,c)]):[3,15]);case 14:u.token=d.sent().data.toString("base64"),d.label=15;case 15:return s.request_id=t.sessionId,[3,12];case 16:if("welcome"===l.type)return a=l,[3,18];throw"error"===l.type?new Error("Authentication failed: "+l.reason):new Error("Unexpected message type during authentication: "+l.type);case 17:return[3,12];case 18:return this.initialLogin=!1,this.logger.info("login successful with peerId "+a.peer_id),this.connection.peerId=a.peer_id,this.connection.resolvedIdentity=a.resolved_identity,this.connection.availableDomains=a.available_domains,a.options&&(this.connection.token=a.options.access_token,this.connection.info=a.options.info),this.setLoggedIn(!0),[2,a.resolved_identity];case 19:throw h=d.sent(),this.logger.error("error sending hello message - "+(h.message||h.msg||h.reason||h),h),h;case 20:return t&&t.flowCallback&&t.sessionId&&t.flowCallback(t.sessionId,null),[7];case 21:return[2]}}))}))},t.prototype.logout=function(){return Wy(this,void 0,void 0,(function(){var t;return Uy(this,(function(e){switch(e.label){case 0:return this.logger.debug("logging out..."),this.shouldTryLogin=!1,this.pingTimer&&clearTimeout(this.pingTimer),t=this.sessions.map((function(t){t.leave()})),[4,Promise.all(t)];case 1:return e.sent(),[2]}}))}))},t.prototype.loggedIn=function(t){return this._isLoggedIn&&t(),this.registry.add("onLoggedIn",t)},t.prototype.domain=function(t,e,n,i){var r=this.sessions.filter((function(e){return e.domain===t}))[0];return r||(r=T_(t,this.connection,e,n,i),this.sessions.push(r)),r},t.prototype.handleDisconnected=function(){var t=this;if(this.setLoggedIn(!1),this.shouldTryLogin&&this.initialLogin){if(this.initialLoginAttempts<=0)return;this.initialLoginAttempts--}if(this.logger.debug("disconnected - will try new login?"+this.shouldTryLogin),this.shouldTryLogin){if(!this.loginConfig)throw new Error("no login info");this.connection.login(this.loginConfig,!0).catch((function(){setTimeout(t.handleDisconnected,1e3)}))}},t.prototype.setLoggedIn=function(t){this._isLoggedIn=t,this._isLoggedIn&&this.registry.execute("onLoggedIn")},t.prototype.ping=function(){var t=this;this.shouldTryLogin&&(this._isLoggedIn&&this.connection.send({type:"ping"}),this.pingTimer=setTimeout((function(){t.ping()}),3e4))},t.prototype.authToken=function(){return this.globalDomain?this.globalDomain.send({type:"create-token"}).then((function(t){return t.token})):Promise.reject(new Error("no global domain session"))},t.prototype.getNewGWToken=function(){if(void 0!==typeof window){var t=window.glue42gd;if(t)return t.getGWToken()}return Promise.reject(new Error("not running in GD"))},t}(),A_=function(){function t(t){this.specsNames=[],this.messages={},this.subs={},this.subsRefCount={},this.specs={};for(var e=0,n=t;e<n.length;e++){var i=n[e];this.specs[i.name]=i,this.specsNames.push(i.name)}}return t.prototype.init=function(t){var e=this;this.connection=t;for(var n=0,i=this.specsNames;n<i.length;n++)for(var r=function(n){var i=s.subsRefCount[n];if(i||(i=0),s.subsRefCount[n]=i+=1,i>1)return"continue";var r=t.on(n,(function(t){return e.processMessage(n,t)}));s.subs[n]=r},s=this,o=0,a=this.specs[i[n]].types;o<a.length;o++)r(a[o])},t.prototype.processMessage=function(t,e){if(!this.isDone&&e)for(var n=0,i=this.specsNames;n<i.length;n++){var r=i[n];if(-1!==this.specs[r].types.indexOf(t)){var s=this.messages[r]||[];this.messages[r]=s,s.push(e)}}},t.prototype.drain=function(t,e){var n;e&&(this.messages[t]||[]).forEach(e),delete this.messages[t];for(var i=0,r=this.specs[t].types;i<r.length;i++){var s=r[i];this.subsRefCount[s]-=1,this.subsRefCount[s]<=0&&(null===(n=this.connection)||void 0===n||n.off(this.subs[s]),delete this.subs[s],delete this.subsRefCount[s])}delete this.specs[t],this.specs.length||(this.isDone=!0)},t}(),P_=function(){function t(t,e){if(this.settings=t,this.logger=e,this.messageHandlers={},this.ids=1,this.registry=l_(),this._connected=!1,this.isTrace=!1,(t=t||{}).reconnectAttempts=t.reconnectAttempts||10,t.reconnectInterval=t.reconnectInterval||1e3,t.inproc)this.transport=new c_(t.inproc,e.subLogger("inMemory"));else if(t.sharedWorker)this.transport=new u_(t.sharedWorker,e.subLogger("shared-worker"));else{if(void 0===t.ws)throw new Error("No connection information specified");this.transport=new f_(t,e.subLogger("ws"))}this.isTrace=e.canPublish("trace"),e.info("starting with "+this.transport.name()+" transport"),this.protocol=new O_(this,t,e.subLogger("protocol")),this.transport.onConnectedChanged(this.handleConnectionChanged.bind(this)),this.transport.onMessage(this.handleTransportMessage.bind(this)),t.replaySpecs&&t.replaySpecs.length&&(this.replayer=new A_(t.replaySpecs),this.replayer.init(this))}return Object.defineProperty(t.prototype,"protocolVersion",{get:function(){var t;return null===(t=this.protocol)||void 0===t?void 0:t.protocolVersion},enumerable:!0,configurable:!0}),t.prototype.send=function(t,e){if(this.transport.sendObject&&this.transport.isObjectBasedTransport){var n=this.protocol.createObjectMessage(t);return this.isTrace&&this.logger.trace(">> "+JSON.stringify(n)),this.transport.sendObject(n,e)}var i=this.protocol.createStringMessage(t);return this.isTrace&&this.logger.trace(">> "+i),this.transport.send(i,e)},t.prototype.on=function(t,e){t=t.toLowerCase(),void 0===this.messageHandlers[t]&&(this.messageHandlers[t]={});var n=this.ids++;return this.messageHandlers[t][n]=e,{type:t,id:n}},t.prototype.off=function(t){delete this.messageHandlers[t.type.toLowerCase()][t.id]},Object.defineProperty(t.prototype,"isConnected",{get:function(){return this.protocol.isLoggedIn},enumerable:!0,configurable:!0}),t.prototype.connected=function(t){var e=this;return this.protocol.loggedIn((function(){t(e.settings.ws||e.settings.sharedWorker||"")}))},t.prototype.disconnected=function(t){return this.registry.add("disconnected",t)},t.prototype.login=function(t,e){return Wy(this,void 0,void 0,(function(){return Uy(this,(function(n){switch(n.label){case 0:return[4,this.transport.open()];case 1:return n.sent(),[2,this.protocol.login(t,e)]}}))}))},t.prototype.logout=function(){return Wy(this,void 0,void 0,(function(){return Uy(this,(function(t){switch(t.label){case 0:return[4,this.protocol.logout()];case 1:return t.sent(),[4,this.transport.close()];case 2:return t.sent(),[2]}}))}))},t.prototype.loggedIn=function(t){return this.protocol.loggedIn(t)},t.prototype.domain=function(t,e,n){return this.protocol.domain(t,this.logger.subLogger("domain="+t),e,n)},t.prototype.authToken=function(){return this.protocol.authToken()},t.prototype.reconnect=function(){return this.transport.reconnect()},t.prototype.distributeMessage=function(t,e){var n=this,i=this.messageHandlers[e.toLowerCase()];void 0!==i&&Object.keys(i).forEach((function(e){var r=i[e];if(void 0!==r)try{r(t)}catch(s){n.logger.error("Message handler failed with "+s.stack,s)}}))},t.prototype.handleConnectionChanged=function(t){this._connected!==t&&(this._connected=t,this.registry.execute(t?"connected":"disconnected"))},t.prototype.handleTransportMessage=function(t){var e;e="string"==typeof t?this.protocol.processStringMessage(t):this.protocol.processObjectMessage(t),this.isTrace&&this.logger.trace("<< "+JSON.stringify(e)),this.distributeMessage(e.msg,e.msgType)},t}(),R_=["trace","debug","info","warn","error","off"],D_=function(){function t(t,e,n){this.name=t,this.parent=e,this.subLoggers=[],this.logFn=console,this.customLogFn=!1,this.name=t,this.path=e?e.path+"."+t:t,this.loggerFullName="["+this.path+"]",this.includeTimeAndLevel=!n,n&&(this.logFn=n,this.customLogFn=!0)}return t.prototype.subLogger=function(e){var n=this.subLoggers.filter((function(t){return t.name===e}))[0];if(void 0!==n)return n;Object.keys(this).forEach((function(t){if(t===e)throw new Error("This sub logger name is not allowed.")}));var i=new t(e,this,this.customLogFn?this.logFn:void 0);return this.subLoggers.push(i),i},t.prototype.publishLevel=function(t){var e;return t&&(this._publishLevel=t),this._publishLevel||(null===(e=this.parent)||void 0===e?void 0:e.publishLevel())},t.prototype.consoleLevel=function(t){var e;return t&&(this._consoleLevel=t),this._consoleLevel||(null===(e=this.parent)||void 0===e?void 0:e.consoleLevel())},t.prototype.log=function(t,e,n){this.publishMessage(e||"info",t,n)},t.prototype.trace=function(t){this.log(t,"trace")},t.prototype.debug=function(t){this.log(t,"debug")},t.prototype.info=function(t){this.log(t,"info")},t.prototype.warn=function(t){this.log(t,"warn")},t.prototype.error=function(t,e){this.log(t,"error")},t.prototype.canPublish=function(t,e){return R_.indexOf(t)>=R_.indexOf(e||this.consoleLevel()||"trace")},t.prototype.publishMessage=function(e,n,i){var r,s,o=this.loggerFullName;if("error"===e&&!i){var a=new Error;a.stack&&(n=n+"\n"+a.stack.split("\n").slice(3).join("\n"))}if(this.canPublish(e,this.publishLevel())&&(null===(r=t.Interop)||void 0===r?void 0:r.methods({name:t.InteropMethodName}).length)>0&&(null===(s=t.Interop)||void 0===s||s.invoke(t.InteropMethodName,{msg:""+n,logger:o,level:e})),this.canPublish(e)){var l="";if(this.includeTimeAndLevel){var c=new Date;l="["+c.getHours()+":"+c.getMinutes()+":"+c.getSeconds()+":"+c.getMilliseconds()+"] ["+e+"] "}var u=""+l+o+": "+n;switch(e){case"trace":this.logFn.debug(u);break;case"debug":this.logFn.debug?this.logFn.debug(u):this.logFn.log(u);break;case"info":this.logFn.info(u);break;case"warn":this.logFn.warn(u);break;case"error":this.logFn.error(u,i)}}},t.InteropMethodName="T42.AppLogger.Log",t}(),M_={get name(){return"context"},get types(){return["create-context","created","destroyed","context-created","context-added","subscribe-context","subscribed-context","unsubscribe-context","destroy-context","context-destroyed","update-context","context-updated","joined"]}};function N_(){function t(){return(new Date).getTime()}var e,n,i=t();return{get startTime(){return i},get endTime(){return e},get period(){return n},stop:function(){return e=t(),n=t()-i}}}var F_=function(){function t(t,e,n,i){this.updateCallbacks={},this.contextId=t,this.name=e,this.isAnnounced=n,this.activityId=i,this.context={}}return t.prototype.hasCallbacks=function(){return Object.keys(this.updateCallbacks).length>0},t.prototype.getState=function(){return this.isAnnounced&&this.hasCallbacks()?3:this.isAnnounced?2:this.hasCallbacks()?1:0},t}();function j_(t,e){if(e){if(e.reset)return t=$y({},e.reset);t=L_(t,void 0);var n=e.added,i=e.updated,r=e.removed;n&&Object.keys(n).forEach((function(e){t[e]=n[e]})),i&&Object.keys(i).forEach((function(e){V_(e,t,i)})),r&&r.forEach((function(e){delete t[e]}))}return t}function L_(t,e){if(e=e||new WeakMap,Object(t)!==t)return t;if(t instanceof Set)return new Set(t);if(e.has(t))return e.get(t);var n=t instanceof Date?new Date(t):t instanceof RegExp?new RegExp(t.source,t.flags):t.constructor?new t.constructor:Object.create(null);return e.set(t,n),Object.assign.apply(Object,Ky([n],Object.keys(t).map((function(n){var i;return(i={})[n]=L_(t[n],e),i}))))}var V_=function(t,e,n){var i=n[t];if(void 0===i)return e;var r=e[t];return r&&i?"string"==typeof r||"number"==typeof r||"boolean"==typeof r||"string"==typeof i||"number"==typeof i||"boolean"==typeof i||Array.isArray(r)||Array.isArray(i)?(e[t]=i,e):(e[t]=Object.assign({},r,i),e):(e[t]=i,e)};function B_(t,e){if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;if(t.constructor!==e.constructor)return!1;for(var n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return!1;if(t[n]!==e[n]){if("object"!=typeof t[n])return!1;if(!B_(t[n],e[n]))return!1}}for(var n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0}var H_,q_=function(){function t(t){var e,n=this;this._contextNameToData={},this._gw3Subscriptions=[],this._nextCallbackSubscriptionNumber=0,this._contextNameToId={},this._contextIdToName={},this._connection=t.connection,this._logger=t.logger,this._gw3Session=this._connection.domain("global",["context-created","subscribed-context","context-destroyed","context-updated"]),this.subscribeToContextCreatedMessages(),this.subscribeToContextUpdatedMessages(),this.subscribeToContextDestroyedMessages(),null===(e=this._connection.replayer)||void 0===e||e.drain(M_.name,(function(t){var e=t.type;e&&("context-created"===e||"context-added"===e||"created"===e?n.handleContextCreatedMessage(t):"subscribed-context"===e||"context-updated"===e||"joined"===e?n.handleContextUpdatedMessage(t):"context-destroyed"!==e&&"destroyed"!==e||n.handleContextDestroyedMessage(t))}))}return t.prototype.dispose=function(){for(var t=0,e=this._gw3Subscriptions;t<e.length;t++)this._connection.off(e[t]);for(var n in this._gw3Subscriptions.length=0,this._contextNameToData)this._contextNameToId.hasOwnProperty(n)&&delete this._contextNameToData[n]},t.prototype.createContext=function(t,e){var n=this;return this._gw3Session.send({type:"create-context",domain:"global",name:t,data:e,lifetime:"retained"}).then((function(i){if(n._contextNameToId[t]=i.context_id,!n._contextIdToName[i.context_id]){n._contextIdToName[i.context_id]=t;var r=n._contextNameToData[t]||new F_(i.context_id,t,!0,void 0);return r.isAnnounced=!0,r.name=t,r.contextId=i.context_id,n._contextNameToData[t]=r,r.context=i.data,r.sentExplicitSubscription=!0,r.context&&n.invokeUpdateCallbacks(r,r.context,void 0),n.update(t,e).then((function(){return i.context_id}))}return i.context_id}))},t.prototype.all=function(){var t=this;return Object.keys(this._contextNameToData).filter((function(e){return t._contextNameToData[e].isAnnounced}))},t.prototype.update=function(t,e){return Wy(this,void 0,void 0,(function(){var n,i,r,s=this;return Uy(this,(function(o){switch(o.label){case 0:return(n=this._contextNameToData[t])&&n.isAnnounced?(i=n.context,n.hasCallbacks()?[3,2]:[4,this.get(n.name,!1)]):[2,this.createContext(t,e)];case 1:i=o.sent(),o.label=2;case 2:return r=this.calculateContextDelta(i,e),Object.keys(r.added).length||Object.keys(r.updated).length||r.removed.length?[2,this._gw3Session.send({type:"update-context",domain:"global",context_id:n.contextId,delta:r},{},{skipPeerId:!1}).then((function(t){s.handleUpdated(n,r,{updaterId:t.peer_id})}))]:[2,Promise.resolve()]}}))}))},t.prototype.set=function(t,e){var n=this,i=this._contextNameToData[t];return i&&i.isAnnounced?this._gw3Session.send({type:"update-context",domain:"global",context_id:i.contextId,delta:{reset:e}},{},{skipPeerId:!1}).then((function(t){n.handleUpdated(i,{reset:e,added:{},removed:[],updated:{}},{updaterId:t.peer_id})})):this.createContext(t,e)},t.prototype.get=function(t,e){var n=this;void 0===e&&(e=!0);var i=this._contextNameToData[t];return i&&i.isAnnounced&&i.hasCallbacks()||e?Promise.resolve(i&&i.context):new Promise((function(e,i){return Wy(n,void 0,void 0,(function(){var n=this;return Uy(this,(function(i){return this.subscribe(t,(function(t,i,r,s){n.unsubscribe(s),e(t)})),[2]}))}))}))},t.prototype.subscribe=function(t,e){var n=this._nextCallbackSubscriptionNumber;this._nextCallbackSubscriptionNumber+=1;var i=this._contextNameToData[t];if(!i||!i.isAnnounced)return i=i||new F_(void 0,t,!1,void 0),this._contextNameToData[t]=i,i.updateCallbacks[n]=e,Promise.resolve(n);var r=i.hasCallbacks();return i.updateCallbacks[n]=e,r||i.joinedActivity||i.context&&i.sentExplicitSubscription?(e(i.context,i.context,[],n),Promise.resolve(n)):this.sendSubscribe(i).then((function(){return n}))},t.prototype.unsubscribe=function(t){for(var e=0,n=Object.keys(this._contextNameToData);e<n.length;e++){var i=n[e],r=this._contextNameToData[i];if(!r)return;var s=r.hasCallbacks();delete r.updateCallbacks[t],r.isAnnounced&&s&&!r.hasCallbacks()&&r.sentExplicitSubscription&&this.sendUnsubscribe(r),r.isAnnounced||r.hasCallbacks()||delete this._contextNameToData[i]}},t.prototype.handleUpdated=function(t,e,n){var i=t.context;t.context=j_(t.context,e),this._contextNameToData[t.name]!==t||B_(i,t.context)||this.invokeUpdateCallbacks(t,t.context,e,n)},t.prototype.subscribeToContextCreatedMessages=function(){for(var t=0,e=["context-added","context-created","created"];t<e.length;t++){var n=this._connection.on(e[t],this.handleContextCreatedMessage.bind(this));this._gw3Subscriptions.push(n)}},t.prototype.handleContextCreatedMessage=function(t){var e=t.type;"created"===e?(this._contextNameToId[t.activity_id]=t.context_id,this._contextIdToName[t.context_id]=t.activity_id):"context-added"===e&&(this._contextNameToId[t.name]=t.context_id,this._contextIdToName[t.context_id]=t.name);var n=this._contextIdToName[t.context_id];if(!n)throw new Error("Received created event for context with unknown name: "+t.context_id);if(!this._contextNameToId[n])throw new Error("Received created event for context with unknown id: "+t.context_id);var i=this._contextNameToData[n];if(i){if(i.isAnnounced)return;if(!i.hasCallbacks())throw new Error("Assertion failure: contextData.hasCallbacks()");i.isAnnounced=!0,i.contextId=t.context_id,i.activityId=t.activity_id,i.sentExplicitSubscription||this.sendSubscribe(i)}else this._contextNameToData[n]=i=new F_(t.context_id,n,!0,t.activity_id)},t.prototype.subscribeToContextUpdatedMessages=function(){for(var t=0,e=["context-updated","subscribed-context","joined"];t<e.length;t++){var n=this._connection.on(e[t],this.handleContextUpdatedMessage.bind(this));this._gw3Subscriptions.push(n)}},t.prototype.handleContextUpdatedMessage=function(t){var e=t.type,n=t.context_id,i=this._contextNameToData[this._contextIdToName[n]],r=!i||!i.isAnnounced;if("joined"===e)i?(i.contextId=n,i.isAnnounced=!0,i.activityId=t.activity_id):(i=new F_(n,t.activity_id,!0,t.activity_id),this._contextNameToData[t.activity_id]=i,this._contextIdToName[n]=t.activity_id,this._contextNameToId[t.activity_id]=n),i.joinedActivity=!0;else if(!i||!i.isAnnounced)return void("subscribed-context"===e?((i=i||new F_(n,t.name,!0,void 0)).sentExplicitSubscription=!0,this._contextNameToData[t.name]=i,this._contextIdToName[n]=t.name,this._contextNameToId[t.name]=n):this._logger.error("Received 'update' for unknown context: "+n));var s=i.context;if("subscribed-context"===e)i.context=t.data||{};else if("joined"===e)i.context=t.context_snapshot||{};else{if("context-updated"!==e)throw new Error("Unrecognized context update message "+e);i.context=j_(i.context,t.delta)}!r&&B_(i.context,s)&&"subscribed-context"!==e||this.invokeUpdateCallbacks(i,i.context,t.delta,{updaterId:t.updater_id})},t.prototype.invokeUpdateCallbacks=function(t,e,n,i){for(var r in n=n||{added:{},updated:{},reset:{},removed:[]},t.updateCallbacks)if(t.updateCallbacks.hasOwnProperty(r))try{(0,t.updateCallbacks[r])(L_(e),Object.assign({},n.added||{},n.updated||{},n.reset||{}),n.removed,parseInt(r,10),i)}catch(s){this._logger.debug("callback error: "+JSON.stringify(s))}},t.prototype.subscribeToContextDestroyedMessages=function(){for(var t=0,e=["context-destroyed","destroyed"];t<e.length;t++){var n=this._connection.on(e[t],this.handleContextDestroyedMessage.bind(this));this._gw3Subscriptions.push(n)}},t.prototype.handleContextDestroyedMessage=function(t){var e,n;if("destroyed"===t.type){if(!(e=this._contextNameToId[n=t.activity_id]))return void this._logger.error("Received 'destroyed' for unknown activity: "+t.activity_id)}else if(!(n=this._contextIdToName[e=t.context_id]))return void this._logger.error("Received 'destroyed' for unknown context: "+t.context_id);delete this._contextIdToName[e],delete this._contextNameToId[n];var i=this._contextNameToData[n];delete this._contextNameToData[n],i&&i.isAnnounced||this._logger.error("Received 'destroyed' for unknown context: "+e)},t.prototype.sendSubscribe=function(t){return t.sentExplicitSubscription=!0,this._gw3Session.send({type:"subscribe-context",domain:"global",context_id:t.contextId}).then((function(t){}))},t.prototype.sendUnsubscribe=function(t){return t.sentExplicitSubscription=!1,this._gw3Session.send({type:"unsubscribe-context",domain:"global",context_id:t.contextId}).then((function(t){}))},t.prototype.calculateContextDelta=function(t,e){var n={added:{},updated:{},removed:[],reset:void 0};if(t)for(var i=0,r=Object.keys(t);i<r.length;i++){var s=r[i];-1===Object.keys(e).indexOf(s)||null===e[s]||B_(t[s],e[s])||(n.updated[s]=e[s])}for(var o=0,a=Object.keys(e);o<a.length;o++)s=a[o],t&&-1!==Object.keys(t).indexOf(s)?null===e[s]&&n.removed.push(s):null!==e[s]&&(n.added[s]=e[s]);return n},t}(),z_=function(){function t(t){this._bridge=new q_(t)}return t.prototype.all=function(){return this._bridge.all()},t.prototype.update=function(t,e){return this.checkName(t),this._bridge.update(t,e)},t.prototype.set=function(t,e){return this.checkName(t),this._bridge.set(t,e)},t.prototype.subscribe=function(t,e){var n=this;return this.checkName(t),this._bridge.subscribe(t,(function(t,i,r,s,o){return e(t,i,r,(function(){return n._bridge.unsubscribe(s)}),o)})).then((function(t){return function(){n._bridge.unsubscribe(t)}}))},t.prototype.get=function(t,e){return void 0===e&&(e=!0),this._bridge.get(t,e)},t.prototype.ready=function(){return Promise.resolve(this)},t.prototype.checkName=function(t){if("string"!=typeof t||""===t)throw new Error("'name' must be non-empty string, got '"+t+"'")},t}();function $_(t,e,n){return"function"!=typeof e&&"function"!=typeof n?t:("function"!=typeof e?e=function(){}:"function"!=typeof n&&(n=function(){}),t.then(e,n))}function W_(t,e){return void 0===t&&(t=0),new Promise((function(n,i){return setTimeout((function(){return i(e)}),t)}))}!function(t){t[t.Success=0]="Success",t[t.Error=1]="Error"}(H_||(H_={}));var U_=function(){function t(t,e,n,i){this.protocol=t,this.repo=e,this.instance=n,this.configuration=i}return t.prototype.subscribe=function(t,e,n,i,r){var s=this,o=function(t,n,i,o){var a;e.methodResponseTimeout=null!==(a=e.methodResponseTimeout)&&void 0!==a?a:e.waitTimeoutMs,s.protocol.client.subscribe(n,e,t,i,o,r)};return $_(new Promise((function(n,i){var r,a=function(t){n(t)},l=function(t){i(t)};if(t)if((r="string"==typeof t?{name:t}:t).name){void 0===e&&(e={});var c=e.target;if(void 0===c&&(c="best"),"string"!=typeof c||"all"===c||"best"===c){void 0===e.methodResponseTimeout&&(e.methodResponseTimeout=e.method_response_timeout,void 0===e.methodResponseTimeout&&(e.methodResponseTimeout=s.configuration.methodResponseTimeout)),void 0===e.waitTimeoutMs&&(e.waitTimeoutMs=e.wait_for_method_timeout,void 0===e.waitTimeoutMs&&(e.waitTimeoutMs=s.configuration.waitTimeoutMs));var u=0,h=s.getServerMethodsByFilterAndTarget(r,c);if(h.length>0)o(h,h[0].methods[0],a,l);else{var d=function(){c&&e.waitTimeoutMs&&(u+=500,(h=s.getServerMethodsByFilterAndTarget(r,c)).length>0?o(h,h[0].methods[0],a,l):u>=e.waitTimeoutMs?o(h,"string"==typeof t?{name:t}:t,a,l):setTimeout(d,500))};setTimeout(d,500)}}else i(new Error('"'+c+'" is not a valid target. Valid targets are "all", "best", or an instance.'))}else i("Method definition is required. Please, provide either a unique string for a method name or a \u201cmethodDefinition\u201d object with a required \u201cname\u201d property.");else i("Method definition is required. Please, provide either a unique string for a method name or a \u201cmethodDefinition\u201d object with a required \u201cname\u201d property.")})),n,i)},t.prototype.servers=function(t){var e=void 0===t?void 0:$y({},t);return this.getServers(e).map((function(t){return t.server.instance}))},t.prototype.methods=function(t){return t="string"==typeof t?{name:t}:$y({},t),this.getMethods(t)},t.prototype.methodsForInstance=function(t){return this.getMethodsForInstance(t)},t.prototype.methodAdded=function(t){return this.repo.onMethodAdded(t)},t.prototype.methodRemoved=function(t){return this.repo.onMethodRemoved(t)},t.prototype.serverAdded=function(t){return this.repo.onServerAdded(t)},t.prototype.serverRemoved=function(t){return this.repo.onServerRemoved((function(e,n){t(e,n)}))},t.prototype.serverMethodAdded=function(t){return this.repo.onServerMethodAdded((function(e,n){t({server:e,method:n})}))},t.prototype.serverMethodRemoved=function(t){return this.repo.onServerMethodRemoved((function(e,n){t({server:e,method:n})}))},t.prototype.invoke=function(t,e,n,i,r,s){return Wy(this,void 0,void 0,(function(){var o=this;return Uy(this,(function(a){return[2,$_(Wy(o,void 0,void 0,(function(){var r,s,o,a,l,c,u,h,d,p,f=this;return Uy(this,(function(m){switch(m.label){case 0:if(!(r="string"==typeof t?{name:t}:$y({},t)).name)return[2,Promise.reject("Method definition is required. Please, provide either a unique string for a method name or a \u201cmethodDefinition\u201d object with a required \u201cname\u201d property.")];if(e||(e={}),n||(n="best"),"string"==typeof n&&"all"!==n&&"best"!==n&&"skipMine"!==n)return[2,Promise.reject(new Error('"'+n+'" is not a valid target. Valid targets are "all" and "best".'))];if(i||(i={}),void 0===i.methodResponseTimeoutMs&&(i.methodResponseTimeoutMs=i.method_response_timeout,void 0===i.methodResponseTimeoutMs&&(i.methodResponseTimeoutMs=this.configuration.methodResponseTimeout)),void 0===i.waitTimeoutMs&&(i.waitTimeoutMs=i.wait_for_method_timeout,void 0===i.waitTimeoutMs&&(i.waitTimeoutMs=this.configuration.waitTimeoutMs)),void 0!==i.waitTimeoutMs&&"number"!=typeof i.waitTimeoutMs)return[2,Promise.reject(new Error('"'+i.waitTimeoutMs+'" is not a valid number for "waitTimeoutMs" '))];if("object"!=typeof e)return[2,Promise.reject(new Error("The method arguments must be an object. method: "+r.name))];if(0!==(s=this.getServerMethodsByFilterAndTarget(r,n)).length)return[3,4];m.label=1;case 1:return m.trys.push([1,3,,4]),[4,this.tryToAwaitForMethods(r,n,i)];case 2:return s=m.sent(),[3,4];case 3:return m.sent(),o=$y($y({},r),{getServers:function(){return[]},supportsStreaming:!1,objectTypes:null!==(p=r.objectTypes)&&void 0!==p?p:[]}),a={method:o,called_with:e,message:"Can not find a method matching "+JSON.stringify(t)+" with server filter "+JSON.stringify(n),executed_by:void 0,returned:void 0,status:void 0},[2,Promise.reject(a)];case 4:return l=i.methodResponseTimeoutMs,c=i,u=s.map((function(t){var n=I_(),i=f.protocol.client.invoke(n,t.methods[0],e,t.server,c);return Promise.race([i,W_(l,{invocationId:n,message:"Invocation timeout ("+l+" ms) reached",status:H_.Error})])})),[4,Promise.all(u)];case 5:return h=m.sent(),d=this.getInvocationResultObj(h,r,e),h.every((function(t){return t.status===H_.Error}))?[2,Promise.reject(d)]:[2,d]}}))})),r,s)]}))}))},t.prototype.getInvocationResultObj=function(t,e,n){var i=t.filter((function(t){return t.status===H_.Success})).reduce((function(t,i){return Ky(t,[{executed_by:i.instance,returned:i.result,called_with:n,method:e,message:i.message,status:i.status}])}),[]),r=t.filter((function(t){return t.status===H_.Error})).reduce((function(t,i){return Ky(t,[{executed_by:i.instance,called_with:n,name:e.name,message:i.message}])}),[]),s=t[0];return{method:e,called_with:n,returned:s.result,executed_by:s.instance,all_return_values:i,all_errors:r,message:s.message,status:s.status}},t.prototype.tryToAwaitForMethods=function(t,e,n){var i=this;return new Promise((function(r,s){if(0!==n.waitTimeoutMs)var o=0,a=setInterval((function(){o+=500;var l=i.getServerMethodsByFilterAndTarget(t,e);if(l.length>0)clearInterval(a),r(l);else if(o>=(n.waitTimeoutMs||1e4))return clearInterval(a),void s()}),500);else s()}))},t.prototype.filterByTarget=function(t,e){var n=this;if("string"!=typeof t)return(Array.isArray(t)?t:[t]).reduce((function(t,i){var r=e.filter((function(t){return n.instanceMatch(i,t.server.instance)}));return t.concat(r)}),[]);if("all"===t)return Ky(e);if("best"===t){var i=e.find((function(t){return t.server.instance.isLocal}));if(i)return[i];if(void 0!==e[0])return[e[0]]}else if("skipMine"===t)return e.filter((function(t){return t.server.instance.peerId!==n.instance.peerId}));return[]},t.prototype.instanceMatch=function(t,e){return this.containsProps(t,e)},t.prototype.methodMatch=function(t,e){return this.containsProps(t,e)},t.prototype.containsProps=function(t,e){return Object.keys(t).filter((function(e){return void 0!==t[e]&&"function"!=typeof t[e]&&"object_types"!==e&&"display_name"!==e&&"id"!==e&&"gatewayId"!==e&&"identifier"!==e&&"_"!==e[0]})).reduce((function(n,i){var r,s,o=t[i],a=e[i];return"objectTypes"===i?(o.length>a.length||!1===(r=a,s=o.reduce((function(t,e){return t[e]=!1,t}),{}),r.forEach((function(t){void 0!==s[t]&&(s[t]=!0)})),Object.keys(s).reduce((function(t,e){return s[e]||(t=!1),t}),!0)))&&(n=!1):String(o).toLowerCase()!==String(a).toLowerCase()&&(n=!1),n}),!0)},t.prototype.getMethods=function(t){var e=this;return void 0===t?this.repo.getMethods():this.repo.getMethods().filter((function(n){return e.methodMatch(t,n)}))},t.prototype.getMethodsForInstance=function(t){var e=this,n=this.repo.getServers().filter((function(n){return e.instanceMatch(t,n.instance)}));if(0===n.length)return[];var i={};return 1===n.length?i=n[0].methods:n.forEach((function(t){Object.keys(t.methods).forEach((function(e){var n=t.methods[e];i[n.identifier]=n}))})),Object.keys(i).map((function(t){return i[t]}))},t.prototype.getServers=function(t){var e=this,n=this.repo.getServers();return void 0===t?n.map((function(t){return{server:t,methods:[]}})):n.reduce((function(n,i){var r=e.repo.getServerMethodsById(i.id).filter((function(n){return e.methodMatch(t,n)}));return r.length>0&&n.push({server:i,methods:r}),n}),[])},t.prototype.getServerMethodsByFilterAndTarget=function(t,e){var n=this.getServers(t);return this.filterByTarget(e,n)},t}(),K_=function(){function t(t,e,n){this.protocol=t,this.repoMethod=e,this.subscription=n}return Object.defineProperty(t.prototype,"stream",{get:function(){if(!this.repoMethod.stream)throw new Error("no stream");return this.repoMethod.stream},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"arguments",{get:function(){return this.subscription.arguments||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"branchKey",{get:function(){return this.subscription.branchKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"instance",{get:function(){if(!this.subscription.instance)throw new Error("no instance");return this.subscription.instance},enumerable:!0,configurable:!0}),t.prototype.close=function(){this.protocol.server.closeSingleSubscription(this.repoMethod,this.subscription)},t.prototype.push=function(t){this.protocol.server.pushDataToSingle(this.repoMethod,this.subscription,t)},t}(),G_=function(){function t(t,e,n){this.protocol=t,this.repoMethod=e,this.requestContext=n,this.arguments=n.arguments,this.instance=n.instance}return t.prototype.accept=function(){this.protocol.server.acceptRequestOnBranch(this.requestContext,this.repoMethod,"")},t.prototype.acceptOnBranch=function(t){this.protocol.server.acceptRequestOnBranch(this.requestContext,this.repoMethod,t)},t.prototype.reject=function(t){this.protocol.server.rejectRequest(this.requestContext,this.repoMethod,t)},t}(),Y_=function(){function t(t,e){var n=this;this.protocol=t,this.server=e,t.server.onSubRequest((function(t,e){return n.handleSubRequest(t,e)})),t.server.onSubAdded((function(t,e){return n.handleSubAdded(t,e)})),t.server.onSubRemoved((function(t,e){return n.handleSubRemoved(t,e)}))}return t.prototype.handleSubRequest=function(t,e){if(e&&e.streamCallbacks&&"function"==typeof e.streamCallbacks.subscriptionRequestHandler){var n=new G_(this.protocol,e,t);e.streamCallbacks.subscriptionRequestHandler(n)}},t.prototype.handleSubAdded=function(t,e){if(e&&e.streamCallbacks&&"function"==typeof e.streamCallbacks.subscriptionAddedHandler){var n=new K_(this.protocol,e,t);e.streamCallbacks.subscriptionAddedHandler(n)}},t.prototype.handleSubRemoved=function(t,e){if(e&&e.streamCallbacks&&"function"==typeof e.streamCallbacks.subscriptionRemovedHandler){var n=new K_(this.protocol,e,t);e.streamCallbacks.subscriptionRemovedHandler(n)}},t}(),Z_=function(){function t(t,e,n){this.key=t,this.protocol=e,this.repoMethod=n}return t.prototype.subscriptions=function(){var t=this;return this.protocol.server.getSubscriptionList(this.repoMethod,this.key).map((function(e){return new K_(t.protocol,t.repoMethod,e)}))},t.prototype.close=function(){this.protocol.server.closeAllSubscriptions(this.repoMethod,this.key)},t.prototype.push=function(t){this.protocol.server.pushData(this.repoMethod,t,[this.key])},t}(),Q_=function(){function t(t,e,n){this._protocol=t,this._repoMethod=e,this._server=n,this.name=this._repoMethod.definition.name}return t.prototype.branches=function(t){var e=this,n=this._protocol.server.getBranchList(this._repoMethod);return t?n.indexOf(t)>-1?new Z_(t,this._protocol,this._repoMethod):void 0:n.map((function(t){return new Z_(t,e._protocol,e._repoMethod)}))},t.prototype.branch=function(t){return this.branches(t)},t.prototype.subscriptions=function(){var t=this;return this._protocol.server.getSubscriptionList(this._repoMethod).map((function(e){return new K_(t._protocol,t._repoMethod,e)}))},Object.defineProperty(t.prototype,"definition",{get:function(){var t=this._repoMethod.definition;return{accepts:t.accepts,description:t.description,displayName:t.displayName,name:t.name,objectTypes:t.objectTypes,returns:t.returns,supportsStreaming:t.supportsStreaming}},enumerable:!0,configurable:!0}),t.prototype.close=function(){this._protocol.server.closeAllSubscriptions(this._repoMethod),this._server.unregister(this._repoMethod.definition,!0)},t.prototype.push=function(t,e){if("string"!=typeof e&&!Array.isArray(e)&&void 0!==e)throw new Error("invalid branches should be string or string array");if("object"!=typeof t)throw new Error("Invalid arguments. Data must be an object.");this._protocol.server.pushData(this._repoMethod,t,e)},t.prototype.updateRepoMethod=function(t){this._repoMethod=t},t}(),X_=function(){function t(t,e){this.protocol=t,this.serverRepository=e,this.invocations=0,this.currentlyUnregistering={},this.streaming=new Y_(t,this),this.protocol.server.onInvoked(this.onMethodInvoked.bind(this))}return t.prototype.createStream=function(t,e,n,i,r){var s=this;return $_(new Promise((function(n,i){if(t){var o;if(!(o="string"==typeof t?{name:""+t}:$y({},t)).name)return i("The \u201cname\u201d property is required for the \u201cstreamDefinition\u201d object and must be unique. Stream definition: "+JSON.stringify(o));if(s.serverRepository.getList().some((function(t){return t.definition.name===o.name})))return i('A stream with the name "'+o.name+'" already exists! Please, provide a unique name for the stream.');o.supportsStreaming=!0,e||(e={}),"function"!=typeof e.subscriptionRequestHandler&&(e.subscriptionRequestHandler=function(t){t.accept()});var a=s.serverRepository.add({definition:o,streamCallbacks:e,protocolState:{}});s.protocol.server.createStream(a).then((function(){var t;r?(t=r,r.updateRepoMethod(a)):t=new Q_(s.protocol,a,s),a.stream=t,n(t)})).catch((function(t){a.repoId&&s.serverRepository.remove(a.repoId),i(t)}))}else i("The stream name must be unique! Please, provide either a unique string for a stream name to \u201cglue.interop.createStream()\u201d or a \u201cmethodDefinition\u201d object with a unique \u201cname\u201d property for the stream.")})),n,i)},t.prototype.register=function(t,e){var n=this;if(!t)return Promise.reject("Method definition is required. Please, provide either a unique string for a method name or a \u201cmethodDefinition\u201d object with a required \u201cname\u201d property.");if("function"!=typeof e)return Promise.reject("The second parameter must be a callback function. Method: "+("string"==typeof t?t:t.name));var i=function(t,i){return Wy(n,void 0,void 0,(function(){var n,r,s;return Uy(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),(n=e(t.args,t.instance))&&"function"==typeof n.then?[4,n]:[3,2];case 1:return r=o.sent(),i(void 0,r),[3,3];case 2:i(void 0,n),o.label=3;case 3:return[3,5];case 4:return(s=o.sent())||(s=""),i(s,s),[3,5];case 5:return[2]}}))}))};return i.userCallback=e,this.registerCore(t,i)},t.prototype.registerAsync=function(t,e){if(!t)return Promise.reject("Method definition is required. Please, provide either a unique string for a method name or a \u201cmethodDefinition\u201d object with a required \u201cname\u201d property.");if("function"!=typeof e)return Promise.reject("The second parameter must be a callback function. Method: "+("string"==typeof t?t:t.name));var n=function(t,n){try{var i=!1,r=function(t){i||n(void 0,t),i=!0},s=function(t){i||(t||(t=""),n(t,t)),i=!0},o=e(t.args,t.instance,r,s);o&&"function"==typeof o.then&&o.then(r).catch(s)}catch(a){n(a,void 0)}};return n.userCallbackAsync=e,this.registerCore(t,n)},t.prototype.unregister=function(t,e){return void 0===e&&(e=!1),Wy(this,void 0,void 0,(function(){var n,i;return Uy(this,(function(r){switch(r.label){case 0:return void 0===t?[2,Promise.reject("Please, provide either a unique string for a name or an object containing a \u201cname\u201d property.")]:"function"!=typeof t?[3,2]:[4,this.unregisterWithPredicate(t,e)];case 1:return r.sent(),[2];case 2:return void 0===(n="string"==typeof t?{name:t}:t).name?[2,Promise.reject("Method name is required. Cannot find a method if the method name is undefined!")]:(i=this.serverRepository.getList().find((function(t){return t.definition.name===n.name&&(t.definition.supportsStreaming||!1)===e})))?[4,this.removeMethodsOrStreams([i])]:[2,Promise.reject('Method with a name "'+n.name+'" does not exist or is not registered by your application!')];case 3:return r.sent(),[2]}}))}))},t.prototype.unregisterWithPredicate=function(t,e){return Wy(this,void 0,void 0,(function(){var n;return Uy(this,(function(i){switch(i.label){case 0:return(n=this.serverRepository.getList().filter((function(e){return t(e.definition)})).filter((function(t){return(t.definition.supportsStreaming||!1)===e})))&&0!==n.length?[4,this.removeMethodsOrStreams(n)]:[2,Promise.reject("Could not find a "+(e?"stream":"method")+" matching the specified condition!")];case 1:return i.sent(),[2]}}))}))},t.prototype.removeMethodsOrStreams=function(t){var e=this,n=[];return t.forEach((function(t){var i=e.protocol.server.unregister(t).then((function(){t.repoId&&e.serverRepository.remove(t.repoId)}));n.push(i),e.addAsCurrentlyUnregistering(t.definition.name,i)})),Promise.all(n)},t.prototype.addAsCurrentlyUnregistering=function(t,e){return Wy(this,void 0,void 0,(function(){var n,i=this;return Uy(this,(function(r){return n=new Promise((function(t){return setTimeout(t,5e3)})),this.currentlyUnregistering[t]=Promise.race([e,n]).then((function(){delete i.currentlyUnregistering[t]})),[2]}))}))},t.prototype.registerCore=function(t,e){return Wy(this,void 0,void 0,(function(){var n,i,r,s=this;return Uy(this,(function(o){switch(o.label){case 0:return(n="string"==typeof t?{name:""+t}:$y({},t)).name?(i=this.currentlyUnregistering[n.name])?[4,i]:[3,2]:[2,Promise.reject("Please, provide a (unique) string value for the \u201cname\u201d property in the \u201cmethodDefinition\u201d object: "+JSON.stringify(t))];case 1:o.sent(),o.label=2;case 2:return this.serverRepository.getList().some((function(t){return t.definition.name===n.name}))?[2,Promise.reject('A method with the name "'+n.name+'" already exists! Please, provide a unique name for the method.')]:n.supportsStreaming?[2,Promise.reject("When you create methods with \u201cglue.interop.register()\u201d or \u201cglue.interop.registerAsync()\u201d the property \u201csupportsStreaming\u201d cannot be \u201ctrue\u201d. If you want \u201c"+n.name+"\u201d to be a stream, please use the \u201cglue.interop.createStream()\u201d method.")]:(r=this.serverRepository.add({definition:n,theFunction:e,protocolState:{}}),[2,this.protocol.server.register(r).catch((function(t){throw(null==r?void 0:r.repoId)&&s.serverRepository.remove(r.repoId),t}))])}}))}))},t.prototype.onMethodInvoked=function(t,e,n){var i=this;t&&t.theFunction&&t.theFunction(n,(function(n,r){if(null!=n)if(n.message&&"string"==typeof n.message)n=n.message;else if("string"!=typeof n)try{n=JSON.stringify(n)}catch(s){n="un-stringifyable error in onMethodInvoked! Top level prop names: "+Object.keys(n)}r?("object"!=typeof r||Array.isArray(r))&&(r={_value:r}):r={},i.protocol.server.methodInvocationResult(t,e,n,r)}))},t}(),J_=function(){function t(t,e){var n=this;this.wrapped={getMethods:tv,getStreams:ev},t&&this.refreshWrappedObject(t),e&&(e.loggedIn((function(){n.refresh(e)})),this.refresh(e))}return t.prototype.unwrap=function(){return this.wrapped},t.prototype.refresh=function(t){if(t){var e=null==t?void 0:t.resolvedIdentity,n=Object.assign({},null!=e?e:{},{peerId:null==t?void 0:t.peerId});this.refreshWrappedObject(n)}},t.prototype.refreshWrappedObject=function(t){var e,n,i;this.wrapped.user=t.user,this.wrapped.instance=t.instance,this.wrapped.application=null!==(e=t.application)&&void 0!==e?e:I_(),this.wrapped.applicationName=t.applicationName,this.wrapped.pid=null!==(i=null!==(n=t.pid)&&void 0!==n?n:t.process)&&void 0!==i?i:Math.floor(1e10*Math.random()),this.wrapped.machine=t.machine,this.wrapped.environment=t.environment,this.wrapped.region=t.region,this.wrapped.windowId=t.windowId,this.wrapped.isLocal=!0,this.wrapped.api=t.api,this.wrapped.service=t.service,this.wrapped.peerId=t.peerId},t}();function tv(){var t;return null===(t=J_.API)||void 0===t?void 0:t.methodsForInstance(this)}function ev(){var t;return null===(t=J_.API)||void 0===t?void 0:t.methodsForInstance(this).filter((function(t){return t.supportsStreaming}))}var nv=function(){function t(t){this.logger=t,this.servers={},this.methodsCount={},this.callbacks=l_()}return t.prototype.addServer=function(t,e){this.logger.debug("adding server "+e);var n=this.servers[e];if(n)return n.id;var i=new J_(t),r={id:e,methods:{},instance:i.unwrap(),wrapper:i};return this.servers[e]=r,this.callbacks.execute("onServerAdded",r.instance),e},t.prototype.removeServerById=function(t,e){var n=this,i=this.servers[t];i?(this.logger.debug("removing server "+t),Object.keys(i.methods).forEach((function(e){n.removeServerMethod(t,e)})),delete this.servers[t],this.callbacks.execute("onServerRemoved",i.instance,e)):this.logger.warn("not aware of server "+t+", my state "+JSON.stringify(Object.keys(this.servers)))},t.prototype.addServerMethod=function(t,e){var n=this.servers[t];if(!n)throw new Error("server does not exists");if(!n.methods[e.id]){var i=this.createMethodIdentifier(e),r=this,s={identifier:i,gatewayId:e.id,name:e.name,displayName:e.display_name,description:e.description,version:e.version,objectTypes:e.object_types||[],accepts:e.input_signature,returns:e.result_signature,supportsStreaming:void 0!==e.flags&&e.flags.streaming,getServers:function(){return r.getServersByMethod(i)}};return s.object_types=s.objectTypes,s.display_name=s.displayName,s.version=s.version,n.methods[e.id]=s,this.methodsCount[i]||(this.methodsCount[i]=0,this.callbacks.execute("onMethodAdded",s)),this.methodsCount[i]=this.methodsCount[i]+1,this.callbacks.execute("onServerMethodAdded",n.instance,s),s}},t.prototype.removeServerMethod=function(t,e){var n=this.servers[t];if(!n)throw new Error("server does not exists");var i=n.methods[e];delete n.methods[e],this.methodsCount[i.identifier]=this.methodsCount[i.identifier]-1,0===this.methodsCount[i.identifier]&&this.callbacks.execute("onMethodRemoved",i),this.callbacks.execute("onServerMethodRemoved",n.instance,i)},t.prototype.getMethods=function(){var t=this,e={};return Object.keys(this.servers).forEach((function(n){var i=t.servers[n];Object.keys(i.methods).forEach((function(t){var n=i.methods[t];e[n.identifier]=n}))})),Object.keys(e).map((function(t){return e[t]}))},t.prototype.getServers=function(){var t=this,e=[];return Object.keys(this.servers).forEach((function(n){e.push(t.servers[n])})),e},t.prototype.getServerMethodsById=function(t){var e=this.servers[t];return Object.keys(e.methods).map((function(t){return e.methods[t]}))},t.prototype.onServerAdded=function(t){var e=this.callbacks.add("onServerAdded",t),n=this.getServers().map((function(t){return t.instance}));return this.returnUnsubWithDelayedReplay(e,n,t)},t.prototype.onMethodAdded=function(t){var e=this.callbacks.add("onMethodAdded",t),n=this.getMethods();return this.returnUnsubWithDelayedReplay(e,n,t)},t.prototype.onServerMethodAdded=function(t){var e=this.callbacks.add("onServerMethodAdded",t),n=!1,i=this.getServers();return setTimeout((function(){i.forEach((function(e){var i=e.methods;Object.keys(i).forEach((function(r){n||t(e.instance,i[r])}))}))}),0),function(){n=!0,e()}},t.prototype.onMethodRemoved=function(t){return this.callbacks.add("onMethodRemoved",t)},t.prototype.onServerRemoved=function(t){return this.callbacks.add("onServerRemoved",t)},t.prototype.onServerMethodRemoved=function(t){return this.callbacks.add("onServerMethodRemoved",t)},t.prototype.getServerById=function(t){return this.servers[t]},t.prototype.reset=function(){var t=this;Object.keys(this.servers).forEach((function(e){t.removeServerById(e,"reset")})),this.servers={},this.methodsCount={}},t.prototype.createMethodIdentifier=function(t){return(t.name+(void 0!==t.input_signature?t.input_signature:"")+(void 0!==t.result_signature?t.result_signature:"")).toLowerCase()},t.prototype.getServersByMethod=function(t){var e=this,n=[];return Object.keys(this.servers).forEach((function(i){var r=e.servers[i];Object.keys(r.methods).forEach((function(e){r.methods[e].identifier===t&&n.push(r.instance)}))})),n},t.prototype.returnUnsubWithDelayedReplay=function(t,e,n){var i=!1;return setTimeout((function(){e.forEach((function(t){i||n(t)}))}),0),function(){i=!0,t()}},t}(),iv=function(){function t(){this.nextId=0,this.methods=[]}return t.prototype.add=function(t){return t.repoId=String(this.nextId),this.nextId+=1,this.methods.push(t),t},t.prototype.remove=function(t){if("string"!=typeof t)return new TypeError("Expecting a string");this.methods=this.methods.filter((function(e){return e.repoId!==t}))},t.prototype.getById=function(t){if("string"==typeof t)return this.methods.find((function(e){return e.repoId===t}))},t.prototype.getList=function(){return this.methods.map((function(t){return t}))},t.prototype.length=function(){return this.methods.length},t.prototype.reset=function(){this.methods=[]},t}(),rv=function(){function t(t,e,n){var i=this;this.session=t,this.repository=e,this.serverRepository=n,this.ERR_URI_SUBSCRIPTION_FAILED="com.tick42.agm.errors.subscription.failure",this.callbacks=l_(),this.nextStreamId=0,t.on("add-interest",(function(t){i.handleAddInterest(t)})),t.on("remove-interest",(function(t){i.handleRemoveInterest(t)}))}return t.prototype.acceptRequestOnBranch=function(t,e,n){if("string"!=typeof n&&(n=""),"object"!=typeof e.protocolState.subscriptionsMap)throw new TypeError("The streaming method is missing its subscriptions.");if(!Array.isArray(e.protocolState.branchKeyToStreamIdMap))throw new TypeError("The streaming method is missing its branches.");var i=this.getStreamId(e,n),r=t.msg.subscription_id,s={id:r,arguments:t.arguments,instance:t.instance,branchKey:n,streamId:i,subscribeMsg:t.msg};e.protocolState.subscriptionsMap[r]=s,this.session.sendFireAndForget({type:"accepted",subscription_id:r,stream_id:i}),this.callbacks.execute("onSubscriptionAdded",s,e)},t.prototype.rejectRequest=function(t,e,n){"string"!=typeof n&&(n=""),this.sendSubscriptionFailed("Subscription rejected by user. "+n,t.msg.subscription_id)},t.prototype.pushData=function(t,e,n){var i=this;if("object"==typeof t&&Array.isArray(t.protocolState.branchKeyToStreamIdMap)){if("object"!=typeof e)throw new Error("Invalid arguments. Data must be an object.");"string"==typeof n?n=[n]:(!Array.isArray(n)||n.length<=0)&&(n=[]),t.protocolState.branchKeyToStreamIdMap.filter((function(t){return!n||0===n.length||n.indexOf(t.key)>=0})).map((function(t){return t.streamId})).forEach((function(t){i.session.sendFireAndForget({type:"publish",stream_id:t,data:e})}))}},t.prototype.pushDataToSingle=function(t,e,n){if("object"!=typeof n)throw new Error("Invalid arguments. Data must be an object.");this.session.sendFireAndForget({type:"post",subscription_id:e.id,data:n})},t.prototype.closeSingleSubscription=function(t,e){t.protocolState.subscriptionsMap&&delete t.protocolState.subscriptionsMap[e.id],this.session.sendFireAndForget({type:"drop-subscription",subscription_id:e.id,reason:"Server dropping a single subscription"}),this.callbacks.execute("onSubscriptionRemoved",e,t)},t.prototype.closeMultipleSubscriptions=function(t,e){var n=this;if("object"==typeof t&&"object"==typeof t.protocolState.subscriptionsMap&&t.protocolState.subscriptionsMap){var i=t.protocolState.subscriptionsMap,r=Object.keys(i).map((function(t){return i[t]}));"string"==typeof e&&(r=r.filter((function(t){return t.branchKey===e}))),r.forEach((function(t){delete i[t.id],n.session.sendFireAndForget({type:"drop-subscription",subscription_id:t.id,reason:"Server dropping all subscriptions on stream_id: "+t.streamId})}))}},t.prototype.getSubscriptionList=function(t,e){if("object"!=typeof t)return[];if(!t.protocolState.subscriptionsMap)return[];var n=t.protocolState.subscriptionsMap,i=Object.keys(n).map((function(t){return n[t]}));return"string"!=typeof e?i:i.filter((function(t){return t.branchKey===e}))},t.prototype.getBranchList=function(t){if("object"!=typeof t)return[];if(!t.protocolState.subscriptionsMap)return[];var e=t.protocolState.subscriptionsMap,n=Object.keys(e).map((function(t){return e[t]})),i=[];return n.forEach((function(t){var e="";"object"==typeof t&&"string"==typeof t.branchKey&&(e=t.branchKey),-1===i.indexOf(e)&&i.push(e)})),i},t.prototype.onSubAdded=function(t){this.onSubscriptionLifetimeEvent("onSubscriptionAdded",t)},t.prototype.onSubRequest=function(t){this.onSubscriptionLifetimeEvent("onSubscriptionRequest",t)},t.prototype.onSubRemoved=function(t){this.onSubscriptionLifetimeEvent("onSubscriptionRemoved",t)},t.prototype.handleRemoveInterest=function(t){var e=this.serverRepository.getById(t.method_id);if("string"==typeof t.subscription_id&&"object"==typeof e&&e.protocolState.subscriptionsMap&&"object"==typeof e.protocolState.subscriptionsMap[t.subscription_id]){var n=e.protocolState.subscriptionsMap[t.subscription_id];delete e.protocolState.subscriptionsMap[t.subscription_id],this.callbacks.execute("onSubscriptionRemoved",n,e)}},t.prototype.onSubscriptionLifetimeEvent=function(t,e){this.callbacks.add(t,e)},t.prototype.getNextStreamId=function(){return this.nextStreamId+++""},t.prototype.handleAddInterest=function(t){var e=this.repository.getServerById(t.caller_id),n={msg:t,arguments:t.arguments_kv||{},instance:e.instance},i=this.serverRepository.getById(t.method_id);void 0!==i?i.protocolState.subscriptionsMap&&i.protocolState.subscriptionsMap[t.subscription_id]?this.sendSubscriptionFailed("A subscription with id "+t.subscription_id+" already exists.",t.subscription_id):this.callbacks.execute("onSubscriptionRequest",n,i):this.sendSubscriptionFailed("No method with id "+t.method_id+" on this server.",t.subscription_id)},t.prototype.sendSubscriptionFailed=function(t,e){this.session.sendFireAndForget({type:"error",reason_uri:this.ERR_URI_SUBSCRIPTION_FAILED,reason:t,request_id:e})},t.prototype.getStreamId=function(t,e){if("string"!=typeof e&&(e=""),!t.protocolState.branchKeyToStreamIdMap)throw new Error("streaming "+t.definition.name+" method without protocol state");var n=t.protocolState.branchKeyToStreamIdMap.filter((function(t){return t.key===e}))[0],i=n?n.streamId:void 0;return"string"==typeof i&&""!==i||(i=this.getNextStreamId(),t.protocolState.branchKeyToStreamIdMap.push({key:e,streamId:i})),i},t}(),sv=function(){function t(t,e,n,i){var r=this;this.session=t,this.clientRepository=e,this.serverRepository=n,this.logger=i,this.callbacks=l_(),this.streaming=new rv(t,e,n),this.session.on("invoke",(function(t){return r.handleInvokeMessage(t)}))}return t.prototype.createStream=function(t){return t.protocolState.subscriptionsMap={},t.protocolState.branchKeyToStreamIdMap=[],this.register(t,!0)},t.prototype.register=function(t,e){var n=this,i=t.definition;return this.session.send({type:"register",methods:[{id:t.repoId,name:i.name,display_name:i.displayName,description:i.description,version:i.version,flags:{streaming:e||!1},object_types:i.objectTypes||i.object_types,input_signature:i.accepts,result_signature:i.returns,restrictions:void 0}]},{methodId:t.repoId}).then((function(){n.logger.debug("registered method "+t.definition.name+" with id "+t.repoId)})).catch((function(e){throw n.logger.warn("failed to register method "+t.definition.name+" with id "+t.repoId+" - "+JSON.stringify(e)),e}))},t.prototype.onInvoked=function(t){this.callbacks.add("onInvoked",t)},t.prototype.methodInvocationResult=function(t,e,n,i){this.session.sendFireAndForget(n||""===n?{type:"error",request_id:e,reason_uri:"agm.errors.client_error",reason:n,context:i,peer_id:void 0}:{type:"yield",invocation_id:e,peer_id:this.session.peerId,result:i,request_id:void 0})},t.prototype.unregister=function(t){return Wy(this,void 0,void 0,(function(){return Uy(this,(function(e){switch(e.label){case 0:return[4,this.session.send({type:"unregister",methods:[t.repoId]})];case 1:return e.sent(),[2]}}))}))},t.prototype.getBranchList=function(t){return this.streaming.getBranchList(t)},t.prototype.getSubscriptionList=function(t,e){return this.streaming.getSubscriptionList(t,e)},t.prototype.closeAllSubscriptions=function(t,e){this.streaming.closeMultipleSubscriptions(t,e)},t.prototype.pushData=function(t,e,n){this.streaming.pushData(t,e,n)},t.prototype.pushDataToSingle=function(t,e,n){this.streaming.pushDataToSingle(t,e,n)},t.prototype.closeSingleSubscription=function(t,e){this.streaming.closeSingleSubscription(t,e)},t.prototype.acceptRequestOnBranch=function(t,e,n){this.streaming.acceptRequestOnBranch(t,e,n)},t.prototype.rejectRequest=function(t,e,n){this.streaming.rejectRequest(t,e,n)},t.prototype.onSubRequest=function(t){this.streaming.onSubRequest(t)},t.prototype.onSubAdded=function(t){this.streaming.onSubAdded(t)},t.prototype.onSubRemoved=function(t){this.streaming.onSubRemoved(t)},t.prototype.handleInvokeMessage=function(t){var e=t.invocation_id,n=t.caller_id,i=t.method_id,r=t.arguments_kv,s=this.serverRepository.getList().filter((function(t){return t.repoId===i}))[0];if(void 0!==s){var o=this.clientRepository.getServerById(n).instance;this.callbacks.execute("onInvoked",s,e,{args:r,instance:o})}},t}(),ov=function(){function t(t,e){this.repository=t,this.subscriptionData=e}return Object.defineProperty(t.prototype,"requestArguments",{get:function(){return this.subscriptionData.params.arguments||{}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){var t=this;return this.subscriptionData.trackedServers.filter((function(t){return t.subscriptionId})).map((function(e){return t.repository.getServerById(e.serverId).instance}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverInstance",{get:function(){return this.servers[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stream",{get:function(){return this.subscriptionData.method},enumerable:!0,configurable:!0}),t.prototype.onData=function(t){if("function"!=typeof t)throw new TypeError("The data callback must be a function.");this.subscriptionData.handlers.onData.push(t),1===this.subscriptionData.handlers.onData.length&&this.subscriptionData.queued.data.length>0&&this.subscriptionData.queued.data.forEach((function(e){t(e)}))},t.prototype.onClosed=function(t){if("function"!=typeof t)throw new TypeError("The callback must be a function.");this.subscriptionData.handlers.onClosed.push(t)},t.prototype.onFailed=function(t){},t.prototype.onConnected=function(t){if("function"!=typeof t)throw new TypeError("The callback must be a function.");this.subscriptionData.handlers.onConnected.push(t)},t.prototype.close=function(){this.subscriptionData.close()},t.prototype.setNewSubscription=function(t){this.subscriptionData=t},t}(),av=function(){function t(t,e,n){var i=this;this.session=t,this.repository=e,this.logger=n,this.subscriptionsList={},this.subscriptionIdToLocalKeyMap={},this.nextSubLocalKey=0,this.handleErrorSubscribing=function(t){var e=t._tag,n=e.subLocalKey,r=i.subscriptionsList[n];if("object"==typeof r&&(r.trackedServers=r.trackedServers.filter((function(t){return t.serverId!==e.serverId})),r.trackedServers.length<=0)){if(clearTimeout(r.timeoutId),"awaitingAccept"===r.status){var s="string"==typeof t.reason&&""!==t.reason?' Publisher said "'+t.reason+'".':" No reason given.",o="object"==typeof r.params.arguments?JSON.stringify(r.params.arguments):"{}";r.error({message:"Subscription rejected."+s+" Called with:"+o,called_with:r.params.arguments,method:r.method})}else"subscribed"===r.status&&i.callOnClosedHandlers(r);delete i.subscriptionsList[n]}},this.handleSubscribed=function(t){var e=t._tag.subLocalKey,n=i.subscriptionsList[e];if("object"==typeof n){var r=t._tag.serverId,s=n.trackedServers.filter((function(t){return t.serverId===r}))[0];if("object"==typeof s){s.subscriptionId=t.subscription_id,i.subscriptionIdToLocalKeyMap[t.subscription_id]=e;var o="awaitingAccept"===n.status;if(n.status="subscribed",o){var a=!1,l=n.subscription;l?(l.setNewSubscription(n),n.success(l),a=!0):(l=new ov(i.repository,n),n.subscription=l,n.success(l));for(var c=0,u=n.handlers.onConnected;c<u.length;c++){var h=u[c];try{h(l.serverInstance,a)}catch(d){}}}}}},this.handleEventData=function(t){var e=i.subscriptionIdToLocalKeyMap[t.subscription_id];if(void 0!==e){var n=i.subscriptionsList[e];if("object"==typeof n){var r=n.trackedServers.filter((function(e){return e.subscriptionId===t.subscription_id}));if(1===r.length){var s=t.oob,o=r[0].serverId,a=function(){return{data:t.data,server:i.repository.getServerById(o).instance,requestArguments:n.params.arguments,message:void 0,private:s}},l=n.handlers.onData,c=n.queued.data;l.length>0?l.forEach((function(t){"function"==typeof t&&t(a())})):c.push(a())}}}},this.handleSubscriptionCancelled=function(t){var e=i.subscriptionIdToLocalKeyMap[t.subscription_id];if(void 0!==e){var n=i.subscriptionsList[e];if("object"==typeof n){var r=n.trackedServers.length-1;n.trackedServers=n.trackedServers.filter((function(e){return e.subscriptionId!==t.subscription_id||(n.queued.closers.push(e.serverId),!1)})),n.trackedServers.length===r&&(n.trackedServers.length<=0&&(clearTimeout(n.timeoutId),i.callOnClosedHandlers(n),delete i.subscriptionsList[e]),delete i.subscriptionIdToLocalKeyMap[t.subscription_id])}}},t.on("subscribed",this.handleSubscribed),t.on("event",this.handleEventData),t.on("subscription-cancelled",this.handleSubscriptionCancelled)}return t.prototype.subscribe=function(t,e,n,i,r,s){var o=this;if(0!==n.length){var a=this.getNextSubscriptionLocalKey(),l=this.registerSubscription(a,t,e,i,r,e.methodResponseTimeout||1e4,s);"object"==typeof l?n.forEach((function(n){var i=n.server.id,r=n.methods.find((function(e){return e.name===t.name}));r?(l.trackedServers.push({serverId:i,subscriptionId:void 0}),o.session.send({type:"subscribe",server_id:i,method_id:r.gatewayId,arguments_kv:e.arguments},{serverId:i,subLocalKey:a}).then((function(t){return o.handleSubscribed(t)})).catch((function(t){return o.handleErrorSubscribing(t)}))):o.logger.error("can not find method "+t.name+" for target "+n.server.id)})):r({method:t,called_with:e.arguments,message:"Subscription failed. Unable to register the user callbacks."})}else r({method:t,called_with:e.arguments,message:"Subscription failed. No available servers matched the target params."})},t.prototype.drainSubscriptions=function(){var t=Object.values(this.subscriptionsList);return this.subscriptionsList={},this.subscriptionIdToLocalKeyMap={},t},t.prototype.getNextSubscriptionLocalKey=function(){var t=this.nextSubLocalKey;return this.nextSubLocalKey+=1,t},t.prototype.registerSubscription=function(t,e,n,i,r,s,o){var a=this,l={localKey:t,status:"awaitingAccept",method:e,params:n,success:i,error:r,trackedServers:[],handlers:{onData:(null==o?void 0:o.handlers.onData)||[],onClosed:(null==o?void 0:o.handlers.onClosed)||[],onConnected:(null==o?void 0:o.handlers.onConnected)||[]},queued:{data:[],closers:[]},timeoutId:void 0,close:function(){return a.closeSubscription(t)},subscription:null==o?void 0:o.subscription};return o||(n.onData&&l.handlers.onData.push(n.onData),n.onClosed&&l.handlers.onClosed.push(n.onClosed),n.onConnected&&l.handlers.onConnected.push(n.onConnected)),this.subscriptionsList[t]=l,l.timeoutId=setTimeout((function(){if(void 0!==a.subscriptionsList[t]){var i=a.subscriptionsList[t];"awaitingAccept"===i.status?(r({method:e,called_with:n.arguments,message:"Subscription failed. Subscription attempt timed out after "+s+" ms."}),delete a.subscriptionsList[t]):"subscribed"===i.status&&i.trackedServers.length>0&&(i.trackedServers=i.trackedServers.filter((function(t){return void 0!==t.subscriptionId})),delete i.timeoutId,i.trackedServers.length<=0&&(a.callOnClosedHandlers(i),delete a.subscriptionsList[t]))}}),s),l},t.prototype.callOnClosedHandlers=function(t,e){var n,i=t.queued.closers.length,r=i>0?t.queued.closers[i-1]:null;void 0!==r&&"string"==typeof r&&(n=this.repository.getServerById(r).instance),t.handlers.onClosed.forEach((function(i){"function"==typeof i&&i({message:e||"ServerInitiated",requestArguments:t.params.arguments||{},server:n,stream:t.method})}))},t.prototype.closeSubscription=function(t){var e=this,n=this.subscriptionsList[t];"object"==typeof n&&(n.trackedServers.forEach((function(t){void 0!==t.subscriptionId&&(n.queued.closers.push(t.serverId),e.session.sendFireAndForget({type:"unsubscribe",subscription_id:t.subscriptionId,reason_uri:"",reason:"ClientInitiated"}),delete e.subscriptionIdToLocalKeyMap[t.subscriptionId])})),n.trackedServers=[],this.callOnClosedHandlers(n,"ClientInitiated"),delete this.subscriptionsList[t])},t}(),lv=function(){function t(t,e,n){var i=this;this.session=t,this.repository=e,this.logger=n,t.on("peer-added",(function(t){return i.handlePeerAdded(t)})),t.on("peer-removed",(function(t){return i.handlePeerRemoved(t)})),t.on("methods-added",(function(t){return i.handleMethodsAddedMessage(t)})),t.on("methods-removed",(function(t){return i.handleMethodsRemovedMessage(t)})),this.streaming=new av(t,e,n)}return t.prototype.subscribe=function(t,e,n,i,r,s){this.streaming.subscribe(t,e,n,i,r,s)},t.prototype.invoke=function(t,e,n,i){var r=this,s=i.id;return this.session.send({type:"call",server_id:s,method_id:e.gatewayId,arguments_kv:n},{invocationId:t,serverId:s}).then((function(t){return r.handleResultMessage(t)})).catch((function(t){return r.handleInvocationError(t)}))},t.prototype.drainSubscriptions=function(){return this.streaming.drainSubscriptions()},t.prototype.handlePeerAdded=function(t){var e=t.new_peer_id,n=t.identity,i=!t.meta||t.meta.local,r=Number(n.process),s={machine:n.machine,pid:isNaN(r)?n.process:r,instance:n.instance,application:n.application,applicationName:n.applicationName,environment:n.environment,region:n.region,user:n.user,windowId:n.windowId,peerId:e,api:n.api,isLocal:i};this.repository.addServer(s,e)},t.prototype.handlePeerRemoved=function(t){this.repository.removeServerById(t.removed_id,t.reason)},t.prototype.handleMethodsAddedMessage=function(t){var e=this,n=t.server_id;t.methods.forEach((function(t){e.repository.addServerMethod(n,t)}))},t.prototype.handleMethodsRemovedMessage=function(t){var e=this,n=t.server_id,i=t.methods,r=this.repository.getServerById(n);Object.keys(r.methods).forEach((function(t){i.indexOf(r.methods[t].gatewayId)>-1&&e.repository.removeServerMethod(n,t)}))},t.prototype.handleResultMessage=function(t){return{invocationId:t._tag.invocationId,result:t.result,instance:this.repository.getServerById(t._tag.serverId).instance,status:H_.Success,message:""}},t.prototype.handleInvocationError=function(t){if(this.logger.debug("handle invocation error "+JSON.stringify(t)),"_tag"in t){var e=t._tag.invocationId,n=this.repository.getServerById(t._tag.serverId);return{invocationId:e,result:t.context,instance:n.instance,status:H_.Error,message:t.reason}}return{invocationId:"",message:t.message,status:H_.Error,error:t}},t}(),cv=function(){function t(t){var e=this;if(void 0===t)throw new Error("configuration is required");if(void 0===t.connection)throw new Error("configuration.connections is required");var n,i=t.connection;if("number"!=typeof t.methodResponseTimeout&&(t.methodResponseTimeout=3e4),"number"!=typeof t.waitTimeoutMs&&(t.waitTimeoutMs=3e4),J_.API=this,this.instance=new J_(void 0,i).unwrap(),this.clientRepository=new nv(t.logger.subLogger("cRep")),this.serverRepository=new iv,3!==i.protocolVersion)throw new Error("protocol "+i.protocolVersion+" not supported");n=function(t,e,n,i,r,s){var o,a=r.logger.subLogger("gw3-protocol"),l=new Promise((function(t){o=t})),c=e.domain("agm",["subscribed"]),u=new sv(c,n,i,a.subLogger("server")),h=new lv(c,n,a.subLogger("client"));return c.onJoined((function(r){n.addServer(t,e.peerId),r?function(){a.info("reconnected - will replay registered methods and subscriptions");for(var t=0,e=h.drainSubscriptions();t<e.length;t++){var n=e[t],r=n.method,o=Object.assign({},n.params);a.info("trying to re-subscribe to method "+r.name),s.client.subscribe(r,o,void 0,void 0,n)}var l=i.getList();i.reset();for(var c=0,u=l;c<u.length;c++){var d=u[c],p=d.definition;a.info("re-publishing method "+p.name),d.stream?s.server.createStream(p,d.streamCallbacks,void 0,void 0,d.stream):d.theFunction&&d.theFunction.userCallback?s.register(p,d.theFunction.userCallback):d.theFunction&&d.theFunction.userCallbackAsync&&s.registerAsync(p,d.theFunction.userCallbackAsync)}}():o&&(o({client:h,server:u}),o=void 0)})),c.onLeft((function(){n.reset()})),c.join(),l}(this.instance,i,this.clientRepository,this.serverRepository,t,this),this.readyPromise=n.then((function(n){return e.protocol=n,e.client=new U_(e.protocol,e.clientRepository,e.instance,t),e.server=new X_(e.protocol,e.serverRepository),e}))}return t.prototype.ready=function(){return this.readyPromise},t.prototype.serverRemoved=function(t){return this.client.serverRemoved(t)},t.prototype.serverAdded=function(t){return this.client.serverAdded(t)},t.prototype.serverMethodRemoved=function(t){return this.client.serverMethodRemoved(t)},t.prototype.serverMethodAdded=function(t){return this.client.serverMethodAdded(t)},t.prototype.methodRemoved=function(t){return this.client.methodRemoved(t)},t.prototype.methodAdded=function(t){return this.client.methodAdded(t)},t.prototype.methodsForInstance=function(t){return this.client.methodsForInstance(t)},t.prototype.methods=function(t){return this.client.methods(t)},t.prototype.servers=function(t){return this.client.servers(t)},t.prototype.subscribe=function(t,e,n,i){return this.client.subscribe(t,e,n,i)},t.prototype.createStream=function(t,e,n,i){return this.server.createStream(t,e,n,i)},t.prototype.unregister=function(t){return this.server.unregister(t)},t.prototype.registerAsync=function(t,e){return this.server.registerAsync(t,e)},t.prototype.register=function(t,e){return this.server.register(t,e)},t.prototype.invoke=function(t,e,n,i,r,s){return this.client.invoke(t,e,n,i,r,s)},t}(),uv=["subscribed","success"],hv=function(){function t(t,e){var n=this;this.publish=function(t,e,i){var r=i||{},s=n.removeEmptyValues({type:"publish",topic:t,data:e,peer_id:n.peerId,routing_key:r.routingKey,target_identity:r.target});n.session.send(s)},this.subscribe=function(t,e,i){return new Promise((function(r,s){var o=i||{},a=o.target,l=n.removeEmptyValues({type:"subscribe",topic:t,peer_id:n.peerId,routing_key:o.routingKey,source:a});n.session.send(l).then((function(i){var s=i.subscription_id;n.subscriptions.push({subscription_id:s,topic:t,callback:e,source:a}),r({unsubscribe:function(){return n.session.send({type:"unsubscribe",subscription_id:s,peer_id:n.peerId}),n.subscriptions=n.subscriptions.filter((function(t){return t.subscription_id!==s})),Promise.resolve()}})})).catch((function(t){return s(t)}))}))},this.watchOnEvent=function(){n.session.on("event",(function(t){var e=t.data,i=t.subscription_id,r=t["publisher-identity"],s=n.subscriptions.find((function(t){return t.subscription_id===i}));s&&(s.source?n.keysMatch(s.source,r)&&s.callback(e,s.topic,r):s.callback(e,s.topic,r))}))},this.connection=t,this.logger=e,this.peerId=t.peerId,this.subscriptions=[],this.session=t.domain("bus",uv),this.readyPromise=this.session.join(),this.readyPromise.then((function(){n.watchOnEvent()}))}return t.prototype.ready=function(){return this.readyPromise},t.prototype.removeEmptyValues=function(t){var e={};return Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])})),e},t.prototype.keysMatch=function(t,e){var n=Object.keys(t),i=!0;return n.forEach((function(n){t[n]!==e[n]&&(i=!1)})),i},t}(),dv=function(t,e){var n,i=h_.getGDMajorVersion(),r=Promise.resolve();if(i){if(i<3)throw new Error("GD v2 is not supported. Use v4 of the API to run in that context.");i>=3&&(n=window.glue42gd,r=window.gdPreloadPromise||r)}var s,o,a,l,c,u,h=N_(),d=function(t,e,n){var i,r,s,o,a;if(h_.isNode()){var l=process.env._GD_STARTING_CONTEXT_;if(l)try{a=JSON.parse(l)}catch(u){}}var c=function(){var i,r,s,o,l,c,u,h,d,p=t.gateway,f=null!==(i=null==p?void 0:p.protocolVersion)&&void 0!==i?i:3,m=null==p?void 0:p.reconnectInterval,g=null==p?void 0:p.reconnectAttempts,y=null==p?void 0:p.ws,_=null==p?void 0:p.sharedWorker,v=null==p?void 0:p.inproc;n&&(y=n.gwURL),h_.isNode()&&a&&a.gwURL&&(y=a.gwURL),y||_||v||(y="ws://localhost:8385");var b=function(){if(t.application)return t.application;if(n)return n.applicationName;var e=I_();return h_.isNode()?a?a.applicationConfig.name:"NodeJS"+e:"undefined"!=typeof window&&"undefined"!=typeof document?document.title+" ("+e+")":e}(),w=b;void 0!==n?(c=n.windowId,u=n.pid,n.env&&(h=n.env.env,d=n.env.region),w=null!==(r=n.application)&&void 0!==r?r:"glue-app",l=n.appInstanceId):h_.isNode()?(u=process.pid,a&&(h=a.env,d=a.region,l=a.instanceId)):c=window.name||I_();var C=null!==(o=null===(s=t.gateway)||void 0===s?void 0:s.replaySpecs)&&void 0!==o?o:[];return C.push(M_),{identity:{application:w,applicationName:b,windowId:c,instance:l,process:u,region:d,environment:h,api:e.version||"5.0.6"},reconnectInterval:m,ws:y,sharedWorker:_,inproc:v,protocolVersion:f,reconnectAttempts:g,replaySpecs:C}}();return{bus:null!==(i=t.bus)&&void 0!==i&&i,auth:function(){var e,n;return"string"==typeof t.auth?{token:t.auth}:t.auth?t.auth:h_.isNode()&&a&&a.gwToken?{gatewayToken:a.gwToken}:(null===(e=t.gateway)||void 0===e?void 0:e.inproc)||(null===(n=t.gateway)||void 0===n?void 0:n.sharedWorker)?{username:"glue42",password:"glue42"}:void 0}(),logger:function(){var e,n,i=t.logger;return i||(i="error"),"string"==typeof i?{console:i,publish:"error"}:{console:null!==(e=i.console)&&void 0!==e?e:"error",publish:null!==(n=i.publish)&&void 0!==n?n:"error"}}(),connection:c,metrics:null===(r=t.metrics)||void 0===r||r,contexts:null===(s=t.contexts)||void 0===s||s,version:e.version||"5.0.6",libs:null!==(o=e.libs)&&void 0!==o?o:[],customLogger:t.customLogger}}(t=t||{},e=e||{},n),p={};function f(t,e,n){a.canPublish("trace")&&a.trace("registering "+t+" module");var i=function(){e.initTime=n.stop(),e.initEndTime=n.endTime,a.trace(t+" is ready")};e.initStartTime=n.startTime,e.ready?e.ready().then((function(){i()})):i(),Array.isArray(t)||(t=[t]),t.forEach((function(t){p[t]=e,dv[t]=e}))}function m(){var t,e,i,r,o,c,u,h,p,m,g=N_(),y=d.metrics,_=d.connection.identity,v=(null==n?void 0:n.getMetricsPublishingEnabled)||function(){return!0},b=(p={connection:y?s:void 0,logger:a.subLogger("metrics"),canUpdateMetric:v,system:"Glue42",service:null!==(t=null==_?void 0:_.service)&&void 0!==t?t:"metrics-service",instance:null!==(i=null!==(e=null==_?void 0:_.instance)&&void 0!==e?e:null==_?void 0:_.windowId)&&void 0!==i?i:I_()},m=p.connection&&"object"==typeof p.connection?function(t,n){if(!t||"object"!=typeof t)throw new Error("Connection is required parameter");var i,r,s=function(t){o(t),t.metrics.forEach((function(t){a(t)})),t.subSystems.forEach((function(t){s(t)}))},o=function(t){void 0!==t.parent&&i.then((function(){var e={name:Zy(t.path.join("/")+"/"+t.name+"/State"),type:"object",composite:{Description:{type:"string",description:""},Value:{type:"number",description:""}},description:"System state",context:{}};r.send({type:"define",metrics:[e]})}))},a=function(t){var e=c(t);i.then((function(){var t=function(t){var e={},n=Gy(t);if("object"===n){var i=Object.keys(t.value).reduce((function(e,n){var i=Yy(t.value[n]);if("object"===i){var r=function t(e){return Object.keys(e).reduce((function(n,i){var r=Yy(e[i]);return n[i]="object"===r?{type:"object",description:"",context:{},composite:t(e[i])}:{type:r,description:"",context:{}},n}),{})}(t.value[n]);e[n]={type:"object",description:"",context:{},composite:r}}else e[n]={type:i,description:"",context:{}};return e}),{});e.composite=i}return e.name=Zy(t.path.join("/")+"/"+t.name),e.type=n,e.description=t.description,e.context={},e}(e);r.send({type:"define",metrics:[t]}),void 0!==e.value&&l(e)}))},l=function(t){if(u()){var e=function(t){return"timestamp"===Gy(t)?Date.now():function t(e){return"object"!=typeof e?e:Object.keys(e).reduce((function(n,i){var r=e[i];return n[i]="object"==typeof r&&r.constructor!==Date?t(r):r.constructor===Date?new Date(r).getTime():r.constructor===Boolean?r.toString():r,n}),{})}(t.value)}(t),n={type:"publish",values:[{name:Zy(t.path.join("/")+"/"+t.name),value:e,timestamp:Date.now()}]};r.send(n)}},c=function(t){var e=$y({},t);return"object"==typeof t.value&&null!==t.value&&(e.value=$y({},t.value)),e},u=function(){var t;try{return(null!==(t=n.canUpdateMetric)&&void 0!==t?t:function(){return!0})()}catch(e){return!0}};return{init:function(e){var o;i=new Promise((function(t){o=t})),(r=t.domain("metrics")).onJoined((function(t){!t&&o&&(o(),o=void 0),r.send({type:"define",metrics:[{name:"/State",type:"object",composite:{Description:{type:"string",description:""},Value:{type:"number",description:""}},description:"System state",context:{}}]}),t&&function(t){s(t.root)}(e)})),r.join({system:n.system,service:n.service,instance:n.instance})},createSystem:o,updateSystem:function(e,n){i.then((function(){var i={type:"publish",values:[{name:Zy(e.path.join("/")+"/"+e.name+"/State"),value:{Description:n.description,Value:n.state},timestamp:Date.now()}]};r.send(i);var s=function(t){var e,n,i=function t(e){return e.reduce((function(e,n){return e.concat(Array.isArray(n)?t(n):n)}),[])}(t.root.getAggregateState()),r=i.sort((function(t,e){return t.state?e.state?e.state-t.state:-1:1}))[0];return{description:(e=i,n="",e.forEach((function(t,e,i){var r=t.path.join(".");n+=e===i.length-1?r+"."+t.name+": "+t.description:r+"."+t.name+": "+t.description+","})),n.length>100?n.slice(0,100)+"...":n),value:r.state}}(e),o={type:"publish",peer_id:t.peerId,values:[{name:"/State",value:{Description:s.description,Value:s.value},timestamp:Date.now()}]};r.send(o)}))},createMetric:a,updateMetric:function(t){var e=c(t);i.then((function(){return l(e)}))}}}(p.connection,p):new i_,new n_(p,m).root);return r="boolean"!=typeof y&&y.disableAutoAppSystem?b:b.subSystem("App"),f("metrics",(u=(o=r).subSystem("reporting"),h={name:"features"},o.featureMetric=function(t,e,n){if(void 0===t||""===t)throw new Error("name is mandatory");if(void 0===e||""===e)throw new Error("action is mandatory");if(void 0===n||""===n)throw new Error("payload is mandatory");c?c.update({name:t,action:e,payload:n}):c=u.objectMetric(h,{name:t,action:e,payload:n})},l=o),g),Promise.resolve()}function g(){if(d.contexts||d.activities&&3===s.protocolVersion){var t=N_();return f("contexts",c=new z_({connection:s,logger:a.subLogger("contexts")}),t),c}var e=s.replayer;e&&e.drain(M_.name)}function y(){return Wy(this,void 0,void 0,(function(){var t;return Uy(this,(function(e){return d.bus?(t=N_(),f("bus",u=new hv(s,a.subLogger("bus")),t),[2,Promise.resolve()]):[2,Promise.resolve()]}))}))}return r.then((function(){var t,e=N_();return(a=new D_(""+(null===(t=d.connection.identity)||void 0===t?void 0:t.application),void 0,d.customLogger)).consoleLevel(d.logger.console),a.publishLevel(d.logger.publish),f("logger",a,e),Promise.resolve(void 0)})).then((function(){var t=N_();s=new P_(d.connection,a.subLogger("connection"));var e=Promise.resolve(d.auth);return d.connection&&!d.auth&&(n?(a.trace("trying to get gw token..."),e=n.getGWToken().then((function(t){return a.trace("got GW token "+(null==t?void 0:t.substring(t.length-10))),{gatewayToken:t}}))):e=Promise.reject("You need to provide auth information")),e.then((function(t){if("[object Object]"!==Object.prototype.toString.call(t))throw new Error("Invalid auth object - "+JSON.stringify(t));return s.login(t)})).then((function(){return f("connection",s,t),d})).catch((function(t){throw s&&s.logout(),t}))})).then((function(){return Promise.all([m(),(t=N_(),e={connection:s,logger:a.subLogger("interop")},o=new cv(e),D_.Interop=o,f(["interop","agm"],o,t),Promise.resolve()),g(),y()]);var t,e})).then((function(){return o.readyPromise})).then((function(){return function(t){try{return t.forEach((function(t){!function(t,e){var n=N_(),i=e(p);i&&f(t,i,n)}(t.name,t.create)})),Promise.resolve()}catch(e){return Promise.reject(e)}}(d.libs||[])})).then((function(){var t=Object.keys(p).map((function(t){var e=p[t];return e.ready?e.ready():Promise.resolve()}));return Promise.all(t)})).then((function(){var i={coreVersion:"5.0.6",version:d.version};h.stop();var r={feedback:function(t){o&&o.invoke("T42.ACS.Feedback",t,"best")},info:i,logger:a,interop:o,agm:o,connection:s,metrics:l,contexts:c,bus:u,version:d.version,userConfig:t,done:function(){return null==a||a.info("done called by user..."),s.logout()}};return r.performance={get glueVer(){return d.version},get glueConfig(){return JSON.stringify(t)},get browser(){return window.performance.timing.toJSON()},get memory(){return window.performance.memory},get initTimes(){var t=Object.keys(r).filter((function(t){var e;return"initTimes"!==t&&"agm"!==t&&(null===(e=r[t])||void 0===e?void 0:e.initTime)})).map((function(t){return{name:t,time:r[t].initTime,startTime:r[t].initStartTime,endTime:r[t].initEndTime}}));return t.push({name:"glue",startTime:h.startTime,endTime:h.endTime,time:h.period}),t}},Object.keys(p).forEach((function(t){r[t]=p[t]})),r.config={},Object.keys(d).forEach((function(t){r.config[t]=d[t]})),e&&e.extOptions&&Object.keys(e.extOptions).forEach((function(t){r.config[t]=null==e?void 0:e.extOptions[t]})),(null==e?void 0:e.enrichGlue)&&e.enrichGlue(r),n&&n.updatePerfData&&n.updatePerfData(r.performance),r})).catch((function(t){return Promise.reject({err:t,libs:p})}))};"undefined"!=typeof window&&(window.GlueCore=dv),dv.version="5.0.6",dv.default=dv;var pv,fv=(pv=dv,function(t){return ry(void 0,void 0,void 0,(function(){var e,n,i,r,s,o,a,l,c,u,h,d,p,f,m,g,y,_,v,b,w;return sy(this,(function(C){switch(C.label){case 0:return[4,(k=t,ry(void 0,void 0,void 0,(function(){var t,e,n,i;return sy(this,(function(r){switch(r.label){case 0:return[4,Vy(k=null!=k?k:{})];case 1:return t=r.sent(),(null==(e=iy(iy(iy({},Ly),t.glue),k))?void 0:e.extends)&&(n=e.extends.lastIndexOf("/"),i=e.extends.substr(0,n+1)+"worker.js",e.worker=i),[2,iy(iy({},t),{glue:e})]}}))})))];case 1:return e=C.sent(),n="undefined"!=typeof window,i=(null===(h=e.glue)||void 0===h?void 0:h.channels)||!1,n&&(null==(r=window)?void 0:r.glue42gd)&&(null==r?void 0:r.Glue)?[2,r.Glue({windows:!0,logger:null===(d=e.glue)||void 0===d?void 0:d.logger,channels:i})]:(s=new Ey,a={libs:[{name:"notifications",create:function(t){return new jy(t.interop)}}],version:"1.1.1"},i&&(l={name:"channels",create:function(t){return new Fy(t.contexts,e.channels)}},null===(p=a.libs)||void 0===p||p.push(l)),n&&(null===(f=a.libs)||void 0===f||f.push({name:"windows",create:function(t){return o=new Ry(t.interop,s)}},{name:"layouts",create:function(t){return new My(o,t.interop,t.logger.subLogger("layouts"),s,e.glue)}})),c={gateway:{sharedWorker:null!==(g=null===(m=e.glue)||void 0===m?void 0:m.worker)&&void 0!==g?g:"/glue/worker.js",inproc:null===(y=e.glue)||void 0===y?void 0:y.inproc},logger:null===(_=e.glue)||void 0===_?void 0:_.logger},[4,pv(c,a)]);case 2:return u=C.sent(),s.start(u.interop,u.logger.subLogger("control")),n?[4,(S=u.windows.my(),x=u.interop,ry(void 0,void 0,void 0,(function(){var t,e;return sy(this,(function(n){switch(n.label){case 0:return t=Py(S.id),x.methods().find((function(e){return e.name===t}))?[4,x.invoke(t)]:[3,2];case 1:e=n.sent(),S&&(S.setContext(e.returned.context),S.name=e.returned.name,S.parent=e.returned.parent),n.label=2;case 2:return[2]}}))})))]:[3,7];case 3:return C.sent(),(null===(b=null===(v=e.glue)||void 0===v?void 0:v.layouts)||void 0===b?void 0:b.autoRestore)?[4,By(u)]:[3,5];case 4:C.sent(),C.label=5;case 5:return[4,Hy(u,null!==(w=e.glue)&&void 0!==w?w:{},s)];case 6:C.sent(),C.label=7;case 7:return[2,u]}var S,x,k}))}))});if("undefined"!=typeof window){var mv=window;mv.GlueWeb=fv,delete mv.GlueCore}fv.default=fv,fv.version="1.1.1";var gv=fv;let yv=(()=>{class t{}return t.\u0275mod=pe({type:t,bootstrap:[ey]}),t.\u0275inj=lt({factory:function(e){return new(e||t)},providers:[fu],imports:[[Kc,pu.forRoot({factory:gv,config:{channels:!0}}),xp,Xg]]}),t})();(function(){if(ri)throw new Error("Cannot enable prod mode after platform setup.");ii=!1})(),Wc().bootstrapModule(yv).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]]);